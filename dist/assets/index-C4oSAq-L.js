var yI=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var AL=yI((er,tr)=>{function h0(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function ch(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uf={exports:{}},_l={},cf={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function vI(){if(Ay)return Ye;Ay=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,M={};function x(k,Z,he){this.props=k,this.context=Z,this.refs=M,this.updater=he||N}x.prototype.isReactComponent={},x.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},x.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function K(){}K.prototype=x.prototype;function te(k,Z,he){this.props=k,this.context=Z,this.refs=M,this.updater=he||N}var ee=te.prototype=new K;ee.constructor=te,F(ee,x.prototype),ee.isPureReactComponent=!0;var re=Array.isArray,X=Object.prototype.hasOwnProperty,L={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function S(k,Z,he){var Ce,ke={},je=null,Be=null;if(Z!=null)for(Ce in Z.ref!==void 0&&(Be=Z.ref),Z.key!==void 0&&(je=""+Z.key),Z)X.call(Z,Ce)&&!R.hasOwnProperty(Ce)&&(ke[Ce]=Z[Ce]);var We=arguments.length-2;if(We===1)ke.children=he;else if(1<We){for(var Qe=Array(We),Mt=0;Mt<We;Mt++)Qe[Mt]=arguments[Mt+2];ke.children=Qe}if(k&&k.defaultProps)for(Ce in We=k.defaultProps,We)ke[Ce]===void 0&&(ke[Ce]=We[Ce]);return{$$typeof:n,type:k,key:je,ref:Be,props:ke,_owner:L.current}}function C(k,Z){return{$$typeof:n,type:k.type,key:Z,ref:k.ref,props:k.props,_owner:k._owner}}function b(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function D(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(he){return Z[he]})}var V=/\/+/g;function A(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):Z.toString(36)}function Oe(k,Z,he,Ce,ke){var je=typeof k;(je==="undefined"||je==="boolean")&&(k=null);var Be=!1;if(k===null)Be=!0;else switch(je){case"string":case"number":Be=!0;break;case"object":switch(k.$$typeof){case n:case e:Be=!0}}if(Be)return Be=k,ke=ke(Be),k=Ce===""?"."+A(Be,0):Ce,re(ke)?(he="",k!=null&&(he=k.replace(V,"$&/")+"/"),Oe(ke,Z,he,"",function(Mt){return Mt})):ke!=null&&(b(ke)&&(ke=C(ke,he+(!ke.key||Be&&Be.key===ke.key?"":(""+ke.key).replace(V,"$&/")+"/")+k)),Z.push(ke)),1;if(Be=0,Ce=Ce===""?".":Ce+":",re(k))for(var We=0;We<k.length;We++){je=k[We];var Qe=Ce+A(je,We);Be+=Oe(je,Z,he,Qe,ke)}else if(Qe=I(k),typeof Qe=="function")for(k=Qe.call(k),We=0;!(je=k.next()).done;)je=je.value,Qe=Ce+A(je,We++),Be+=Oe(je,Z,he,Qe,ke);else if(je==="object")throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Be}function lt(k,Z,he){if(k==null)return k;var Ce=[],ke=0;return Oe(k,Ce,"","",function(je){return Z.call(he,je,ke++)}),Ce}function Ge(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(he){(k._status===0||k._status===-1)&&(k._status=1,k._result=he)},function(he){(k._status===0||k._status===-1)&&(k._status=2,k._result=he)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var Se={current:null},ae={transition:null},ye={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ae,ReactCurrentOwner:L};return Ye.Children={map:lt,forEach:function(k,Z,he){lt(k,function(){Z.apply(this,arguments)},he)},count:function(k){var Z=0;return lt(k,function(){Z++}),Z},toArray:function(k){return lt(k,function(Z){return Z})||[]},only:function(k){if(!b(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ye.Component=x,Ye.Fragment=t,Ye.Profiler=o,Ye.PureComponent=te,Ye.StrictMode=i,Ye.Suspense=p,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ye.cloneElement=function(k,Z,he){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var Ce=F({},k.props),ke=k.key,je=k.ref,Be=k._owner;if(Z!=null){if(Z.ref!==void 0&&(je=Z.ref,Be=L.current),Z.key!==void 0&&(ke=""+Z.key),k.type&&k.type.defaultProps)var We=k.type.defaultProps;for(Qe in Z)X.call(Z,Qe)&&!R.hasOwnProperty(Qe)&&(Ce[Qe]=Z[Qe]===void 0&&We!==void 0?We[Qe]:Z[Qe])}var Qe=arguments.length-2;if(Qe===1)Ce.children=he;else if(1<Qe){We=Array(Qe);for(var Mt=0;Mt<Qe;Mt++)We[Mt]=arguments[Mt+2];Ce.children=We}return{$$typeof:n,type:k.type,key:ke,ref:je,props:Ce,_owner:Be}},Ye.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Ye.createElement=S,Ye.createFactory=function(k){var Z=S.bind(null,k);return Z.type=k,Z},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(k){return{$$typeof:d,render:k}},Ye.isValidElement=b,Ye.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:Ge}},Ye.memo=function(k,Z){return{$$typeof:y,type:k,compare:Z===void 0?null:Z}},Ye.startTransition=function(k){var Z=ae.transition;ae.transition={};try{k()}finally{ae.transition=Z}},Ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ye.useCallback=function(k,Z){return Se.current.useCallback(k,Z)},Ye.useContext=function(k){return Se.current.useContext(k)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(k){return Se.current.useDeferredValue(k)},Ye.useEffect=function(k,Z){return Se.current.useEffect(k,Z)},Ye.useId=function(){return Se.current.useId()},Ye.useImperativeHandle=function(k,Z,he){return Se.current.useImperativeHandle(k,Z,he)},Ye.useInsertionEffect=function(k,Z){return Se.current.useInsertionEffect(k,Z)},Ye.useLayoutEffect=function(k,Z){return Se.current.useLayoutEffect(k,Z)},Ye.useMemo=function(k,Z){return Se.current.useMemo(k,Z)},Ye.useReducer=function(k,Z,he){return Se.current.useReducer(k,Z,he)},Ye.useRef=function(k){return Se.current.useRef(k)},Ye.useState=function(k){return Se.current.useState(k)},Ye.useSyncExternalStore=function(k,Z,he){return Se.current.useSyncExternalStore(k,Z,he)},Ye.useTransition=function(){return Se.current.useTransition()},Ye.version="18.2.0",Ye}var Py;function Rp(){return Py||(Py=1,cf.exports=vI()),cf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function _I(){if(xy)return _l;xy=1;var n=Rp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,w={},I=null,N=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(N=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:I,ref:N,props:w,_owner:o.current}}return _l.Fragment=t,_l.jsx=c,_l.jsxs=c,_l}var ky;function EI(){return ky||(ky=1,uf.exports=_I()),uf.exports}var z=EI(),U=Rp();const ot=ch(U),wI=h0({__proto__:null,default:ot},[U]);var _c={},hf={exports:{}},jn={},df={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function TI(){return by||(by=1,function(n){function e(ae,ye){var k=ae.length;ae.push(ye);e:for(;0<k;){var Z=k-1>>>1,he=ae[Z];if(0<o(he,ye))ae[Z]=ye,ae[k]=he,k=Z;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ye=ae[0],k=ae.pop();if(k!==ye){ae[0]=k;e:for(var Z=0,he=ae.length,Ce=he>>>1;Z<Ce;){var ke=2*(Z+1)-1,je=ae[ke],Be=ke+1,We=ae[Be];if(0>o(je,k))Be<he&&0>o(We,je)?(ae[Z]=We,ae[Be]=k,Z=Be):(ae[Z]=je,ae[ke]=k,Z=ke);else if(Be<he&&0>o(We,k))ae[Z]=We,ae[Be]=k,Z=Be;else break e}}return ye}function o(ae,ye){var k=ae.sortIndex-ye.sortIndex;return k!==0?k:ae.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,w=null,I=3,N=!1,F=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(ae){for(var ye=t(y);ye!==null;){if(ye.callback===null)i(y);else if(ye.startTime<=ae)i(y),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=t(y)}}function re(ae){if(M=!1,ee(ae),!F)if(t(p)!==null)F=!0,Ge(X);else{var ye=t(y);ye!==null&&Se(re,ye.startTime-ae)}}function X(ae,ye){F=!1,M&&(M=!1,K(S),S=-1),N=!0;var k=I;try{for(ee(ye),w=t(p);w!==null&&(!(w.expirationTime>ye)||ae&&!D());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,I=w.priorityLevel;var he=Z(w.expirationTime<=ye);ye=n.unstable_now(),typeof he=="function"?w.callback=he:w===t(p)&&i(p),ee(ye)}else i(p);w=t(p)}if(w!==null)var Ce=!0;else{var ke=t(y);ke!==null&&Se(re,ke.startTime-ye),Ce=!1}return Ce}finally{w=null,I=k,N=!1}}var L=!1,R=null,S=-1,C=5,b=-1;function D(){return!(n.unstable_now()-b<C)}function V(){if(R!==null){var ae=n.unstable_now();b=ae;var ye=!0;try{ye=R(!0,ae)}finally{ye?A():(L=!1,R=null)}}else L=!1}var A;if(typeof te=="function")A=function(){te(V)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,lt=Oe.port2;Oe.port1.onmessage=V,A=function(){lt.postMessage(null)}}else A=function(){x(V,0)};function Ge(ae){R=ae,L||(L=!0,A())}function Se(ae,ye){S=x(function(){ae(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){F||N||(F=!0,Ge(X))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var k=I;I=ye;try{return ae()}finally{I=k}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var k=I;I=ae;try{return ye()}finally{I=k}},n.unstable_scheduleCallback=function(ae,ye,k){var Z=n.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Z+k:Z):k=Z,ae){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=k+he,ae={id:_++,callback:ye,priorityLevel:ae,startTime:k,expirationTime:he,sortIndex:-1},k>Z?(ae.sortIndex=k,e(y,ae),t(p)===null&&ae===t(y)&&(M?(K(S),S=-1):M=!0,Se(re,k-Z))):(ae.sortIndex=he,e(p,ae),F||N||(F=!0,Ge(X))),ae},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(ae){var ye=I;return function(){var k=I;I=ye;try{return ae.apply(this,arguments)}finally{I=k}}}}(ff)),ff}var Ny;function II(){return Ny||(Ny=1,df.exports=TI()),df.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function SI(){if(Dy)return jn;Dy=1;var n=Rp(),e=II();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function I(r){return p.call(w,r)?!0:p.call(_,r)?!1:y.test(r)?w[r]=!0:(_[r]=!0,!1)}function N(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,a,h){if(s===null||typeof s>"u"||N(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,a,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];x[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(K,te);x[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(K,te);x[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(K,te);x[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,s,a,h){var f=x.hasOwnProperty(s)?x[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,a,f,h)&&(a=null),h||f===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),L=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var k=Object.assign,Z;function he(r){if(Z===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Z=s&&s[1]||""}return`
`+Z+r}var Ce=!1;function ke(r,s){if(!r||Ce)return"";Ce=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var h=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){h=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){h=Q}r()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var f=Q.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,P=g.length-1;1<=E&&0<=P&&f[E]!==g[P];)P--;for(;1<=E&&0<=P;E--,P--)if(f[E]!==g[P]){if(E!==1||P!==1)do if(E--,P--,0>P||f[E]!==g[P]){var O=`
`+f[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=P);break}}}finally{Ce=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?he(r):""}function je(r){switch(r.tag){case 5:return he(r.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 2:case 15:return r=ke(r.type,!1),r;case 11:return r=ke(r.type.render,!1),r;case 1:return r=ke(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case L:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Oe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case V:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case lt:return s=r.displayName||null,s!==null?s:Be(r.type)||"Memo";case Ge:s=r._payload,r=r._init;try{return Be(r(s))}catch{}}return null}function We(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Mt(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yr(r){var s=Mt(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mt(r){r._valueTracker||(r._valueTracker=yr(r))}function xn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Mt(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function kn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function vr(r,s){var a=s.checked;return k({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function dn(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Qe(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function li(r,s){s=s.checked,s!=null&&ee(r,"checked",s,!1)}function ui(r,s){li(r,s);var a=Qe(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?nr(r,s.type,a):s.hasOwnProperty("defaultValue")&&nr(r,s.type,Qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function zi(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function nr(r,s,a){(s!=="number"||kn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Bn=Array.isArray;function sn(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Qe(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function G(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return k({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function de(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Bn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Qe(a)}}function pe(r,s){var a=Qe(s.value),h=Qe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Te(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Re(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xe(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Re(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var gt,Rt=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(gt=gt||document.createElement("div"),gt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=gt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Tn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rr=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(r){rr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),bn[s]=bn[r]})});function Lr(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||bn.hasOwnProperty(r)&&bn[r]?(""+s).trim():s+"px"}function Mr(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Lr(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Vr=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $i(r,s){if(s){if(Vr[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ci(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hi=null;function di(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bi=null,In=null,ir=null;function $(r){if(r=il(r)){if(typeof Bi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ou(s),Bi(r.stateNode,r.type,s))}}function W(r){In?ir?ir.push(r):ir=[r]:In=r}function J(){if(In){var r=In,s=ir;if(ir=In=null,$(r),s)for(r=0;r<s.length;r++)$(s[r])}}function ue(r,s){return r(s)}function Ee(){}var Me=!1;function be(r,s,a){if(Me)return r(s,a);Me=!0;try{return ue(r,s,a)}finally{Me=!1,(In!==null||ir!==null)&&(Ee(),J())}}function me(r,s){var a=r.stateNode;if(a===null)return null;var h=Ou(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ae=!1;if(d)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch{Ae=!1}function vt(r,s,a,h,f,g,E,P,O){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(a,Q)}catch(se){this.onError(se)}}var Ve=!1,it=null,dt=!1,Xt=null,bt={onError:function(r){Ve=!0,it=r}};function Hn(r,s,a,h,f,g,E,P,O){Ve=!1,it=null,vt.apply(bt,arguments)}function Hi(r,s,a,h,f,g,E,P,O){if(Hn.apply(this,arguments),Ve){if(Ve){var Q=it;Ve=!1,it=null}else throw Error(t(198));dt||(dt=!0,Xt=Q)}}function Yt(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function fn(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ht(r){if(Yt(r)!==r)throw Error(t(188))}function qi(r){var s=r.alternate;if(!s){if(s=Yt(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Ht(f),r;if(g===h)return Ht(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var E=!1,P=f.child;P;){if(P===a){E=!0,a=f,h=g;break}if(P===h){E=!0,h=f,a=g;break}P=P.sibling}if(!E){for(P=g.child;P;){if(P===a){E=!0,a=g,h=f;break}if(P===h){E=!0,h=g,a=f;break}P=P.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function fi(r){return r=qi(r),r!==null?Fr(r):null}function Fr(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Fr(r);if(s!==null)return s;r=r.sibling}return null}var qn=e.unstable_scheduleCallback,jr=e.unstable_cancelCallback,ut=e.unstable_shouldYield,pt=e.unstable_requestPaint,Xe=e.unstable_now,pi=e.unstable_getCurrentPriorityLevel,mi=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,za=e.unstable_LowPriority,uu=e.unstable_IdlePriority,js=null,Wn=null;function cu(r){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(js,r,void 0,(r.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:du,$a=Math.log,hu=Math.LN2;function du(r){return r>>>=0,r===0?32:31-($a(r)/hu|0)|0}var No=64,Do=4194304;function Ki(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Us(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var P=E&~f;P!==0?h=Ki(P):(g&=E,g!==0&&(h=Ki(g)))}else E=a&~f,E!==0?h=Ki(E):g!==0&&(h=Ki(g));if(h===0)return 0;if(s!==0&&s!==h&&(s&f)===0&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Sn(s),f=1<<a,h|=r[a],s&=~f;return h}function Fh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Sn(g),P=1<<E,O=f[E];O===-1?((P&a)===0||(P&h)!==0)&&(f[E]=Fh(P,s)):O<=s&&(r.expiredLanes|=P),g&=~P}}function Kn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zs(){var r=No;return No<<=1,(No&4194240)===0&&(No=64),r}function Gi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Qi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Sn(s),r[s]=a}function yt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Sn(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Xi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Sn(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var et=0;function Yi(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var fu,Oo,pu,mu,gu,Ba=!1,Ur=[],on=null,_r=null,Er=null,Ji=new Map,or=new Map,zr=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yu(r,s){switch(r){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ji.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(s.pointerId)}}function Nn(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=il(s),s!==null&&Oo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Uh(r,s,a,h,f){switch(s){case"focusin":return on=Nn(on,r,s,a,h,f),!0;case"dragenter":return _r=Nn(_r,r,s,a,h,f),!0;case"mouseover":return Er=Nn(Er,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return Ji.set(g,Nn(Ji.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,or.set(g,Nn(or.get(g)||null,r,s,a,h,f)),!0}return!1}function vu(r){var s=Ws(r.target);if(s!==null){var a=Yt(s);if(a!==null){if(s=a.tag,s===13){if(s=fn(a),s!==null){r.blockedOn=s,gu(r.priority,function(){pu(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function yi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Lo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);hi=h,a.target.dispatchEvent(h),hi=null}else return s=il(a),s!==null&&Oo(s),r.blockedOn=a,!1;s.shift()}return!0}function $s(r,s,a){yi(r)&&a.delete(s)}function _u(){Ba=!1,on!==null&&yi(on)&&(on=null),_r!==null&&yi(_r)&&(_r=null),Er!==null&&yi(Er)&&(Er=null),Ji.forEach($s),or.forEach($s)}function wr(r,s){r.blockedOn===s&&(r.blockedOn=null,Ba||(Ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_u)))}function Tr(r){function s(f){return wr(f,r)}if(0<Ur.length){wr(Ur[0],r);for(var a=1;a<Ur.length;a++){var h=Ur[a];h.blockedOn===r&&(h.blockedOn=null)}}for(on!==null&&wr(on,r),_r!==null&&wr(_r,r),Er!==null&&wr(Er,r),Ji.forEach(s),or.forEach(s),a=0;a<zr.length;a++)h=zr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)vu(a),a.blockedOn===null&&zr.shift()}var vi=re.ReactCurrentBatchConfig,Zi=!0;function Ct(r,s,a,h){var f=et,g=vi.transition;vi.transition=null;try{et=1,Ha(r,s,a,h)}finally{et=f,vi.transition=g}}function zh(r,s,a,h){var f=et,g=vi.transition;vi.transition=null;try{et=4,Ha(r,s,a,h)}finally{et=f,vi.transition=g}}function Ha(r,s,a,h){if(Zi){var f=Lo(r,s,a,h);if(f===null)Jh(r,s,h,Bs,a),yu(r,h);else if(Uh(f,r,s,a,h))h.stopPropagation();else if(yu(r,h),s&4&&-1<jh.indexOf(r)){for(;f!==null;){var g=il(f);if(g!==null&&fu(g),g=Lo(r,s,a,h),g===null&&Jh(r,s,h,Bs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Jh(r,s,h,null,a)}}var Bs=null;function Lo(r,s,a,h){if(Bs=null,r=di(h),r=Ws(r),r!==null)if(s=Yt(r),s===null)r=null;else if(a=s.tag,a===13){if(r=fn(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Bs=r,null}function qa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pi()){case mi:return 1;case Wi:return 4;case sr:case za:return 16;case uu:return 536870912;default:return 16}default:return 16}}var Gn=null,Mo=null,Dn=null;function Wa(){if(Dn)return Dn;var r,s=Mo,a=s.length,h,f="value"in Gn?Gn.value:Gn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===f[g-h];h++);return Dn=f.slice(r,1<h?1-h:void 0)}function Vo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function Ka(){return!1}function an(r){function s(a,h,f,g,E){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(a=r[P],this[P]=a?a(g):g[P]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$r:Ka,this.isPropagationStopped=Ka,this}return k(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),s}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=an(Ir),Br=k({},Ir,{view:0,detail:0}),$h=an(Br),jo,_i,es,Hs=k({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==es&&(es&&r.type==="mousemove"?(jo=r.screenX-es.screenX,_i=r.screenY-es.screenY):_i=jo=0,es=r),jo)},movementY:function(r){return"movementY"in r?r.movementY:_i}}),Uo=an(Hs),Ga=k({},Hs,{dataTransfer:0}),Eu=an(Ga),zo=k({},Br,{relatedTarget:0}),$o=an(zo),wu=k({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Ei=an(wu),Tu=k({},Ir,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Iu=an(Tu),Su=k({},Ir,{data:0}),Qa=an(Su),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ru[r])?!!s[r]:!1}function Hr(){return Cu}var u=k({},Br,{key:function(r){if(r.key){var s=Bo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Vo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(r){return r.type==="keypress"?Vo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=an(u),v=k({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T=an(v),B=k({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),Y=an(B),ce=k({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=an(ce),qt=k({},Hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=an(qt),Jt=[9,13,27,32],Ut=d&&"CompositionEvent"in window,ar=null;d&&"documentMode"in document&&(ar=document.documentMode);var Qn=d&&"TextEvent"in window&&!ar,qs=d&&(!Ut||ar&&8<ar&&11>=ar),Ho=" ",Em=!1;function wm(r,s){switch(r){case"keyup":return Jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qo=!1;function pT(r,s){switch(r){case"compositionend":return Tm(s);case"keypress":return s.which!==32?null:(Em=!0,Ho);case"textInput":return r=s.data,r===Ho&&Em?null:r;default:return null}}function mT(r,s){if(qo)return r==="compositionend"||!Ut&&wm(r,s)?(r=Wa(),Dn=Mo=Gn=null,qo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qs&&s.locale!=="ko"?null:s.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Im(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!gT[r.type]:s==="textarea"}function Sm(r,s,a,h){W(h),s=bu(s,"onChange"),0<s.length&&(a=new Fo("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Xa=null,Ya=null;function yT(r){$m(r,0)}function Au(r){var s=Xo(r);if(xn(s))return r}function vT(r,s){if(r==="change")return s}var Rm=!1;if(d){var Bh;if(d){var Hh="oninput"in document;if(!Hh){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),Hh=typeof Cm.oninput=="function"}Bh=Hh}else Bh=!1;Rm=Bh&&(!document.documentMode||9<document.documentMode)}function Am(){Xa&&(Xa.detachEvent("onpropertychange",Pm),Ya=Xa=null)}function Pm(r){if(r.propertyName==="value"&&Au(Ya)){var s=[];Sm(s,Ya,r,di(r)),be(yT,s)}}function _T(r,s,a){r==="focusin"?(Am(),Xa=s,Ya=a,Xa.attachEvent("onpropertychange",Pm)):r==="focusout"&&Am()}function ET(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Au(Ya)}function wT(r,s){if(r==="click")return Au(s)}function TT(r,s){if(r==="input"||r==="change")return Au(s)}function IT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sr=typeof Object.is=="function"?Object.is:IT;function Ja(r,s){if(Sr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!Sr(r[f],s[f]))return!1}return!0}function xm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function km(r,s){var a=xm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xm(a)}}function bm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?bm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Nm(){for(var r=window,s=kn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=kn(r.document)}return s}function qh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ST(r){var s=Nm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&bm(a.ownerDocument.documentElement,a)){if(h!==null&&qh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=km(a,g);var E=km(a,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var RT=d&&"documentMode"in document&&11>=document.documentMode,Wo=null,Wh=null,Za=null,Kh=!1;function Dm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||Wo==null||Wo!==kn(h)||(h=Wo,"selectionStart"in h&&qh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Za&&Ja(Za,h)||(Za=h,h=bu(Wh,"onSelect"),0<h.length&&(s=new Fo("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Wo)))}function Pu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ko={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},Gh={},Om={};d&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function xu(r){if(Gh[r])return Gh[r];if(!Ko[r])return r;var s=Ko[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Om)return Gh[r]=s[a];return r}var Lm=xu("animationend"),Mm=xu("animationiteration"),Vm=xu("animationstart"),Fm=xu("transitionend"),jm=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(r,s){jm.set(r,s),l(s,[r])}for(var Qh=0;Qh<Um.length;Qh++){var Xh=Um[Qh],CT=Xh.toLowerCase(),AT=Xh[0].toUpperCase()+Xh.slice(1);ts(CT,"on"+AT)}ts(Lm,"onAnimationEnd"),ts(Mm,"onAnimationIteration"),ts(Vm,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(Fm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PT=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function zm(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Hi(h,s,void 0,r),r.currentTarget=null}function $m(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var P=h[E],O=P.instance,Q=P.currentTarget;if(P=P.listener,O!==g&&f.isPropagationStopped())break e;zm(f,P,Q),g=O}else for(E=0;E<h.length;E++){if(P=h[E],O=P.instance,Q=P.currentTarget,P=P.listener,O!==g&&f.isPropagationStopped())break e;zm(f,P,Q),g=O}}}if(dt)throw r=Xt,dt=!1,Xt=null,r}function wt(r,s){var a=s[id];a===void 0&&(a=s[id]=new Set);var h=r+"__bubble";a.has(h)||(Bm(s,r,2,!1),a.add(h))}function Yh(r,s,a){var h=0;s&&(h|=4),Bm(a,r,h,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function tl(r){if(!r[ku]){r[ku]=!0,i.forEach(function(a){a!=="selectionchange"&&(PT.has(a)||Yh(a,!1,r),Yh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ku]||(s[ku]=!0,Yh("selectionchange",!1,s))}}function Bm(r,s,a,h){switch(qa(s)){case 1:var f=Ct;break;case 4:f=zh;break;default:f=Ha}a=f.bind(null,s,a,r),f=void 0,!Ae||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Jh(r,s,a,h,f){var g=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var P=h.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;E=E.return}for(;P!==null;){if(E=Ws(P),E===null)return;if(O=E.tag,O===5||O===6){h=g=E;continue e}P=P.parentNode}}h=h.return}be(function(){var Q=g,se=di(a),oe=[];e:{var ie=jm.get(r);if(ie!==void 0){var ge=Fo,we=r;switch(r){case"keypress":if(Vo(a)===0)break e;case"keydown":case"keyup":ge=m;break;case"focusin":we="focus",ge=$o;break;case"focusout":we="blur",ge=$o;break;case"beforeblur":case"afterblur":ge=$o;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Y;break;case Lm:case Mm:case Vm:ge=Ei;break;case Fm:ge=ft;break;case"scroll":ge=$h;break;case"wheel":ge=tt;break;case"copy":case"cut":case"paste":ge=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=T}var Ie=(s&4)!==0,Vt=!Ie&&r==="scroll",H=Ie?ie!==null?ie+"Capture":null:ie;Ie=[];for(var j=Q,q;j!==null;){q=j;var le=q.stateNode;if(q.tag===5&&le!==null&&(q=le,H!==null&&(le=me(j,H),le!=null&&Ie.push(nl(j,le,q)))),Vt)break;j=j.return}0<Ie.length&&(ie=new ge(ie,we,null,a,se),oe.push({event:ie,listeners:Ie}))}}if((s&7)===0){e:{if(ie=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",ie&&a!==hi&&(we=a.relatedTarget||a.fromElement)&&(Ws(we)||we[wi]))break e;if((ge||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(we=a.relatedTarget||a.toElement,ge=Q,we=we?Ws(we):null,we!==null&&(Vt=Yt(we),we!==Vt||we.tag!==5&&we.tag!==6)&&(we=null)):(ge=null,we=Q),ge!==we)){if(Ie=Uo,le="onMouseLeave",H="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=T,le="onPointerLeave",H="onPointerEnter",j="pointer"),Vt=ge==null?ie:Xo(ge),q=we==null?ie:Xo(we),ie=new Ie(le,j+"leave",ge,a,se),ie.target=Vt,ie.relatedTarget=q,le=null,Ws(se)===Q&&(Ie=new Ie(H,j+"enter",we,a,se),Ie.target=q,Ie.relatedTarget=Vt,le=Ie),Vt=le,ge&&we)t:{for(Ie=ge,H=we,j=0,q=Ie;q;q=Go(q))j++;for(q=0,le=H;le;le=Go(le))q++;for(;0<j-q;)Ie=Go(Ie),j--;for(;0<q-j;)H=Go(H),q--;for(;j--;){if(Ie===H||H!==null&&Ie===H.alternate)break t;Ie=Go(Ie),H=Go(H)}Ie=null}else Ie=null;ge!==null&&Hm(oe,ie,ge,Ie,!1),we!==null&&Vt!==null&&Hm(oe,Vt,we,Ie,!0)}}e:{if(ie=Q?Xo(Q):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Pe=vT;else if(Im(ie))if(Rm)Pe=TT;else{Pe=ET;var Ne=_T}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Pe=wT);if(Pe&&(Pe=Pe(r,Q))){Sm(oe,Pe,a,se);break e}Ne&&Ne(r,ie,Q),r==="focusout"&&(Ne=ie._wrapperState)&&Ne.controlled&&ie.type==="number"&&nr(ie,"number",ie.value)}switch(Ne=Q?Xo(Q):window,r){case"focusin":(Im(Ne)||Ne.contentEditable==="true")&&(Wo=Ne,Wh=Q,Za=null);break;case"focusout":Za=Wh=Wo=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Dm(oe,a,se);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":Dm(oe,a,se)}var De;if(Ut)e:{switch(r){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else qo?wm(r,a)&&(ze="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(qs&&a.locale!=="ko"&&(qo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&qo&&(De=Wa()):(Gn=se,Mo="value"in Gn?Gn.value:Gn.textContent,qo=!0)),Ne=bu(Q,ze),0<Ne.length&&(ze=new Qa(ze,r,null,a,se),oe.push({event:ze,listeners:Ne}),De?ze.data=De:(De=Tm(a),De!==null&&(ze.data=De)))),(De=Qn?pT(r,a):mT(r,a))&&(Q=bu(Q,"onBeforeInput"),0<Q.length&&(se=new Qa("onBeforeInput","beforeinput",null,a,se),oe.push({event:se,listeners:Q}),se.data=De))}$m(oe,s)})}function nl(r,s,a){return{instance:r,listener:s,currentTarget:a}}function bu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=me(r,a),g!=null&&h.unshift(nl(r,g,f)),g=me(r,s),g!=null&&h.push(nl(r,g,f))),r=r.return}return h}function Go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Hm(r,s,a,h,f){for(var g=s._reactName,E=[];a!==null&&a!==h;){var P=a,O=P.alternate,Q=P.stateNode;if(O!==null&&O===h)break;P.tag===5&&Q!==null&&(P=Q,f?(O=me(a,g),O!=null&&E.unshift(nl(a,O,P))):f||(O=me(a,g),O!=null&&E.push(nl(a,O,P)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var xT=/\r\n?/g,kT=/\u0000|\uFFFD/g;function qm(r){return(typeof r=="string"?r:""+r).replace(xT,`
`).replace(kT,"")}function Nu(r,s,a){if(s=qm(s),qm(r)!==s&&a)throw Error(t(425))}function Du(){}var Zh=null,ed=null;function td(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,bT=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(r){return Wm.resolve(null).then(r).catch(DT)}:nd;function DT(r){setTimeout(function(){throw r})}function rd(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),Tr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);Tr(s)}function ns(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Km(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),qr="__reactFiber$"+Qo,rl="__reactProps$"+Qo,wi="__reactContainer$"+Qo,id="__reactEvents$"+Qo,OT="__reactListeners$"+Qo,LT="__reactHandles$"+Qo;function Ws(r){var s=r[qr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[wi]||a[qr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Km(r);r!==null;){if(a=r[qr])return a;r=Km(r)}return s}r=a,a=r.parentNode}return null}function il(r){return r=r[qr]||r[wi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Xo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ou(r){return r[rl]||null}var sd=[],Yo=-1;function rs(r){return{current:r}}function Tt(r){0>Yo||(r.current=sd[Yo],sd[Yo]=null,Yo--)}function _t(r,s){Yo++,sd[Yo]=r.current,r.current=s}var is={},pn=rs(is),On=rs(!1),Ks=is;function Jo(r,s){var a=r.type.contextTypes;if(!a)return is;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Ln(r){return r=r.childContextTypes,r!=null}function Lu(){Tt(On),Tt(pn)}function Gm(r,s,a){if(pn.current!==is)throw Error(t(168));_t(pn,s),_t(On,a)}function Qm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,We(r)||"Unknown",f));return k({},a,h)}function Mu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||is,Ks=pn.current,_t(pn,r),_t(On,On.current),!0}function Xm(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Qm(r,s,Ks),h.__reactInternalMemoizedMergedChildContext=r,Tt(On),Tt(pn),_t(pn,r)):Tt(On),_t(On,a)}var Ti=null,Vu=!1,od=!1;function Ym(r){Ti===null?Ti=[r]:Ti.push(r)}function MT(r){Vu=!0,Ym(r)}function ss(){if(!od&&Ti!==null){od=!0;var r=0,s=et;try{var a=Ti;for(et=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Ti=null,Vu=!1}catch(f){throw Ti!==null&&(Ti=Ti.slice(r+1)),qn(mi,ss),f}finally{et=s,od=!1}}return null}var Zo=[],ea=0,Fu=null,ju=0,lr=[],ur=0,Gs=null,Ii=1,Si="";function Qs(r,s){Zo[ea++]=ju,Zo[ea++]=Fu,Fu=r,ju=s}function Jm(r,s,a){lr[ur++]=Ii,lr[ur++]=Si,lr[ur++]=Gs,Gs=r;var h=Ii;r=Si;var f=32-Sn(h)-1;h&=~(1<<f),a+=1;var g=32-Sn(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Ii=1<<32-Sn(s)+f|a<<f|h,Si=g+r}else Ii=1<<g|a<<f|h,Si=r}function ad(r){r.return!==null&&(Qs(r,1),Jm(r,1,0))}function ld(r){for(;r===Fu;)Fu=Zo[--ea],Zo[ea]=null,ju=Zo[--ea],Zo[ea]=null;for(;r===Gs;)Gs=lr[--ur],lr[ur]=null,Si=lr[--ur],lr[ur]=null,Ii=lr[--ur],lr[ur]=null}var Xn=null,Yn=null,At=!1,Rr=null;function Zm(r,s){var a=fr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function eg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Xn=r,Yn=ns(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Xn=r,Yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Gs!==null?{id:Ii,overflow:Si}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=fr(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Xn=r,Yn=null,!0):!1;default:return!1}}function ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function cd(r){if(At){var s=Yn;if(s){var a=s;if(!eg(r,s)){if(ud(r))throw Error(t(418));s=ns(a.nextSibling);var h=Xn;s&&eg(r,s)?Zm(h,a):(r.flags=r.flags&-4097|2,At=!1,Xn=r)}}else{if(ud(r))throw Error(t(418));r.flags=r.flags&-4097|2,At=!1,Xn=r}}}function tg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Xn=r}function Uu(r){if(r!==Xn)return!1;if(!At)return tg(r),At=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!td(r.type,r.memoizedProps)),s&&(s=Yn)){if(ud(r))throw ng(),Error(t(418));for(;s;)Zm(r,s),s=ns(s.nextSibling)}if(tg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Yn=ns(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Yn=null}}else Yn=Xn?ns(r.stateNode.nextSibling):null;return!0}function ng(){for(var r=Yn;r;)r=ns(r.nextSibling)}function ta(){Yn=Xn=null,At=!1}function hd(r){Rr===null?Rr=[r]:Rr.push(r)}var VT=re.ReactCurrentBatchConfig;function Cr(r,s){if(r&&r.defaultProps){s=k({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}var zu=rs(null),$u=null,na=null,dd=null;function fd(){dd=na=$u=null}function pd(r){var s=zu.current;Tt(zu),r._currentValue=s}function md(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function ra(r,s){$u=r,dd=na=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Mn=!0),r.firstContext=null)}function cr(r){var s=r._currentValue;if(dd!==r)if(r={context:r,memoizedValue:s,next:null},na===null){if($u===null)throw Error(t(308));na=r,$u.dependencies={lanes:0,firstContext:r}}else na=na.next=r;return s}var Xs=null;function gd(r){Xs===null?Xs=[r]:Xs.push(r)}function rg(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,gd(s)):(a.next=f.next,f.next=a),s.interleaved=a,Ri(r,h)}function Ri(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var os=!1;function yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ci(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function as(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(st&2)!==0){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Ri(r,a)}return f=h.interleaved,f===null?(s.next=s,gd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Ri(r,a)}function Bu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Xi(r,a)}}function sg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Hu(r,s,a,h){var f=r.updateQueue;os=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var O=P,Q=O.next;O.next=null,E===null?g=Q:E.next=Q,E=O;var se=r.alternate;se!==null&&(se=se.updateQueue,P=se.lastBaseUpdate,P!==E&&(P===null?se.firstBaseUpdate=Q:P.next=Q,se.lastBaseUpdate=O))}if(g!==null){var oe=f.baseState;E=0,se=Q=O=null,P=g;do{var ie=P.lane,ge=P.eventTime;if((h&ie)===ie){se!==null&&(se=se.next={eventTime:ge,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var we=r,Ie=P;switch(ie=s,ge=a,Ie.tag){case 1:if(we=Ie.payload,typeof we=="function"){oe=we.call(ge,oe,ie);break e}oe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ie.payload,ie=typeof we=="function"?we.call(ge,oe,ie):we,ie==null)break e;oe=k({},oe,ie);break e;case 2:os=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,ie=f.effects,ie===null?f.effects=[P]:ie.push(P))}else ge={eventTime:ge,lane:ie,tag:P.tag,payload:P.payload,callback:P.callback,next:null},se===null?(Q=se=ge,O=oe):se=se.next=ge,E|=ie;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;ie=P,P=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);if(se===null&&(O=oe),f.baseState=O,f.firstBaseUpdate=Q,f.lastBaseUpdate=se,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Zs|=E,r.lanes=E,r.memoizedState=oe}}function og(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var ag=new n.Component().refs;function vd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:k({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var qu={isMounted:function(r){return(r=r._reactInternals)?Yt(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=An(),f=hs(r),g=Ci(h,f);g.payload=s,a!=null&&(g.callback=a),s=as(r,g,f),s!==null&&(xr(s,r,f,h),Bu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=An(),f=hs(r),g=Ci(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=as(r,g,f),s!==null&&(xr(s,r,f,h),Bu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=An(),h=hs(r),f=Ci(a,h);f.tag=2,s!=null&&(f.callback=s),s=as(r,f,h),s!==null&&(xr(s,r,h,a),Bu(s,r,h))}};function lg(r,s,a,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ja(a,h)||!Ja(f,g):!0}function ug(r,s,a){var h=!1,f=is,g=s.contextType;return typeof g=="object"&&g!==null?g=cr(g):(f=Ln(s)?Ks:pn.current,h=s.contextTypes,g=(h=h!=null)?Jo(r,f):is),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=qu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function cg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&qu.enqueueReplaceState(s,s.state,null)}function _d(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs=ag,yd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=cr(g):(g=Ln(s)?Ks:pn.current,f.context=Jo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(vd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&qu.enqueueReplaceState(f,f.state,null),Hu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function sl(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var P=f.refs;P===ag&&(P=f.refs={}),E===null?delete P[g]:P[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Wu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function hg(r){var s=r._init;return s(r._payload)}function dg(r){function s(H,j){if(r){var q=H.deletions;q===null?(H.deletions=[j],H.flags|=16):q.push(j)}}function a(H,j){if(!r)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function h(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function f(H,j){return H=fs(H,j),H.index=0,H.sibling=null,H}function g(H,j,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<j?(H.flags|=2,j):q):(H.flags|=2,j)):(H.flags|=1048576,j)}function E(H){return r&&H.alternate===null&&(H.flags|=2),H}function P(H,j,q,le){return j===null||j.tag!==6?(j=nf(q,H.mode,le),j.return=H,j):(j=f(j,q),j.return=H,j)}function O(H,j,q,le){var Pe=q.type;return Pe===R?se(H,j,q.props.children,le,q.key):j!==null&&(j.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Ge&&hg(Pe)===j.type)?(le=f(j,q.props),le.ref=sl(H,j,q),le.return=H,le):(le=hc(q.type,q.key,q.props,null,H.mode,le),le.ref=sl(H,j,q),le.return=H,le)}function Q(H,j,q,le){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=rf(q,H.mode,le),j.return=H,j):(j=f(j,q.children||[]),j.return=H,j)}function se(H,j,q,le,Pe){return j===null||j.tag!==7?(j=ro(q,H.mode,le,Pe),j.return=H,j):(j=f(j,q),j.return=H,j)}function oe(H,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=nf(""+j,H.mode,q),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return q=hc(j.type,j.key,j.props,null,H.mode,q),q.ref=sl(H,null,j),q.return=H,q;case L:return j=rf(j,H.mode,q),j.return=H,j;case Ge:var le=j._init;return oe(H,le(j._payload),q)}if(Bn(j)||ye(j))return j=ro(j,H.mode,q,null),j.return=H,j;Wu(H,j)}return null}function ie(H,j,q,le){var Pe=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Pe!==null?null:P(H,j,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return q.key===Pe?O(H,j,q,le):null;case L:return q.key===Pe?Q(H,j,q,le):null;case Ge:return Pe=q._init,ie(H,j,Pe(q._payload),le)}if(Bn(q)||ye(q))return Pe!==null?null:se(H,j,q,le,null);Wu(H,q)}return null}function ge(H,j,q,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number")return H=H.get(q)||null,P(j,H,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case X:return H=H.get(le.key===null?q:le.key)||null,O(j,H,le,Pe);case L:return H=H.get(le.key===null?q:le.key)||null,Q(j,H,le,Pe);case Ge:var Ne=le._init;return ge(H,j,q,Ne(le._payload),Pe)}if(Bn(le)||ye(le))return H=H.get(q)||null,se(j,H,le,Pe,null);Wu(j,le)}return null}function we(H,j,q,le){for(var Pe=null,Ne=null,De=j,ze=j=0,tn=null;De!==null&&ze<q.length;ze++){De.index>ze?(tn=De,De=null):tn=De.sibling;var ct=ie(H,De,q[ze],le);if(ct===null){De===null&&(De=tn);break}r&&De&&ct.alternate===null&&s(H,De),j=g(ct,j,ze),Ne===null?Pe=ct:Ne.sibling=ct,Ne=ct,De=tn}if(ze===q.length)return a(H,De),At&&Qs(H,ze),Pe;if(De===null){for(;ze<q.length;ze++)De=oe(H,q[ze],le),De!==null&&(j=g(De,j,ze),Ne===null?Pe=De:Ne.sibling=De,Ne=De);return At&&Qs(H,ze),Pe}for(De=h(H,De);ze<q.length;ze++)tn=ge(De,H,ze,q[ze],le),tn!==null&&(r&&tn.alternate!==null&&De.delete(tn.key===null?ze:tn.key),j=g(tn,j,ze),Ne===null?Pe=tn:Ne.sibling=tn,Ne=tn);return r&&De.forEach(function(ps){return s(H,ps)}),At&&Qs(H,ze),Pe}function Ie(H,j,q,le){var Pe=ye(q);if(typeof Pe!="function")throw Error(t(150));if(q=Pe.call(q),q==null)throw Error(t(151));for(var Ne=Pe=null,De=j,ze=j=0,tn=null,ct=q.next();De!==null&&!ct.done;ze++,ct=q.next()){De.index>ze?(tn=De,De=null):tn=De.sibling;var ps=ie(H,De,ct.value,le);if(ps===null){De===null&&(De=tn);break}r&&De&&ps.alternate===null&&s(H,De),j=g(ps,j,ze),Ne===null?Pe=ps:Ne.sibling=ps,Ne=ps,De=tn}if(ct.done)return a(H,De),At&&Qs(H,ze),Pe;if(De===null){for(;!ct.done;ze++,ct=q.next())ct=oe(H,ct.value,le),ct!==null&&(j=g(ct,j,ze),Ne===null?Pe=ct:Ne.sibling=ct,Ne=ct);return At&&Qs(H,ze),Pe}for(De=h(H,De);!ct.done;ze++,ct=q.next())ct=ge(De,H,ze,ct.value,le),ct!==null&&(r&&ct.alternate!==null&&De.delete(ct.key===null?ze:ct.key),j=g(ct,j,ze),Ne===null?Pe=ct:Ne.sibling=ct,Ne=ct);return r&&De.forEach(function(gI){return s(H,gI)}),At&&Qs(H,ze),Pe}function Vt(H,j,q,le){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case X:e:{for(var Pe=q.key,Ne=j;Ne!==null;){if(Ne.key===Pe){if(Pe=q.type,Pe===R){if(Ne.tag===7){a(H,Ne.sibling),j=f(Ne,q.props.children),j.return=H,H=j;break e}}else if(Ne.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Ge&&hg(Pe)===Ne.type){a(H,Ne.sibling),j=f(Ne,q.props),j.ref=sl(H,Ne,q),j.return=H,H=j;break e}a(H,Ne);break}else s(H,Ne);Ne=Ne.sibling}q.type===R?(j=ro(q.props.children,H.mode,le,q.key),j.return=H,H=j):(le=hc(q.type,q.key,q.props,null,H.mode,le),le.ref=sl(H,j,q),le.return=H,H=le)}return E(H);case L:e:{for(Ne=q.key;j!==null;){if(j.key===Ne)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(H,j.sibling),j=f(j,q.children||[]),j.return=H,H=j;break e}else{a(H,j);break}else s(H,j);j=j.sibling}j=rf(q,H.mode,le),j.return=H,H=j}return E(H);case Ge:return Ne=q._init,Vt(H,j,Ne(q._payload),le)}if(Bn(q))return we(H,j,q,le);if(ye(q))return Ie(H,j,q,le);Wu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(a(H,j.sibling),j=f(j,q),j.return=H,H=j):(a(H,j),j=nf(q,H.mode,le),j.return=H,H=j),E(H)):a(H,j)}return Vt}var ia=dg(!0),fg=dg(!1),ol={},Wr=rs(ol),al=rs(ol),ll=rs(ol);function Ys(r){if(r===ol)throw Error(t(174));return r}function Ed(r,s){switch(_t(ll,s),_t(al,r),_t(Wr,ol),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:xe(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=xe(s,r)}Tt(Wr),_t(Wr,s)}function sa(){Tt(Wr),Tt(al),Tt(ll)}function pg(r){Ys(ll.current);var s=Ys(Wr.current),a=xe(s,r.type);s!==a&&(_t(al,r),_t(Wr,a))}function wd(r){al.current===r&&(Tt(Wr),Tt(al))}var Pt=rs(0);function Ku(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Td=[];function Id(){for(var r=0;r<Td.length;r++)Td[r]._workInProgressVersionPrimary=null;Td.length=0}var Gu=re.ReactCurrentDispatcher,Sd=re.ReactCurrentBatchConfig,Js=0,xt=null,Wt=null,Zt=null,Qu=!1,ul=!1,cl=0,FT=0;function mn(){throw Error(t(321))}function Rd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Sr(r[a],s[a]))return!1;return!0}function Cd(r,s,a,h,f,g){if(Js=g,xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gu.current=r===null||r.memoizedState===null?$T:BT,r=a(h,f),ul){g=0;do{if(ul=!1,cl=0,25<=g)throw Error(t(301));g+=1,Zt=Wt=null,s.updateQueue=null,Gu.current=HT,r=a(h,f)}while(ul)}if(Gu.current=Ju,s=Wt!==null&&Wt.next!==null,Js=0,Zt=Wt=xt=null,Qu=!1,s)throw Error(t(300));return r}function Ad(){var r=cl!==0;return cl=0,r}function Kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?xt.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function hr(){if(Wt===null){var r=xt.alternate;r=r!==null?r.memoizedState:null}else r=Wt.next;var s=Zt===null?xt.memoizedState:Zt.next;if(s!==null)Zt=s,Wt=r;else{if(r===null)throw Error(t(310));Wt=r,r={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Zt===null?xt.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function hl(r,s){return typeof s=="function"?s(r):s}function Pd(r){var s=hr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Wt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var P=E=null,O=null,Q=g;do{var se=Q.lane;if((Js&se)===se)O!==null&&(O=O.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:r(h,Q.action);else{var oe={lane:se,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};O===null?(P=O=oe,E=h):O=O.next=oe,xt.lanes|=se,Zs|=se}Q=Q.next}while(Q!==null&&Q!==g);O===null?E=h:O.next=P,Sr(h,s.memoizedState)||(Mn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=O,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,xt.lanes|=g,Zs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function xd(r){var s=hr(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);Sr(g,s.memoizedState)||(Mn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function mg(){}function gg(r,s){var a=xt,h=hr(),f=s(),g=!Sr(h.memoizedState,f);if(g&&(h.memoizedState=f,Mn=!0),h=h.queue,kd(_g.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||Zt!==null&&Zt.memoizedState.tag&1){if(a.flags|=2048,dl(9,vg.bind(null,a,h,f,s),void 0,null),en===null)throw Error(t(349));(Js&30)!==0||yg(a,s,f)}return f}function yg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=xt.updateQueue,s===null?(s={lastEffect:null,stores:null},xt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function vg(r,s,a,h){s.value=a,s.getSnapshot=h,Eg(s)&&wg(r)}function _g(r,s,a){return a(function(){Eg(s)&&wg(r)})}function Eg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Sr(r,a)}catch{return!0}}function wg(r){var s=Ri(r,1);s!==null&&xr(s,r,1,-1)}function Tg(r){var s=Kr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:r},s.queue=r,r=r.dispatch=zT.bind(null,xt,r),[s.memoizedState,r]}function dl(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=xt.updateQueue,s===null?(s={lastEffect:null,stores:null},xt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Ig(){return hr().memoizedState}function Xu(r,s,a,h){var f=Kr();xt.flags|=r,f.memoizedState=dl(1|s,a,void 0,h===void 0?null:h)}function Yu(r,s,a,h){var f=hr();h=h===void 0?null:h;var g=void 0;if(Wt!==null){var E=Wt.memoizedState;if(g=E.destroy,h!==null&&Rd(h,E.deps)){f.memoizedState=dl(s,a,g,h);return}}xt.flags|=r,f.memoizedState=dl(1|s,a,g,h)}function Sg(r,s){return Xu(8390656,8,r,s)}function kd(r,s){return Yu(2048,8,r,s)}function Rg(r,s){return Yu(4,2,r,s)}function Cg(r,s){return Yu(4,4,r,s)}function Ag(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Pg(r,s,a){return a=a!=null?a.concat([r]):null,Yu(4,4,Ag.bind(null,s,r),a)}function bd(){}function xg(r,s){var a=hr();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Rd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function kg(r,s){var a=hr();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Rd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function bg(r,s,a){return(Js&21)===0?(r.baseState&&(r.baseState=!1,Mn=!0),r.memoizedState=a):(Sr(a,s)||(a=zs(),xt.lanes|=a,Zs|=a,r.baseState=!0),s)}function jT(r,s){var a=et;et=a!==0&&4>a?a:4,r(!0);var h=Sd.transition;Sd.transition={};try{r(!1),s()}finally{et=a,Sd.transition=h}}function Ng(){return hr().memoizedState}function UT(r,s,a){var h=hs(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Dg(r))Og(s,a);else if(a=rg(r,s,a,h),a!==null){var f=An();xr(a,r,h,f),Lg(a,s,h)}}function zT(r,s,a){var h=hs(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dg(r))Og(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,P=g(E,a);if(f.hasEagerState=!0,f.eagerState=P,Sr(P,E)){var O=s.interleaved;O===null?(f.next=f,gd(s)):(f.next=O.next,O.next=f),s.interleaved=f;return}}catch{}finally{}a=rg(r,s,f,h),a!==null&&(f=An(),xr(a,r,h,f),Lg(a,s,h))}}function Dg(r){var s=r.alternate;return r===xt||s!==null&&s===xt}function Og(r,s){ul=Qu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Lg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Xi(r,a)}}var Ju={readContext:cr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},$T={readContext:cr,useCallback:function(r,s){return Kr().memoizedState=[r,s===void 0?null:s],r},useContext:cr,useEffect:Sg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Xu(4194308,4,Ag.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Xu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Xu(4,2,r,s)},useMemo:function(r,s){var a=Kr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Kr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=UT.bind(null,xt,r),[h.memoizedState,r]},useRef:function(r){var s=Kr();return r={current:r},s.memoizedState=r},useState:Tg,useDebugValue:bd,useDeferredValue:function(r){return Kr().memoizedState=r},useTransition:function(){var r=Tg(!1),s=r[0];return r=jT.bind(null,r[1]),Kr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=xt,f=Kr();if(At){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),en===null)throw Error(t(349));(Js&30)!==0||yg(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Sg(_g.bind(null,h,g,r),[r]),h.flags|=2048,dl(9,vg.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Kr(),s=en.identifierPrefix;if(At){var a=Si,h=Ii;a=(h&~(1<<32-Sn(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=cl++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=FT++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},BT={readContext:cr,useCallback:xg,useContext:cr,useEffect:kd,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:kg,useReducer:Pd,useRef:Ig,useState:function(){return Pd(hl)},useDebugValue:bd,useDeferredValue:function(r){var s=hr();return bg(s,Wt.memoizedState,r)},useTransition:function(){var r=Pd(hl)[0],s=hr().memoizedState;return[r,s]},useMutableSource:mg,useSyncExternalStore:gg,useId:Ng,unstable_isNewReconciler:!1},HT={readContext:cr,useCallback:xg,useContext:cr,useEffect:kd,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:kg,useReducer:xd,useRef:Ig,useState:function(){return xd(hl)},useDebugValue:bd,useDeferredValue:function(r){var s=hr();return Wt===null?s.memoizedState=r:bg(s,Wt.memoizedState,r)},useTransition:function(){var r=xd(hl)[0],s=hr().memoizedState;return[r,s]},useMutableSource:mg,useSyncExternalStore:gg,useId:Ng,unstable_isNewReconciler:!1};function oa(r,s){try{var a="",h=s;do a+=je(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Nd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Dd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var qT=typeof WeakMap=="function"?WeakMap:Map;function Mg(r,s,a){a=Ci(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){sc||(sc=!0,Gd=h),Dd(r,s)},a}function Vg(r,s,a){a=Ci(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){Dd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Dd(r,s),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Fg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new qT;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=sI.bind(null,r,s,a),s.then(r,r))}function jg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ug(r,s,a,h,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ci(-1,1),s.tag=2,as(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var WT=re.ReactCurrentOwner,Mn=!1;function Cn(r,s,a,h){s.child=r===null?fg(s,null,a,h):ia(s,r.child,a,h)}function zg(r,s,a,h,f){a=a.render;var g=s.ref;return ra(s,f),h=Cd(r,s,a,h,g,f),a=Ad(),r!==null&&!Mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Ai(r,s,f)):(At&&a&&ad(s),s.flags|=1,Cn(r,s,h,f),s.child)}function $g(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!tf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Bg(r,s,g,h,f)):(r=hc(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ja,a(E,h)&&r.ref===s.ref)return Ai(r,s,f)}return s.flags|=1,r=fs(g,h),r.ref=s.ref,r.return=s,s.child=r}function Bg(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Ja(g,h)&&r.ref===s.ref)if(Mn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Mn=!0);else return s.lanes=r.lanes,Ai(r,s,f)}return Od(r,s,a,h,f)}function Hg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(la,Jn),Jn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,_t(la,Jn),Jn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,_t(la,Jn),Jn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,_t(la,Jn),Jn|=h;return Cn(r,s,f,a),s.child}function qg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Od(r,s,a,h,f){var g=Ln(a)?Ks:pn.current;return g=Jo(s,g),ra(s,f),a=Cd(r,s,a,h,g,f),h=Ad(),r!==null&&!Mn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Ai(r,s,f)):(At&&h&&ad(s),s.flags|=1,Cn(r,s,a,f),s.child)}function Wg(r,s,a,h,f){if(Ln(a)){var g=!0;Mu(s)}else g=!1;if(ra(s,f),s.stateNode===null)ec(r,s),ug(s,a,h),_d(s,a,h,f),h=!0;else if(r===null){var E=s.stateNode,P=s.memoizedProps;E.props=P;var O=E.context,Q=a.contextType;typeof Q=="object"&&Q!==null?Q=cr(Q):(Q=Ln(a)?Ks:pn.current,Q=Jo(s,Q));var se=a.getDerivedStateFromProps,oe=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function";oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==h||O!==Q)&&cg(s,E,h,Q),os=!1;var ie=s.memoizedState;E.state=ie,Hu(s,h,E,f),O=s.memoizedState,P!==h||ie!==O||On.current||os?(typeof se=="function"&&(vd(s,a,se,h),O=s.memoizedState),(P=os||lg(s,a,P,h,ie,O,Q))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=O),E.props=h,E.state=O,E.context=Q,h=P):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,ig(r,s),P=s.memoizedProps,Q=s.type===s.elementType?P:Cr(s.type,P),E.props=Q,oe=s.pendingProps,ie=E.context,O=a.contextType,typeof O=="object"&&O!==null?O=cr(O):(O=Ln(a)?Ks:pn.current,O=Jo(s,O));var ge=a.getDerivedStateFromProps;(se=typeof ge=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==oe||ie!==O)&&cg(s,E,h,O),os=!1,ie=s.memoizedState,E.state=ie,Hu(s,h,E,f);var we=s.memoizedState;P!==oe||ie!==we||On.current||os?(typeof ge=="function"&&(vd(s,a,ge,h),we=s.memoizedState),(Q=os||lg(s,a,Q,h,ie,we,O)||!1)?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,we,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,we,O)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ie===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ie===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=we),E.props=h,E.state=we,E.context=O,h=Q):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ie===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ie===r.memoizedState||(s.flags|=1024),h=!1)}return Ld(r,s,a,h,g,f)}function Ld(r,s,a,h,f,g){qg(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&Xm(s,a,!1),Ai(r,s,g);h=s.stateNode,WT.current=s;var P=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=ia(s,r.child,null,g),s.child=ia(s,null,P,g)):Cn(r,s,P,g),s.memoizedState=h.state,f&&Xm(s,a,!0),s.child}function Kg(r){var s=r.stateNode;s.pendingContext?Gm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Gm(r,s.context,!1),Ed(r,s.containerInfo)}function Gg(r,s,a,h,f){return ta(),hd(f),s.flags|=256,Cn(r,s,a,h),s.child}var Md={dehydrated:null,treeContext:null,retryLane:0};function Vd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Qg(r,s,a){var h=s.pendingProps,f=Pt.current,g=!1,E=(s.flags&128)!==0,P;if((P=E)||(P=r!==null&&r.memoizedState===null?!1:(f&2)!==0),P?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),_t(Pt,f&1),r===null)return cd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=dc(E,h,0,null),r=ro(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Vd(a),s.memoizedState=Md,r):Fd(s,E));if(f=r.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return KT(r,s,E,h,P,f,a);if(g){g=h.fallback,E=s.mode,f=r.child,P=f.sibling;var O={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=O,s.deletions=null):(h=fs(f,O),h.subtreeFlags=f.subtreeFlags&14680064),P!==null?g=fs(P,g):(g=ro(g,E,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?Vd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=Md,h}return g=r.child,r=g.sibling,h=fs(g,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Fd(r,s){return s=dc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Zu(r,s,a,h){return h!==null&&hd(h),ia(s,r.child,null,a),r=Fd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function KT(r,s,a,h,f,g,E){if(a)return s.flags&256?(s.flags&=-257,h=Nd(Error(t(422))),Zu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=dc({mode:"visible",children:h.children},f,0,null),g=ro(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,(s.mode&1)!==0&&ia(s,r.child,null,E),s.child.memoizedState=Vd(E),s.memoizedState=Md,g);if((s.mode&1)===0)return Zu(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var P=h.dgst;return h=P,g=Error(t(419)),h=Nd(g,h,void 0),Zu(r,s,E,h)}if(P=(E&r.childLanes)!==0,Mn||P){if(h=en,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Ri(r,f),xr(h,r,f,-1))}return ef(),h=Nd(Error(t(421))),Zu(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=oI.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Yn=ns(f.nextSibling),Xn=s,At=!0,Rr=null,r!==null&&(lr[ur++]=Ii,lr[ur++]=Si,lr[ur++]=Gs,Ii=r.id,Si=r.overflow,Gs=s),s=Fd(s,h.children),s.flags|=4096,s)}function Xg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),md(r.return,s,a)}function jd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Yg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Cn(r,s,h.children,a),h=Pt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Xg(r,a,s);else if(r.tag===19)Xg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(_t(Pt,h),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Ku(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),jd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Ku(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}jd(s,!0,a,null,g);break;case"together":jd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ec(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Ai(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Zs|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=fs(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=fs(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function GT(r,s,a){switch(s.tag){case 3:Kg(s),ta();break;case 5:pg(s);break;case 1:Ln(s.type)&&Mu(s);break;case 4:Ed(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;_t(zu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(_t(Pt,Pt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Qg(r,s,a):(_t(Pt,Pt.current&1),r=Ai(r,s,a),r!==null?r.sibling:null);_t(Pt,Pt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return Yg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_t(Pt,Pt.current),h)break;return null;case 22:case 23:return s.lanes=0,Hg(r,s,a)}return Ai(r,s,a)}var Jg,Ud,Zg,ey;Jg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ud=function(){},Zg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,Ys(Wr.current);var g=null;switch(a){case"input":f=vr(r,f),h=vr(r,h),g=[];break;case"select":f=k({},f,{value:void 0}),h=k({},h,{value:void 0}),g=[];break;case"textarea":f=G(r,f),h=G(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Du)}$i(a,h);var E;a=null;for(Q in f)if(!h.hasOwnProperty(Q)&&f.hasOwnProperty(Q)&&f[Q]!=null)if(Q==="style"){var P=f[Q];for(E in P)P.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?g||(g=[]):(g=g||[]).push(Q,null));for(Q in h){var O=h[Q];if(P=f!=null?f[Q]:void 0,h.hasOwnProperty(Q)&&O!==P&&(O!=null||P!=null))if(Q==="style")if(P){for(E in P)!P.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in O)O.hasOwnProperty(E)&&P[E]!==O[E]&&(a||(a={}),a[E]=O[E])}else a||(g||(g=[]),g.push(Q,a)),a=O;else Q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,P=P?P.__html:void 0,O!=null&&P!==O&&(g=g||[]).push(Q,O)):Q==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(Q,""+O):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(O!=null&&Q==="onScroll"&&wt("scroll",r),g||P===O||(g=[])):(g=g||[]).push(Q,O))}a&&(g=g||[]).push("style",a);var Q=g;(s.updateQueue=Q)&&(s.flags|=4)}},ey=function(r,s,a,h){a!==h&&(s.flags|=4)};function fl(r,s){if(!At)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function gn(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function QT(r,s,a){var h=s.pendingProps;switch(ld(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(s),null;case 1:return Ln(s.type)&&Lu(),gn(s),null;case 3:return h=s.stateNode,sa(),Tt(On),Tt(pn),Id(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Uu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rr!==null&&(Yd(Rr),Rr=null))),Ud(r,s),gn(s),null;case 5:wd(s);var f=Ys(ll.current);if(a=s.type,r!==null&&s.stateNode!=null)Zg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return gn(s),null}if(r=Ys(Wr.current),Uu(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[qr]=s,h[rl]=g,r=(s.mode&1)!==0,a){case"dialog":wt("cancel",h),wt("close",h);break;case"iframe":case"object":case"embed":wt("load",h);break;case"video":case"audio":for(f=0;f<el.length;f++)wt(el[f],h);break;case"source":wt("error",h);break;case"img":case"image":case"link":wt("error",h),wt("load",h);break;case"details":wt("toggle",h);break;case"input":dn(h,g),wt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},wt("invalid",h);break;case"textarea":de(h,g),wt("invalid",h)}$i(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var P=g[E];E==="children"?typeof P=="string"?h.textContent!==P&&(g.suppressHydrationWarning!==!0&&Nu(h.textContent,P,r),f=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(g.suppressHydrationWarning!==!0&&Nu(h.textContent,P,r),f=["children",""+P]):o.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&wt("scroll",h)}switch(a){case"input":mt(h),zi(h,g,!0);break;case"textarea":mt(h),Te(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Du)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Re(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[qr]=s,r[rl]=h,Jg(r,s,!1,!1),s.stateNode=r;e:{switch(E=ci(a,h),a){case"dialog":wt("cancel",r),wt("close",r),f=h;break;case"iframe":case"object":case"embed":wt("load",r),f=h;break;case"video":case"audio":for(f=0;f<el.length;f++)wt(el[f],r);f=h;break;case"source":wt("error",r),f=h;break;case"img":case"image":case"link":wt("error",r),wt("load",r),f=h;break;case"details":wt("toggle",r),f=h;break;case"input":dn(r,h),f=vr(r,h),wt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=k({},h,{value:void 0}),wt("invalid",r);break;case"textarea":de(r,h),f=G(r,h),wt("invalid",r);break;default:f=h}$i(a,f),P=f;for(g in P)if(P.hasOwnProperty(g)){var O=P[g];g==="style"?Mr(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Rt(r,O)):g==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&Tn(r,O):typeof O=="number"&&Tn(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&wt("scroll",r):O!=null&&ee(r,g,O,E))}switch(a){case"input":mt(r),zi(r,h,!1);break;case"textarea":mt(r),Te(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Qe(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?sn(r,!!h.multiple,g,!1):h.defaultValue!=null&&sn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Du)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return gn(s),null;case 6:if(r&&s.stateNode!=null)ey(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=Ys(ll.current),Ys(Wr.current),Uu(s)){if(h=s.stateNode,a=s.memoizedProps,h[qr]=s,(g=h.nodeValue!==a)&&(r=Xn,r!==null))switch(r.tag){case 3:Nu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Nu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[qr]=s,s.stateNode=h}return gn(s),null;case 13:if(Tt(Pt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(At&&Yn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ng(),ta(),s.flags|=98560,g=!1;else if(g=Uu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[qr]=s}else ta(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gn(s),g=!1}else Rr!==null&&(Yd(Rr),Rr=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Pt.current&1)!==0?Kt===0&&(Kt=3):ef())),s.updateQueue!==null&&(s.flags|=4),gn(s),null);case 4:return sa(),Ud(r,s),r===null&&tl(s.stateNode.containerInfo),gn(s),null;case 10:return pd(s.type._context),gn(s),null;case 17:return Ln(s.type)&&Lu(),gn(s),null;case 19:if(Tt(Pt),g=s.memoizedState,g===null)return gn(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)fl(g,!1);else{if(Kt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Ku(r),E!==null){for(s.flags|=128,fl(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return _t(Pt,Pt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>ua&&(s.flags|=128,h=!0,fl(g,!1),s.lanes=4194304)}else{if(!h)if(r=Ku(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),fl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!At)return gn(s),null}else 2*Xe()-g.renderingStartTime>ua&&a!==1073741824&&(s.flags|=128,h=!0,fl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,a=Pt.current,_t(Pt,h?a&1|2:a&1),s):(gn(s),null);case 22:case 23:return Zd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Jn&1073741824)!==0&&(gn(s),s.subtreeFlags&6&&(s.flags|=8192)):gn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function XT(r,s){switch(ld(s),s.tag){case 1:return Ln(s.type)&&Lu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return sa(),Tt(On),Tt(pn),Id(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return wd(s),null;case 13:if(Tt(Pt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ta()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Tt(Pt),null;case 4:return sa(),null;case 10:return pd(s.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var tc=!1,yn=!1,YT=typeof WeakSet=="function"?WeakSet:Set,_e=null;function aa(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){Nt(r,s,h)}else a.current=null}function zd(r,s,a){try{a()}catch(h){Nt(r,s,h)}}var ty=!1;function JT(r,s){if(Zh=Zi,r=Nm(),qh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,P=-1,O=-1,Q=0,se=0,oe=r,ie=null;t:for(;;){for(var ge;oe!==a||f!==0&&oe.nodeType!==3||(P=E+f),oe!==g||h!==0&&oe.nodeType!==3||(O=E+h),oe.nodeType===3&&(E+=oe.nodeValue.length),(ge=oe.firstChild)!==null;)ie=oe,oe=ge;for(;;){if(oe===r)break t;if(ie===a&&++Q===f&&(P=E),ie===g&&++se===h&&(O=E),(ge=oe.nextSibling)!==null)break;oe=ie,ie=oe.parentNode}oe=ge}a=P===-1||O===-1?null:{start:P,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(ed={focusedElem:r,selectionRange:a},Zi=!1,_e=s;_e!==null;)if(s=_e,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,_e=r;else for(;_e!==null;){s=_e;try{var we=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ie=we.memoizedProps,Vt=we.memoizedState,H=s.stateNode,j=H.getSnapshotBeforeUpdate(s.elementType===s.type?Ie:Cr(s.type,Ie),Vt);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){Nt(s,s.return,le)}if(r=s.sibling,r!==null){r.return=s.return,_e=r;break}_e=s.return}return we=ty,ty=!1,we}function pl(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&zd(s,a,g)}f=f.next}while(f!==h)}}function nc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function $d(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function ny(r){var s=r.alternate;s!==null&&(r.alternate=null,ny(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[qr],delete s[rl],delete s[id],delete s[OT],delete s[LT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ry(r){return r.tag===5||r.tag===3||r.tag===4}function iy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ry(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Du));else if(h!==4&&(r=r.child,r!==null))for(Bd(r,s,a),r=r.sibling;r!==null;)Bd(r,s,a),r=r.sibling}function Hd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Hd(r,s,a),r=r.sibling;r!==null;)Hd(r,s,a),r=r.sibling}var ln=null,Ar=!1;function ls(r,s,a){for(a=a.child;a!==null;)sy(r,s,a),a=a.sibling}function sy(r,s,a){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(js,a)}catch{}switch(a.tag){case 5:yn||aa(a,s);case 6:var h=ln,f=Ar;ln=null,ls(r,s,a),ln=h,Ar=f,ln!==null&&(Ar?(r=ln,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):ln.removeChild(a.stateNode));break;case 18:ln!==null&&(Ar?(r=ln,a=a.stateNode,r.nodeType===8?rd(r.parentNode,a):r.nodeType===1&&rd(r,a),Tr(r)):rd(ln,a.stateNode));break;case 4:h=ln,f=Ar,ln=a.stateNode.containerInfo,Ar=!0,ls(r,s,a),ln=h,Ar=f;break;case 0:case 11:case 14:case 15:if(!yn&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&zd(a,s,E),f=f.next}while(f!==h)}ls(r,s,a);break;case 1:if(!yn&&(aa(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(P){Nt(a,s,P)}ls(r,s,a);break;case 21:ls(r,s,a);break;case 22:a.mode&1?(yn=(h=yn)||a.memoizedState!==null,ls(r,s,a),yn=h):ls(r,s,a);break;default:ls(r,s,a)}}function oy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new YT),s.forEach(function(h){var f=aI.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Pr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,E=s,P=E;e:for(;P!==null;){switch(P.tag){case 5:ln=P.stateNode,Ar=!1;break e;case 3:ln=P.stateNode.containerInfo,Ar=!0;break e;case 4:ln=P.stateNode.containerInfo,Ar=!0;break e}P=P.return}if(ln===null)throw Error(t(160));sy(g,E,f),ln=null,Ar=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(Q){Nt(f,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ay(s,r),s=s.sibling}function ay(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Pr(s,r),Gr(r),h&4){try{pl(3,r,r.return),nc(3,r)}catch(Ie){Nt(r,r.return,Ie)}try{pl(5,r,r.return)}catch(Ie){Nt(r,r.return,Ie)}}break;case 1:Pr(s,r),Gr(r),h&512&&a!==null&&aa(a,a.return);break;case 5:if(Pr(s,r),Gr(r),h&512&&a!==null&&aa(a,a.return),r.flags&32){var f=r.stateNode;try{Tn(f,"")}catch(Ie){Nt(r,r.return,Ie)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,P=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{P==="input"&&g.type==="radio"&&g.name!=null&&li(f,g),ci(P,E);var Q=ci(P,g);for(E=0;E<O.length;E+=2){var se=O[E],oe=O[E+1];se==="style"?Mr(f,oe):se==="dangerouslySetInnerHTML"?Rt(f,oe):se==="children"?Tn(f,oe):ee(f,se,oe,Q)}switch(P){case"input":ui(f,g);break;case"textarea":pe(f,g);break;case"select":var ie=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ge=g.value;ge!=null?sn(f,!!g.multiple,ge,!1):ie!==!!g.multiple&&(g.defaultValue!=null?sn(f,!!g.multiple,g.defaultValue,!0):sn(f,!!g.multiple,g.multiple?[]:"",!1))}f[rl]=g}catch(Ie){Nt(r,r.return,Ie)}}break;case 6:if(Pr(s,r),Gr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ie){Nt(r,r.return,Ie)}}break;case 3:if(Pr(s,r),Gr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{Tr(s.containerInfo)}catch(Ie){Nt(r,r.return,Ie)}break;case 4:Pr(s,r),Gr(r);break;case 13:Pr(s,r),Gr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(Kd=Xe())),h&4&&oy(r);break;case 22:if(se=a!==null&&a.memoizedState!==null,r.mode&1?(yn=(Q=yn)||se,Pr(s,r),yn=Q):Pr(s,r),Gr(r),h&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!se&&(r.mode&1)!==0)for(_e=r,se=r.child;se!==null;){for(oe=_e=se;_e!==null;){switch(ie=_e,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:pl(4,ie,ie.return);break;case 1:aa(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){h=ie,a=ie.return;try{s=h,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(Ie){Nt(h,a,Ie)}}break;case 5:aa(ie,ie.return);break;case 22:if(ie.memoizedState!==null){cy(oe);continue}}ge!==null?(ge.return=ie,_e=ge):cy(oe)}se=se.sibling}e:for(se=null,oe=r;;){if(oe.tag===5){if(se===null){se=oe;try{f=oe.stateNode,Q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(P=oe.stateNode,O=oe.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,P.style.display=Lr("display",E))}catch(Ie){Nt(r,r.return,Ie)}}}else if(oe.tag===6){if(se===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(Ie){Nt(r,r.return,Ie)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;se===oe&&(se=null),oe=oe.return}se===oe&&(se=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Pr(s,r),Gr(r),h&4&&oy(r);break;case 21:break;default:Pr(s,r),Gr(r)}}function Gr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(ry(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Tn(f,""),h.flags&=-33);var g=iy(r);Hd(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,P=iy(r);Bd(r,P,E);break;default:throw Error(t(161))}}catch(O){Nt(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ZT(r,s,a){_e=r,ly(r)}function ly(r,s,a){for(var h=(r.mode&1)!==0;_e!==null;){var f=_e,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||tc;if(!E){var P=f.alternate,O=P!==null&&P.memoizedState!==null||yn;P=tc;var Q=yn;if(tc=E,(yn=O)&&!Q)for(_e=f;_e!==null;)E=_e,O=E.child,E.tag===22&&E.memoizedState!==null?hy(f):O!==null?(O.return=E,_e=O):hy(f);for(;g!==null;)_e=g,ly(g),g=g.sibling;_e=f,tc=P,yn=Q}uy(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,_e=g):uy(r)}}function uy(r){for(;_e!==null;){var s=_e;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:yn||nc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!yn)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Cr(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&og(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}og(s,E,a)}break;case 5:var P=s.stateNode;if(a===null&&s.flags&4){a=P;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var se=Q.memoizedState;if(se!==null){var oe=se.dehydrated;oe!==null&&Tr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}yn||s.flags&512&&$d(s)}catch(ie){Nt(s,s.return,ie)}}if(s===r){_e=null;break}if(a=s.sibling,a!==null){a.return=s.return,_e=a;break}_e=s.return}}function cy(r){for(;_e!==null;){var s=_e;if(s===r){_e=null;break}var a=s.sibling;if(a!==null){a.return=s.return,_e=a;break}_e=s.return}}function hy(r){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{nc(4,s)}catch(O){Nt(s,a,O)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(O){Nt(s,f,O)}}var g=s.return;try{$d(s)}catch(O){Nt(s,g,O)}break;case 5:var E=s.return;try{$d(s)}catch(O){Nt(s,E,O)}}}catch(O){Nt(s,s.return,O)}if(s===r){_e=null;break}var P=s.sibling;if(P!==null){P.return=s.return,_e=P;break}_e=s.return}}var eI=Math.ceil,rc=re.ReactCurrentDispatcher,qd=re.ReactCurrentOwner,dr=re.ReactCurrentBatchConfig,st=0,en=null,zt=null,un=0,Jn=0,la=rs(0),Kt=0,ml=null,Zs=0,ic=0,Wd=0,gl=null,Vn=null,Kd=0,ua=1/0,Pi=null,sc=!1,Gd=null,us=null,oc=!1,cs=null,ac=0,yl=0,Qd=null,lc=-1,uc=0;function An(){return(st&6)!==0?Xe():lc!==-1?lc:lc=Xe()}function hs(r){return(r.mode&1)===0?1:(st&2)!==0&&un!==0?un&-un:VT.transition!==null?(uc===0&&(uc=zs()),uc):(r=et,r!==0||(r=window.event,r=r===void 0?16:qa(r.type)),r)}function xr(r,s,a,h){if(50<yl)throw yl=0,Qd=null,Error(t(185));Qi(r,a,h),((st&2)===0||r!==en)&&(r===en&&((st&2)===0&&(ic|=a),Kt===4&&ds(r,un)),Fn(r,h),a===1&&st===0&&(s.mode&1)===0&&(ua=Xe()+500,Vu&&ss()))}function Fn(r,s){var a=r.callbackNode;gi(r,s);var h=Us(r,r===en?un:0);if(h===0)a!==null&&jr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&jr(a),s===1)r.tag===0?MT(fy.bind(null,r)):Ym(fy.bind(null,r)),NT(function(){(st&6)===0&&ss()}),a=null;else{switch(Yi(h)){case 1:a=mi;break;case 4:a=Wi;break;case 16:a=sr;break;case 536870912:a=uu;break;default:a=sr}a=wy(a,dy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function dy(r,s){if(lc=-1,uc=0,(st&6)!==0)throw Error(t(327));var a=r.callbackNode;if(ca()&&r.callbackNode!==a)return null;var h=Us(r,r===en?un:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=cc(r,h);else{s=h;var f=st;st|=2;var g=my();(en!==r||un!==s)&&(Pi=null,ua=Xe()+500,to(r,s));do try{rI();break}catch(P){py(r,P)}while(!0);fd(),rc.current=g,st=f,zt!==null?s=0:(en=null,un=0,s=Kt)}if(s!==0){if(s===2&&(f=Kn(r),f!==0&&(h=f,s=Xd(r,f))),s===1)throw a=ml,to(r,0),ds(r,h),Fn(r,Xe()),a;if(s===6)ds(r,h);else{if(f=r.current.alternate,(h&30)===0&&!tI(f)&&(s=cc(r,h),s===2&&(g=Kn(r),g!==0&&(h=g,s=Xd(r,g))),s===1))throw a=ml,to(r,0),ds(r,h),Fn(r,Xe()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:no(r,Vn,Pi);break;case 3:if(ds(r,h),(h&130023424)===h&&(s=Kd+500-Xe(),10<s)){if(Us(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){An(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=nd(no.bind(null,r,Vn,Pi),s);break}no(r,Vn,Pi);break;case 4:if(ds(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-Sn(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*eI(h/1960))-h,10<h){r.timeoutHandle=nd(no.bind(null,r,Vn,Pi),h);break}no(r,Vn,Pi);break;case 5:no(r,Vn,Pi);break;default:throw Error(t(329))}}}return Fn(r,Xe()),r.callbackNode===a?dy.bind(null,r):null}function Xd(r,s){var a=gl;return r.current.memoizedState.isDehydrated&&(to(r,s).flags|=256),r=cc(r,s),r!==2&&(s=Vn,Vn=a,s!==null&&Yd(s)),r}function Yd(r){Vn===null?Vn=r:Vn.push.apply(Vn,r)}function tI(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Sr(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ds(r,s){for(s&=~Wd,s&=~ic,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Sn(s),h=1<<a;r[a]=-1,s&=~h}}function fy(r){if((st&6)!==0)throw Error(t(327));ca();var s=Us(r,0);if((s&1)===0)return Fn(r,Xe()),null;var a=cc(r,s);if(r.tag!==0&&a===2){var h=Kn(r);h!==0&&(s=h,a=Xd(r,h))}if(a===1)throw a=ml,to(r,0),ds(r,s),Fn(r,Xe()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,no(r,Vn,Pi),Fn(r,Xe()),null}function Jd(r,s){var a=st;st|=1;try{return r(s)}finally{st=a,st===0&&(ua=Xe()+500,Vu&&ss())}}function eo(r){cs!==null&&cs.tag===0&&(st&6)===0&&ca();var s=st;st|=1;var a=dr.transition,h=et;try{if(dr.transition=null,et=1,r)return r()}finally{et=h,dr.transition=a,st=s,(st&6)===0&&ss()}}function Zd(){Jn=la.current,Tt(la)}function to(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,bT(a)),zt!==null)for(a=zt.return;a!==null;){var h=a;switch(ld(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Lu();break;case 3:sa(),Tt(On),Tt(pn),Id();break;case 5:wd(h);break;case 4:sa();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:pd(h.type._context);break;case 22:case 23:Zd()}a=a.return}if(en=r,zt=r=fs(r.current,null),un=Jn=s,Kt=0,ml=null,Wd=ic=Zs=0,Vn=gl=null,Xs!==null){for(s=0;s<Xs.length;s++)if(a=Xs[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}a.pending=h}Xs=null}return r}function py(r,s){do{var a=zt;try{if(fd(),Gu.current=Ju,Qu){for(var h=xt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Qu=!1}if(Js=0,Zt=Wt=xt=null,ul=!1,cl=0,qd.current=null,a===null||a.return===null){Kt=1,ml=s,zt=null;break}e:{var g=r,E=a.return,P=a,O=s;if(s=un,P.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=O,se=P,oe=se.tag;if((se.mode&1)===0&&(oe===0||oe===11||oe===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var ge=jg(E);if(ge!==null){ge.flags&=-257,Ug(ge,E,P,g,s),ge.mode&1&&Fg(g,Q,s),s=ge,O=Q;var we=s.updateQueue;if(we===null){var Ie=new Set;Ie.add(O),s.updateQueue=Ie}else we.add(O);break e}else{if((s&1)===0){Fg(g,Q,s),ef();break e}O=Error(t(426))}}else if(At&&P.mode&1){var Vt=jg(E);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),Ug(Vt,E,P,g,s),hd(oa(O,P));break e}}g=O=oa(O,P),Kt!==4&&(Kt=2),gl===null?gl=[g]:gl.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var H=Mg(g,O,s);sg(g,H);break e;case 1:P=O;var j=g.type,q=g.stateNode;if((g.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(us===null||!us.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var le=Vg(g,P,s);sg(g,le);break e}}g=g.return}while(g!==null)}yy(a)}catch(Pe){s=Pe,zt===a&&a!==null&&(zt=a=a.return);continue}break}while(!0)}function my(){var r=rc.current;return rc.current=Ju,r===null?Ju:r}function ef(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),en===null||(Zs&268435455)===0&&(ic&268435455)===0||ds(en,un)}function cc(r,s){var a=st;st|=2;var h=my();(en!==r||un!==s)&&(Pi=null,to(r,s));do try{nI();break}catch(f){py(r,f)}while(!0);if(fd(),st=a,rc.current=h,zt!==null)throw Error(t(261));return en=null,un=0,Kt}function nI(){for(;zt!==null;)gy(zt)}function rI(){for(;zt!==null&&!ut();)gy(zt)}function gy(r){var s=Ey(r.alternate,r,Jn);r.memoizedProps=r.pendingProps,s===null?yy(r):zt=s,qd.current=null}function yy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=QT(a,s,Jn),a!==null){zt=a;return}}else{if(a=XT(a,s),a!==null){a.flags&=32767,zt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Kt=6,zt=null;return}}if(s=s.sibling,s!==null){zt=s;return}zt=s=r}while(s!==null);Kt===0&&(Kt=5)}function no(r,s,a){var h=et,f=dr.transition;try{dr.transition=null,et=1,iI(r,s,a,h)}finally{dr.transition=f,et=h}return null}function iI(r,s,a,h){do ca();while(cs!==null);if((st&6)!==0)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(yt(r,g),r===en&&(zt=en=null,un=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||oc||(oc=!0,wy(sr,function(){return ca(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=dr.transition,dr.transition=null;var E=et;et=1;var P=st;st|=4,qd.current=null,JT(r,a),ay(a,r),ST(ed),Zi=!!Zh,ed=Zh=null,r.current=a,ZT(a),pt(),st=P,et=E,dr.transition=g}else r.current=a;if(oc&&(oc=!1,cs=r,ac=f),g=r.pendingLanes,g===0&&(us=null),cu(a.stateNode),Fn(r,Xe()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(sc)throw sc=!1,r=Gd,Gd=null,r;return(ac&1)!==0&&r.tag!==0&&ca(),g=r.pendingLanes,(g&1)!==0?r===Qd?yl++:(yl=0,Qd=r):yl=0,ss(),null}function ca(){if(cs!==null){var r=Yi(ac),s=dr.transition,a=et;try{if(dr.transition=null,et=16>r?16:r,cs===null)var h=!1;else{if(r=cs,cs=null,ac=0,(st&6)!==0)throw Error(t(331));var f=st;for(st|=4,_e=r.current;_e!==null;){var g=_e,E=g.child;if((_e.flags&16)!==0){var P=g.deletions;if(P!==null){for(var O=0;O<P.length;O++){var Q=P[O];for(_e=Q;_e!==null;){var se=_e;switch(se.tag){case 0:case 11:case 15:pl(8,se,g)}var oe=se.child;if(oe!==null)oe.return=se,_e=oe;else for(;_e!==null;){se=_e;var ie=se.sibling,ge=se.return;if(ny(se),se===Q){_e=null;break}if(ie!==null){ie.return=ge,_e=ie;break}_e=ge}}}var we=g.alternate;if(we!==null){var Ie=we.child;if(Ie!==null){we.child=null;do{var Vt=Ie.sibling;Ie.sibling=null,Ie=Vt}while(Ie!==null)}}_e=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,_e=E;else e:for(;_e!==null;){if(g=_e,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:pl(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,_e=H;break e}_e=g.return}}var j=r.current;for(_e=j;_e!==null;){E=_e;var q=E.child;if((E.subtreeFlags&2064)!==0&&q!==null)q.return=E,_e=q;else e:for(E=j;_e!==null;){if(P=_e,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:nc(9,P)}}catch(Pe){Nt(P,P.return,Pe)}if(P===E){_e=null;break e}var le=P.sibling;if(le!==null){le.return=P.return,_e=le;break e}_e=P.return}}if(st=f,ss(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(js,r)}catch{}h=!0}return h}finally{et=a,dr.transition=s}}return!1}function vy(r,s,a){s=oa(a,s),s=Mg(r,s,1),r=as(r,s,1),s=An(),r!==null&&(Qi(r,1,s),Fn(r,s))}function Nt(r,s,a){if(r.tag===3)vy(r,r,a);else for(;s!==null;){if(s.tag===3){vy(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(us===null||!us.has(h))){r=oa(a,r),r=Vg(s,r,1),s=as(s,r,1),r=An(),s!==null&&(Qi(s,1,r),Fn(s,r));break}}s=s.return}}function sI(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=An(),r.pingedLanes|=r.suspendedLanes&a,en===r&&(un&a)===a&&(Kt===4||Kt===3&&(un&130023424)===un&&500>Xe()-Kd?to(r,0):Wd|=a),Fn(r,s)}function _y(r,s){s===0&&((r.mode&1)===0?s=1:(s=Do,Do<<=1,(Do&130023424)===0&&(Do=4194304)));var a=An();r=Ri(r,s),r!==null&&(Qi(r,s,a),Fn(r,a))}function oI(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),_y(r,a)}function aI(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),_y(r,a)}var Ey;Ey=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||On.current)Mn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Mn=!1,GT(r,s,a);Mn=(r.flags&131072)!==0}else Mn=!1,At&&(s.flags&1048576)!==0&&Jm(s,ju,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;ec(r,s),r=s.pendingProps;var f=Jo(s,pn.current);ra(s,a),f=Cd(null,s,h,r,f,a);var g=Ad();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ln(h)?(g=!0,Mu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,yd(s),f.updater=qu,s.stateNode=f,f._reactInternals=s,_d(s,h,r,a),s=Ld(null,s,h,!0,g,a)):(s.tag=0,At&&g&&ad(s),Cn(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(ec(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=uI(h),r=Cr(h,r),f){case 0:s=Od(null,s,h,r,a);break e;case 1:s=Wg(null,s,h,r,a);break e;case 11:s=zg(null,s,h,r,a);break e;case 14:s=$g(null,s,h,Cr(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),Od(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),Wg(r,s,h,f,a);case 3:e:{if(Kg(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,ig(r,s),Hu(s,h,null,a);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=oa(Error(t(423)),s),s=Gg(r,s,h,a,f);break e}else if(h!==f){f=oa(Error(t(424)),s),s=Gg(r,s,h,a,f);break e}else for(Yn=ns(s.stateNode.containerInfo.firstChild),Xn=s,At=!0,Rr=null,a=fg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ta(),h===f){s=Ai(r,s,a);break e}Cn(r,s,h,a)}s=s.child}return s;case 5:return pg(s),r===null&&cd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,td(h,f)?E=null:g!==null&&td(h,g)&&(s.flags|=32),qg(r,s),Cn(r,s,E,a),s.child;case 6:return r===null&&cd(s),null;case 13:return Qg(r,s,a);case 4:return Ed(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=ia(s,null,h,a):Cn(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),zg(r,s,h,f,a);case 7:return Cn(r,s,s.pendingProps,a),s.child;case 8:return Cn(r,s,s.pendingProps.children,a),s.child;case 12:return Cn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,_t(zu,h._currentValue),h._currentValue=E,g!==null)if(Sr(g.value,E)){if(g.children===f.children&&!On.current){s=Ai(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var P=g.dependencies;if(P!==null){E=g.child;for(var O=P.firstContext;O!==null;){if(O.context===h){if(g.tag===1){O=Ci(-1,a&-a),O.tag=2;var Q=g.updateQueue;if(Q!==null){Q=Q.shared;var se=Q.pending;se===null?O.next=O:(O.next=se.next,se.next=O),Q.pending=O}}g.lanes|=a,O=g.alternate,O!==null&&(O.lanes|=a),md(g.return,a,s),P.lanes|=a;break}O=O.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,P=E.alternate,P!==null&&(P.lanes|=a),md(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Cn(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,ra(s,a),f=cr(f),h=h(f),s.flags|=1,Cn(r,s,h,a),s.child;case 14:return h=s.type,f=Cr(h,s.pendingProps),f=Cr(h.type,f),$g(r,s,h,f,a);case 15:return Bg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Cr(h,f),ec(r,s),s.tag=1,Ln(h)?(r=!0,Mu(s)):r=!1,ra(s,a),ug(s,h,f),_d(s,h,f,a),Ld(null,s,h,!0,r,a);case 19:return Yg(r,s,a);case 22:return Hg(r,s,a)}throw Error(t(156,s.tag))};function wy(r,s){return qn(r,s)}function lI(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(r,s,a,h){return new lI(r,s,a,h)}function tf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function uI(r){if(typeof r=="function")return tf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===lt)return 14}return 2}function fs(r,s){var a=r.alternate;return a===null?(a=fr(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function hc(r,s,a,h,f,g){var E=2;if(h=r,typeof r=="function")tf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case R:return ro(a.children,f,g,s);case S:E=8,f|=8;break;case C:return r=fr(12,a,s,f|2),r.elementType=C,r.lanes=g,r;case A:return r=fr(13,a,s,f),r.elementType=A,r.lanes=g,r;case Oe:return r=fr(19,a,s,f),r.elementType=Oe,r.lanes=g,r;case Se:return dc(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:E=10;break e;case D:E=9;break e;case V:E=11;break e;case lt:E=14;break e;case Ge:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=fr(E,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function ro(r,s,a,h){return r=fr(7,r,h,s),r.lanes=a,r}function dc(r,s,a,h){return r=fr(22,r,h,s),r.elementType=Se,r.lanes=a,r.stateNode={isHidden:!1},r}function nf(r,s,a){return r=fr(6,r,null,s),r.lanes=a,r}function rf(r,s,a){return s=fr(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function cI(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function sf(r,s,a,h,f,g,E,P,O){return r=new cI(r,s,a,P,O),s===1?(s=1,g===!0&&(s|=8)):s=0,g=fr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(g),r}function hI(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Ty(r){if(!r)return is;r=r._reactInternals;e:{if(Yt(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Ln(a))return Qm(r,a,s)}return s}function Iy(r,s,a,h,f,g,E,P,O){return r=sf(a,h,!0,r,f,g,E,P,O),r.context=Ty(null),a=r.current,h=An(),f=hs(a),g=Ci(h,f),g.callback=s??null,as(a,g,f),r.current.lanes=f,Qi(r,f,h),Fn(r,h),r}function fc(r,s,a,h){var f=s.current,g=An(),E=hs(f);return a=Ty(a),s.context===null?s.context=a:s.pendingContext=a,s=Ci(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=as(f,s,E),r!==null&&(xr(r,f,E,g),Bu(r,f,E)),E}function pc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Sy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function of(r,s){Sy(r,s),(r=r.alternate)&&Sy(r,s)}function dI(){return null}var Ry=typeof reportError=="function"?reportError:function(r){console.error(r)};function af(r){this._internalRoot=r}mc.prototype.render=af.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));fc(r,s,null,null)},mc.prototype.unmount=af.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;eo(function(){fc(null,r,null,null)}),s[wi]=null}};function mc(r){this._internalRoot=r}mc.prototype.unstable_scheduleHydration=function(r){if(r){var s=mu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<zr.length&&s!==0&&s<zr[a].priority;a++);zr.splice(a,0,r),a===0&&vu(r)}};function lf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function gc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function fI(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var Q=pc(E);g.call(Q)}}var E=Iy(s,h,r,0,null,!1,!1,"",Cy);return r._reactRootContainer=E,r[wi]=E.current,tl(r.nodeType===8?r.parentNode:r),eo(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var P=h;h=function(){var Q=pc(O);P.call(Q)}}var O=sf(r,0,!1,null,null,!1,!1,"",Cy);return r._reactRootContainer=O,r[wi]=O.current,tl(r.nodeType===8?r.parentNode:r),eo(function(){fc(s,O,a,h)}),O}function yc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var P=f;f=function(){var O=pc(E);P.call(O)}}fc(s,E,r,f)}else E=fI(a,s,r,f,h);return pc(E)}fu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Ki(s.pendingLanes);a!==0&&(Xi(s,a|1),Fn(s,Xe()),(st&6)===0&&(ua=Xe()+500,ss()))}break;case 13:eo(function(){var h=Ri(r,1);if(h!==null){var f=An();xr(h,r,1,f)}}),of(r,1)}},Oo=function(r){if(r.tag===13){var s=Ri(r,134217728);if(s!==null){var a=An();xr(s,r,134217728,a)}of(r,134217728)}},pu=function(r){if(r.tag===13){var s=hs(r),a=Ri(r,s);if(a!==null){var h=An();xr(a,r,s,h)}of(r,s)}},mu=function(){return et},gu=function(r,s){var a=et;try{return et=r,s()}finally{et=a}},Bi=function(r,s,a){switch(s){case"input":if(ui(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=Ou(h);if(!f)throw Error(t(90));xn(h),ui(h,f)}}}break;case"textarea":pe(r,a);break;case"select":s=a.value,s!=null&&sn(r,!!a.multiple,s,!1)}},ue=Jd,Ee=eo;var pI={usingClientEntryPoint:!1,Events:[il,Xo,Ou,W,J,Jd]},vl={findFiberByHostInstance:Ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mI={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=fi(r),r===null?null:r.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||dI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{js=vc.inject(mI),Wn=vc}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pI,jn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lf(s))throw Error(t(200));return hI(r,s,null,a)},jn.createRoot=function(r,s){if(!lf(r))throw Error(t(299));var a=!1,h="",f=Ry;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=sf(r,1,!1,null,null,a,!1,h,f),r[wi]=s.current,tl(r.nodeType===8?r.parentNode:r),new af(s)},jn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=fi(s),r=r===null?null:r.stateNode,r},jn.flushSync=function(r){return eo(r)},jn.hydrate=function(r,s,a){if(!gc(s))throw Error(t(200));return yc(null,r,s,!0,a)},jn.hydrateRoot=function(r,s,a){if(!lf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",E=Ry;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Iy(s,null,r,1,a??null,f,!1,g,E),r[wi]=s.current,tl(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new mc(s)},jn.render=function(r,s,a){if(!gc(s))throw Error(t(200));return yc(null,r,s,!1,a)},jn.unmountComponentAtNode=function(r){if(!gc(r))throw Error(t(40));return r._reactRootContainer?(eo(function(){yc(null,null,r,!1,function(){r._reactRootContainer=null,r[wi]=null})}),!0):!1},jn.unstable_batchedUpdates=Jd,jn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!gc(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return yc(r,s,a,!1,h)},jn.version="18.2.0-next-9e3b772b8-20220608",jn}var Oy;function d0(){if(Oy)return hf.exports;Oy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hf.exports=SI(),hf.exports}var Ly;function RI(){if(Ly)return _c;Ly=1;var n=d0();return _c.createRoot=n.createRoot,_c.hydrateRoot=n.hydrateRoot,_c}var CI=RI();const AI=ch(CI);var f0=d0();const PI=ch(f0),xI=h0({__proto__:null,default:PI},[f0]);/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ot(){return Ot=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ot.apply(this,arguments)}var Bt;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Bt||(Bt={}));const My="popstate";function kI(n){n===void 0&&(n={});function e(i,o){let{pathname:l,search:c,hash:d}=i.location;return jl("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:yo(o)}return NI(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function go(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bI(){return Math.random().toString(36).substr(2,8)}function Vy(n,e){return{usr:n.state,key:n.key,idx:e}}function jl(n,e,t,i){return t===void 0&&(t=null),Ot({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ms(e):e,{state:t,key:e&&e.key||i||bI()})}function yo(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ms(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function NI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,d=Bt.Pop,p=null,y=_();y==null&&(y=0,c.replaceState(Ot({},c.state,{idx:y}),""));function _(){return(c.state||{idx:null}).idx}function w(){d=Bt.Pop;let x=_(),K=x==null?null:x-y;y=x,p&&p({action:d,location:M.location,delta:K})}function I(x,K){d=Bt.Push;let te=jl(M.location,x,K);y=_()+1;let ee=Vy(te,y),re=M.createHref(te);try{c.pushState(ee,"",re)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(re)}l&&p&&p({action:d,location:M.location,delta:1})}function N(x,K){d=Bt.Replace;let te=jl(M.location,x,K);y=_();let ee=Vy(te,y),re=M.createHref(te);c.replaceState(ee,"",re),l&&p&&p({action:d,location:M.location,delta:0})}function F(x){let K=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof x=="string"?x:yo(x);return Je(K,"No window.location.(origin|href) available to create URL for href: "+te),new URL(te,K)}let M={get action(){return d},get location(){return n(o,c)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(My,w),p=x,()=>{o.removeEventListener(My,w),p=null}},createHref(x){return e(o,x)},createURL:F,encodeLocation(x){let K=F(x);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:I,replace:N,go(x){return c.go(x)}};return M}var Dt;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Dt||(Dt={}));const DI=new Set(["lazy","caseSensitive","path","id","index","children"]);function OI(n){return n.index===!0}function Uf(n,e,t,i){return t===void 0&&(t=[]),i===void 0&&(i={}),n.map((o,l)=>{let c=[...t,l],d=typeof o.id=="string"?o.id:c.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!i[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),OI(o)){let p=Ot({},o,e(o),{id:d});return i[d]=p,p}else{let p=Ot({},o,e(o),{id:d,children:void 0});return i[d]=p,o.children&&(p.children=Uf(o.children,e,c,i)),p}})}function ma(n,e,t){t===void 0&&(t="/");let i=typeof e=="string"?Ms(e):e,o=Da(i.pathname||"/",t);if(o==null)return null;let l=p0(n);MI(l);let c=null;for(let d=0;c==null&&d<l.length;++d)c=qI(l[d],GI(o));return c}function LI(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function p0(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Ni([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(Je(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),p0(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:BI(y,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of m0(l.path))o(l,c,p)}),e}function m0(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=m0(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function MI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:HI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const VI=/^:\w+$/,FI=3,jI=2,UI=1,zI=10,$I=-2,Fy=n=>n==="*";function BI(n,e){let t=n.split("/"),i=t.length;return t.some(Fy)&&(i+=$I),e&&(i+=jI),t.filter(o=>!Fy(o)).reduce((o,l)=>o+(VI.test(l)?FI:l===""?UI:zI),i)}function HI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function qI(n,e){let{routesMeta:t}=n,i={},o="/",l=[];for(let c=0;c<t.length;++c){let d=t[c],p=c===t.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=WI({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y);if(!_)return null;Object.assign(i,_.params);let w=d.route;l.push({params:i,pathname:Ni([o,_.pathname]),pathnameBase:JI(Ni([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=Ni([o,_.pathnameBase]))}return l}function WI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=KI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,_,w)=>{let{paramName:I,isOptional:N}=_;if(I==="*"){let M=d[w]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const F=d[w];return N&&!F?y[I]=void 0:y[I]=QI(F||"",I),y},{}),pathname:l,pathnameBase:c,pattern:n}}function KI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),go(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function GI(n){try{return decodeURI(n)}catch(e){return go(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function QI(n,e){try{return decodeURIComponent(n)}catch(t){return go(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function Da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function XI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Ms(n):n;return{pathname:t?t.startsWith("/")?t:YI(t,e):e,search:ZI(i),hash:eS(o)}}function YI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function pf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hh(n,e){let t=g0(n);return e?t.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function dh(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Ms(n):(o=Ot({},n),Je(!o.pathname||!o.pathname.includes("?"),pf("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),pf("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),pf("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),w-=1;o.pathname=I.join("/")}d=w>=0?e[w]:"/"}let p=XI(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const Ni=n=>n.join("/").replace(/\/\/+/g,"/"),JI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,eS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class Cp{constructor(e,t,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=t||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function y0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const v0=["post","put","patch","delete"],tS=new Set(v0),nS=["get",...v0],rS=new Set(nS),iS=new Set([301,302,303,307,308]),sS=new Set([307,308]),mf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},oS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},El={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),E0="remix-router-transitions";function lS(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!t;Je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(n.mapRouteProperties)o=n.mapRouteProperties;else if(n.detectErrorBoundary){let $=n.detectErrorBoundary;o=W=>({hasErrorBoundary:$(W)})}else o=aS;let l={},c=Uf(n.routes,o,void 0,l),d,p=n.basename||"/",y=Ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},n.future),_=null,w=new Set,I=null,N=null,F=null,M=n.hydrationData!=null,x=ma(c,n.history.location,p),K=null;if(x==null){let $=mr(404,{pathname:n.history.location.pathname}),{matches:W,route:J}=Wy(c);x=W,K={[J.id]:$}}let te,ee=x.some($=>$.route.lazy),re=x.some($=>$.route.loader);if(ee)te=!1;else if(!re)te=!0;else if(y.v7_partialHydration){let $=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;te=x.every(J=>J.route.loader&&J.route.loader.hydrate!==!0&&($&&$[J.route.id]!==void 0||W&&W[J.route.id]!==void 0))}else te=n.hydrationData!=null;let X,L={historyAction:n.history.action,location:n.history.location,matches:x,initialized:te,navigation:mf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||K,fetchers:new Map,blockers:new Map},R=Bt.Pop,S=!1,C,b=!1,D=new Map,V=null,A=!1,Oe=!1,lt=[],Ge=[],Se=new Map,ae=0,ye=-1,k=new Map,Z=new Set,he=new Map,Ce=new Map,ke=new Set,je=new Map,Be=new Map,We=!1;function Qe(){if(_=n.history.listen($=>{let{action:W,location:J,delta:ue}=$;if(We){We=!1;return}go(Be.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ee=$i({currentLocation:L.location,nextLocation:J,historyAction:W});if(Ee&&ue!=null){We=!0,n.history.go(ue*-1),Vr(Ee,{state:"blocked",location:J,proceed(){Vr(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:J}),n.history.go(ue)},reset(){let Me=new Map(L.blockers);Me.set(Ee,El),mt({blockers:Me})}});return}return dn(W,J)}),t){_S(e,D);let $=()=>ES(e,D);e.addEventListener("pagehide",$),V=()=>e.removeEventListener("pagehide",$)}return L.initialized||dn(Bt.Pop,L.location,{initialHydration:!0}),X}function Mt(){_&&_(),V&&V(),w.clear(),C&&C.abort(),L.fetchers.forEach(($,W)=>xe(W)),L.blockers.forEach(($,W)=>Mr(W))}function yr($){return w.add($),()=>w.delete($)}function mt($,W){W===void 0&&(W={}),L=Ot({},L,$);let J=[],ue=[];y.v7_fetcherPersist&&L.fetchers.forEach((Ee,Me)=>{Ee.state==="idle"&&(ke.has(Me)?ue.push(Me):J.push(Me))}),[...w].forEach(Ee=>Ee(L,{deletedFetchers:ue,unstable_viewTransitionOpts:W.viewTransitionOpts,unstable_flushSync:W.flushSync===!0})),y.v7_fetcherPersist&&(J.forEach(Ee=>L.fetchers.delete(Ee)),ue.forEach(Ee=>xe(Ee)))}function xn($,W,J){var ue,Ee;let{flushSync:Me}=J===void 0?{}:J,be=L.actionData!=null&&L.navigation.formMethod!=null&&br(L.navigation.formMethod)&&L.navigation.state==="loading"&&((ue=$.state)==null?void 0:ue._isRedirect)!==!0,me;W.actionData?Object.keys(W.actionData).length>0?me=W.actionData:me=null:be?me=L.actionData:me=null;let Ae=W.loaderData?qy(L.loaderData,W.loaderData,W.matches||[],W.errors):L.loaderData,Ue=L.blockers;Ue.size>0&&(Ue=new Map(Ue),Ue.forEach((it,dt)=>Ue.set(dt,El)));let vt=S===!0||L.navigation.formMethod!=null&&br(L.navigation.formMethod)&&((Ee=$.state)==null?void 0:Ee._isRedirect)!==!0;d&&(c=d,d=void 0),A||R===Bt.Pop||(R===Bt.Push?n.history.push($,$.state):R===Bt.Replace&&n.history.replace($,$.state));let Ve;if(R===Bt.Pop){let it=D.get(L.location.pathname);it&&it.has($.pathname)?Ve={currentLocation:L.location,nextLocation:$}:D.has($.pathname)&&(Ve={currentLocation:$,nextLocation:L.location})}else if(b){let it=D.get(L.location.pathname);it?it.add($.pathname):(it=new Set([$.pathname]),D.set(L.location.pathname,it)),Ve={currentLocation:L.location,nextLocation:$}}mt(Ot({},W,{actionData:me,loaderData:Ae,historyAction:R,location:$,initialized:!0,navigation:mf,revalidation:"idle",restoreScrollPosition:In($,W.matches||L.matches),preventScrollReset:vt,blockers:Ue}),{viewTransitionOpts:Ve,flushSync:Me===!0}),R=Bt.Pop,S=!1,b=!1,A=!1,Oe=!1,lt=[],Ge=[]}async function kn($,W){if(typeof $=="number"){n.history.go($);return}let J=zf(L.location,L.matches,p,y.v7_prependBasename,$,y.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:ue,submission:Ee,error:Me}=jy(y.v7_normalizeFormMethod,!1,J,W),be=L.location,me=jl(L.location,ue,W&&W.state);me=Ot({},me,n.history.encodeLocation(me));let Ae=W&&W.replace!=null?W.replace:void 0,Ue=Bt.Push;Ae===!0?Ue=Bt.Replace:Ae===!1||Ee!=null&&br(Ee.formMethod)&&Ee.formAction===L.location.pathname+L.location.search&&(Ue=Bt.Replace);let vt=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Ve=(W&&W.unstable_flushSync)===!0,it=$i({currentLocation:be,nextLocation:me,historyAction:Ue});if(it){Vr(it,{state:"blocked",location:me,proceed(){Vr(it,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),kn($,W)},reset(){let dt=new Map(L.blockers);dt.set(it,El),mt({blockers:dt})}});return}return await dn(Ue,me,{submission:Ee,pendingError:Me,preventScrollReset:vt,replace:W&&W.replace,enableViewTransition:W&&W.unstable_viewTransition,flushSync:Ve})}function vr(){if(de(),mt({revalidation:"loading"}),L.navigation.state!=="submitting"){if(L.navigation.state==="idle"){dn(L.historyAction,L.location,{startUninterruptedRevalidation:!0});return}dn(R||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation})}}async function dn($,W,J){C&&C.abort(),C=null,R=$,A=(J&&J.startUninterruptedRevalidation)===!0,Bi(L.location,L.matches),S=(J&&J.preventScrollReset)===!0,b=(J&&J.enableViewTransition)===!0;let ue=d||c,Ee=J&&J.overrideNavigation,Me=ma(ue,W,p),be=(J&&J.flushSync)===!0;if(!Me){let dt=mr(404,{pathname:W.pathname}),{matches:Xt,route:bt}=Wy(ue);ci(),xn(W,{matches:Xt,loaderData:{},errors:{[bt.id]:dt}},{flushSync:be});return}if(L.initialized&&!Oe&&fS(L.location,W)&&!(J&&J.submission&&br(J.submission.formMethod))){xn(W,{matches:Me},{flushSync:be});return}C=new AbortController;let me=Tl(n.history,W,C.signal,J&&J.submission),Ae,Ue;if(J&&J.pendingError)Ue={[kl(Me).route.id]:J.pendingError};else if(J&&J.submission&&br(J.submission.formMethod)){let dt=await li(me,W,J.submission,Me,{replace:J.replace,flushSync:be});if(dt.shortCircuited)return;Ae=dt.pendingActionData,Ue=dt.pendingActionError,Ee=gf(W,J.submission),be=!1,me=new Request(me.url,{signal:me.signal})}let{shortCircuited:vt,loaderData:Ve,errors:it}=await ui(me,W,Me,Ee,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,be,Ae,Ue);vt||(C=null,xn(W,Ot({matches:Me},Ae?{actionData:Ae}:{},{loaderData:Ve,errors:it})))}async function li($,W,J,ue,Ee){Ee===void 0&&(Ee={}),de();let Me=yS(W,J);mt({navigation:Me},{flushSync:Ee.flushSync===!0});let be,me=Bf(ue,W);if(!me.route.action&&!me.route.lazy)be={type:Dt.error,error:mr(405,{method:$.method,pathname:W.pathname,routeId:me.route.id})};else if(be=await wl("action",$,me,ue,l,o,p,y.v7_relativeSplatPath),$.signal.aborted)return{shortCircuited:!0};if(uo(be)){let Ae;return Ee&&Ee.replace!=null?Ae=Ee.replace:Ae=be.location===L.location.pathname+L.location.search,await sn(L,be,{submission:J,replace:Ae}),{shortCircuited:!0}}if(ga(be)){let Ae=kl(ue,me.route.id);return(Ee&&Ee.replace)!==!0&&(R=Bt.Push),{pendingActionData:{},pendingActionError:{[Ae.route.id]:be.error}}}if(lo(be))throw mr(400,{type:"defer-action"});return{pendingActionData:{[me.route.id]:be.data}}}async function ui($,W,J,ue,Ee,Me,be,me,Ae,Ue,vt){let Ve=ue||gf(W,Ee),it=Ee||Me||Qy(Ve),dt=d||c,[Xt,bt]=Uy(n.history,L,J,it,W,y.v7_partialHydration&&me===!0,Oe,lt,Ge,ke,he,Z,dt,p,Ue,vt);if(ci(ut=>!(J&&J.some(pt=>pt.route.id===ut))||Xt&&Xt.some(pt=>pt.route.id===ut)),ye=++ae,Xt.length===0&&bt.length===0){let ut=bn();return xn(W,Ot({matches:J,loaderData:{},errors:vt||null},Ue?{actionData:Ue}:{},ut?{fetchers:new Map(L.fetchers)}:{}),{flushSync:Ae}),{shortCircuited:!0}}if(!A&&(!y.v7_partialHydration||!me)){bt.forEach(pt=>{let Xe=L.fetchers.get(pt.key),pi=Il(void 0,Xe?Xe.data:void 0);L.fetchers.set(pt.key,pi)});let ut=Ue||L.actionData;mt(Ot({navigation:Ve},ut?Object.keys(ut).length===0?{actionData:null}:{actionData:ut}:{},bt.length>0?{fetchers:new Map(L.fetchers)}:{}),{flushSync:Ae})}bt.forEach(ut=>{Se.has(ut.key)&&Rt(ut.key),ut.controller&&Se.set(ut.key,ut.controller)});let Hn=()=>bt.forEach(ut=>Rt(ut.key));C&&C.signal.addEventListener("abort",Hn);let{results:Hi,loaderResults:Yt,fetcherResults:fn}=await G(L.matches,J,Xt,bt,$);if($.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Hn),bt.forEach(ut=>Se.delete(ut.key));let Ht=Ky(Hi);if(Ht){if(Ht.idx>=Xt.length){let ut=bt[Ht.idx-Xt.length].key;Z.add(ut)}return await sn(L,Ht.result,{replace:be}),{shortCircuited:!0}}let{loaderData:qi,errors:fi}=Hy(L,J,Xt,Yt,vt,bt,fn,je);je.forEach((ut,pt)=>{ut.subscribe(Xe=>{(Xe||ut.done)&&je.delete(pt)})});let Fr=bn(),qn=rr(ye),jr=Fr||qn||bt.length>0;return Ot({loaderData:qi,errors:fi},jr?{fetchers:new Map(L.fetchers)}:{})}function zi($,W,J,ue){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se.has($)&&Rt($);let Ee=(ue&&ue.unstable_flushSync)===!0,Me=d||c,be=zf(L.location,L.matches,p,y.v7_prependBasename,J,y.v7_relativeSplatPath,W,ue==null?void 0:ue.relative),me=ma(Me,be,p);if(!me){Te($,W,mr(404,{pathname:be}),{flushSync:Ee});return}let{path:Ae,submission:Ue,error:vt}=jy(y.v7_normalizeFormMethod,!0,be,ue);if(vt){Te($,W,vt,{flushSync:Ee});return}let Ve=Bf(me,Ae);if(S=(ue&&ue.preventScrollReset)===!0,Ue&&br(Ue.formMethod)){nr($,W,Ae,Ve,me,Ee,Ue);return}he.set($,{routeId:W,path:Ae}),Bn($,W,Ae,Ve,me,Ee,Ue)}async function nr($,W,J,ue,Ee,Me,be){if(de(),he.delete($),!ue.route.action&&!ue.route.lazy){let pt=mr(405,{method:be.formMethod,pathname:J,routeId:W});Te($,W,pt,{flushSync:Me});return}let me=L.fetchers.get($);pe($,vS(be,me),{flushSync:Me});let Ae=new AbortController,Ue=Tl(n.history,J,Ae.signal,be);Se.set($,Ae);let vt=ae,Ve=await wl("action",Ue,ue,Ee,l,o,p,y.v7_relativeSplatPath);if(Ue.signal.aborted){Se.get($)===Ae&&Se.delete($);return}if(y.v7_fetcherPersist&&ke.has($)){if(uo(Ve)||ga(Ve)){pe($,gs(void 0));return}}else{if(uo(Ve))if(Se.delete($),ye>vt){pe($,gs(void 0));return}else return Z.add($),pe($,Il(be)),sn(L,Ve,{fetcherSubmission:be});if(ga(Ve)){Te($,W,Ve.error);return}}if(lo(Ve))throw mr(400,{type:"defer-action"});let it=L.navigation.location||L.location,dt=Tl(n.history,it,Ae.signal),Xt=d||c,bt=L.navigation.state!=="idle"?ma(Xt,L.navigation.location,p):L.matches;Je(bt,"Didn't find any matches after fetcher action");let Hn=++ae;k.set($,Hn);let Hi=Il(be,Ve.data);L.fetchers.set($,Hi);let[Yt,fn]=Uy(n.history,L,bt,be,it,!1,Oe,lt,Ge,ke,he,Z,Xt,p,{[ue.route.id]:Ve.data},void 0);fn.filter(pt=>pt.key!==$).forEach(pt=>{let Xe=pt.key,pi=L.fetchers.get(Xe),mi=Il(void 0,pi?pi.data:void 0);L.fetchers.set(Xe,mi),Se.has(Xe)&&Rt(Xe),pt.controller&&Se.set(Xe,pt.controller)}),mt({fetchers:new Map(L.fetchers)});let Ht=()=>fn.forEach(pt=>Rt(pt.key));Ae.signal.addEventListener("abort",Ht);let{results:qi,loaderResults:fi,fetcherResults:Fr}=await G(L.matches,bt,Yt,fn,dt);if(Ae.signal.aborted)return;Ae.signal.removeEventListener("abort",Ht),k.delete($),Se.delete($),fn.forEach(pt=>Se.delete(pt.key));let qn=Ky(qi);if(qn){if(qn.idx>=Yt.length){let pt=fn[qn.idx-Yt.length].key;Z.add(pt)}return sn(L,qn.result)}let{loaderData:jr,errors:ut}=Hy(L,L.matches,Yt,fi,void 0,fn,Fr,je);if(L.fetchers.has($)){let pt=gs(Ve.data);L.fetchers.set($,pt)}rr(Hn),L.navigation.state==="loading"&&Hn>ye?(Je(R,"Expected pending action"),C&&C.abort(),xn(L.navigation.location,{matches:bt,loaderData:jr,errors:ut,fetchers:new Map(L.fetchers)})):(mt({errors:ut,loaderData:qy(L.loaderData,jr,bt,ut),fetchers:new Map(L.fetchers)}),Oe=!1)}async function Bn($,W,J,ue,Ee,Me,be){let me=L.fetchers.get($);pe($,Il(be,me?me.data:void 0),{flushSync:Me});let Ae=new AbortController,Ue=Tl(n.history,J,Ae.signal);Se.set($,Ae);let vt=ae,Ve=await wl("loader",Ue,ue,Ee,l,o,p,y.v7_relativeSplatPath);if(lo(Ve)&&(Ve=await I0(Ve,Ue.signal,!0)||Ve),Se.get($)===Ae&&Se.delete($),!Ue.signal.aborted){if(ke.has($)){pe($,gs(void 0));return}if(uo(Ve))if(ye>vt){pe($,gs(void 0));return}else{Z.add($),await sn(L,Ve);return}if(ga(Ve)){Te($,W,Ve.error);return}Je(!lo(Ve),"Unhandled fetcher deferred data"),pe($,gs(Ve.data))}}async function sn($,W,J){let{submission:ue,fetcherSubmission:Ee,replace:Me}=J===void 0?{}:J;W.revalidate&&(Oe=!0);let be=jl($.location,W.location,{_isRedirect:!0});if(Je(be,"Expected a location on the redirect navigation"),t){let it=!1;if(W.reloadDocument)it=!0;else if(_0.test(W.location)){const dt=n.history.createURL(W.location);it=dt.origin!==e.location.origin||Da(dt.pathname,p)==null}if(it){Me?e.location.replace(W.location):e.location.assign(W.location);return}}C=null;let me=Me===!0?Bt.Replace:Bt.Push,{formMethod:Ae,formAction:Ue,formEncType:vt}=$.navigation;!ue&&!Ee&&Ae&&Ue&&vt&&(ue=Qy($.navigation));let Ve=ue||Ee;if(sS.has(W.status)&&Ve&&br(Ve.formMethod))await dn(me,be,{submission:Ot({},Ve,{formAction:W.location}),preventScrollReset:S});else{let it=gf(be,ue);await dn(me,be,{overrideNavigation:it,fetcherSubmission:Ee,preventScrollReset:S})}}async function G($,W,J,ue,Ee){let Me=await Promise.all([...J.map(Ae=>wl("loader",Ee,Ae,W,l,o,p,y.v7_relativeSplatPath)),...ue.map(Ae=>Ae.matches&&Ae.match&&Ae.controller?wl("loader",Tl(n.history,Ae.path,Ae.controller.signal),Ae.match,Ae.matches,l,o,p,y.v7_relativeSplatPath):{type:Dt.error,error:mr(404,{pathname:Ae.path})})]),be=Me.slice(0,J.length),me=Me.slice(J.length);return await Promise.all([Gy($,J,be,be.map(()=>Ee.signal),!1,L.loaderData),Gy($,ue.map(Ae=>Ae.match),me,ue.map(Ae=>Ae.controller?Ae.controller.signal:null),!0)]),{results:Me,loaderResults:be,fetcherResults:me}}function de(){Oe=!0,lt.push(...ci()),he.forEach(($,W)=>{Se.has(W)&&(Ge.push(W),Rt(W))})}function pe($,W,J){J===void 0&&(J={}),L.fetchers.set($,W),mt({fetchers:new Map(L.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Te($,W,J,ue){ue===void 0&&(ue={});let Ee=kl(L.matches,W);xe($),mt({errors:{[Ee.route.id]:J},fetchers:new Map(L.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Re($){return y.v7_fetcherPersist&&(Ce.set($,(Ce.get($)||0)+1),ke.has($)&&ke.delete($)),L.fetchers.get($)||oS}function xe($){let W=L.fetchers.get($);Se.has($)&&!(W&&W.state==="loading"&&k.has($))&&Rt($),he.delete($),k.delete($),Z.delete($),ke.delete($),L.fetchers.delete($)}function gt($){if(y.v7_fetcherPersist){let W=(Ce.get($)||0)-1;W<=0?(Ce.delete($),ke.add($)):Ce.set($,W)}else xe($);mt({fetchers:new Map(L.fetchers)})}function Rt($){let W=Se.get($);Je(W,"Expected fetch controller: "+$),W.abort(),Se.delete($)}function Tn($){for(let W of $){let J=Re(W),ue=gs(J.data);L.fetchers.set(W,ue)}}function bn(){let $=[],W=!1;for(let J of Z){let ue=L.fetchers.get(J);Je(ue,"Expected fetcher: "+J),ue.state==="loading"&&(Z.delete(J),$.push(J),W=!0)}return Tn($),W}function rr($){let W=[];for(let[J,ue]of k)if(ue<$){let Ee=L.fetchers.get(J);Je(Ee,"Expected fetcher: "+J),Ee.state==="loading"&&(Rt(J),k.delete(J),W.push(J))}return Tn(W),W.length>0}function Lr($,W){let J=L.blockers.get($)||El;return Be.get($)!==W&&Be.set($,W),J}function Mr($){L.blockers.delete($),Be.delete($)}function Vr($,W){let J=L.blockers.get($)||El;Je(J.state==="unblocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="proceeding"||J.state==="blocked"&&W.state==="unblocked"||J.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+J.state+" -> "+W.state);let ue=new Map(L.blockers);ue.set($,W),mt({blockers:ue})}function $i($){let{currentLocation:W,nextLocation:J,historyAction:ue}=$;if(Be.size===0)return;Be.size>1&&go(!1,"A router only supports one blocker at a time");let Ee=Array.from(Be.entries()),[Me,be]=Ee[Ee.length-1],me=L.blockers.get(Me);if(!(me&&me.state==="proceeding")&&be({currentLocation:W,nextLocation:J,historyAction:ue}))return Me}function ci($){let W=[];return je.forEach((J,ue)=>{(!$||$(ue))&&(J.cancel(),W.push(ue),je.delete(ue))}),W}function hi($,W,J){if(I=$,F=W,N=J||null,!M&&L.navigation===mf){M=!0;let ue=In(L.location,L.matches);ue!=null&&mt({restoreScrollPosition:ue})}return()=>{I=null,F=null,N=null}}function di($,W){return N&&N($,W.map(ue=>LI(ue,L.loaderData)))||$.key}function Bi($,W){if(I&&F){let J=di($,W);I[J]=F()}}function In($,W){if(I){let J=di($,W),ue=I[J];if(typeof ue=="number")return ue}return null}function ir($){l={},d=Uf($,o,void 0,l)}return X={get basename(){return p},get future(){return y},get state(){return L},get routes(){return c},get window(){return e},initialize:Qe,subscribe:yr,enableScrollRestoration:hi,navigate:kn,fetch:zi,revalidate:vr,createHref:$=>n.history.createHref($),encodeLocation:$=>n.history.encodeLocation($),getFetcher:Re,deleteFetcher:gt,dispose:Mt,getBlocker:Lr,deleteBlocker:Mr,_internalFetchControllers:Se,_internalActiveDeferreds:je,_internalSetRoutes:ir},X}function uS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function zf(n,e,t,i,o,l,c,d){let p,y;if(c){p=[];for(let w of e)if(p.push(w),w.route.id===c){y=w;break}}else p=e,y=e[e.length-1];let _=dh(o||".",hh(p,l),Da(n.pathname,t)||n.pathname,d==="path");return o==null&&(_.search=n.search,_.hash=n.hash),(o==null||o===""||o===".")&&y&&y.route.index&&!Ap(_.search)&&(_.search=_.search?_.search.replace(/^\?/,"?index&"):"?index"),i&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Ni([t,_.pathname])),yo(_)}function jy(n,e,t,i){if(!i||!uS(i))return{path:t};if(i.formMethod&&!gS(i.formMethod))return{path:t,error:mr(405,{method:i.formMethod})};let o=()=>({path:t,error:mr(400,{type:"invalid-body"})}),l=i.formMethod||"get",c=n?l.toUpperCase():l.toLowerCase(),d=T0(t);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!br(c))return o();let I=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((N,F)=>{let[M,x]=F;return""+N+M+"="+x+`
`},""):String(i.body);return{path:t,submission:{formMethod:c,formAction:d,formEncType:i.formEncType,formData:void 0,json:void 0,text:I}}}else if(i.formEncType==="application/json"){if(!br(c))return o();try{let I=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:t,submission:{formMethod:c,formAction:d,formEncType:i.formEncType,formData:void 0,json:I,text:void 0}}}catch{return o()}}}Je(typeof FormData=="function","FormData is not available in this environment");let p,y;if(i.formData)p=$f(i.formData),y=i.formData;else if(i.body instanceof FormData)p=$f(i.body),y=i.body;else if(i.body instanceof URLSearchParams)p=i.body,y=By(p);else if(i.body==null)p=new URLSearchParams,y=new FormData;else try{p=new URLSearchParams(i.body),y=By(p)}catch{return o()}let _={formMethod:c,formAction:d,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:y,json:void 0,text:void 0};if(br(_.formMethod))return{path:t,submission:_};let w=Ms(t);return e&&w.search&&Ap(w.search)&&p.append("index",""),w.search="?"+p,{path:yo(w),submission:_}}function cS(n,e){let t=n;if(e){let i=n.findIndex(o=>o.route.id===e);i>=0&&(t=n.slice(0,i))}return t}function Uy(n,e,t,i,o,l,c,d,p,y,_,w,I,N,F,M){let x=M?Object.values(M)[0]:F?Object.values(F)[0]:void 0,K=n.createURL(e.location),te=n.createURL(o),ee=M?Object.keys(M)[0]:void 0,X=cS(t,ee).filter((R,S)=>{let{route:C}=R;if(C.lazy)return!0;if(C.loader==null)return!1;if(l)return C.loader.hydrate?!0:e.loaderData[C.id]===void 0&&(!e.errors||e.errors[C.id]===void 0);if(hS(e.loaderData,e.matches[S],R)||d.some(V=>V===R.route.id))return!0;let b=e.matches[S],D=R;return zy(R,Ot({currentUrl:K,currentParams:b.params,nextUrl:te,nextParams:D.params},i,{actionResult:x,defaultShouldRevalidate:c||K.pathname+K.search===te.pathname+te.search||K.search!==te.search||w0(b,D)}))}),L=[];return _.forEach((R,S)=>{if(l||!t.some(A=>A.route.id===R.routeId)||y.has(S))return;let C=ma(I,R.path,N);if(!C){L.push({key:S,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let b=e.fetchers.get(S),D=Bf(C,R.path),V=!1;w.has(S)?V=!1:p.includes(S)?V=!0:b&&b.state!=="idle"&&b.data===void 0?V=c:V=zy(D,Ot({currentUrl:K,currentParams:e.matches[e.matches.length-1].params,nextUrl:te,nextParams:t[t.length-1].params},i,{actionResult:x,defaultShouldRevalidate:c})),V&&L.push({key:S,routeId:R.routeId,path:R.path,matches:C,match:D,controller:new AbortController})}),[X,L]}function hS(n,e,t){let i=!e||t.route.id!==e.route.id,o=n[t.route.id]===void 0;return i||o}function w0(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function zy(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function $y(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Je(o,"No route found in manifest");let l={};for(let c in i){let p=o[c]!==void 0&&c!=="hasErrorBoundary";go(!p,'Route "'+o.id+'" has a static property "'+c+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+c+'" will be ignored.')),!p&&!DI.has(c)&&(l[c]=i[c])}Object.assign(o,l),Object.assign(o,Ot({},e(o),{lazy:void 0}))}async function wl(n,e,t,i,o,l,c,d,p){p===void 0&&(p={});let y,_,w,I=M=>{let x,K=new Promise((te,ee)=>x=ee);return w=()=>x(),e.signal.addEventListener("abort",w),Promise.race([M({request:e,params:t.params,context:p.requestContext}),K])};try{let M=t.route[n];if(t.route.lazy)if(M){let x,K=await Promise.all([I(M).catch(te=>{x=te}),$y(t.route,l,o)]);if(x)throw x;_=K[0]}else if(await $y(t.route,l,o),M=t.route[n],M)_=await I(M);else if(n==="action"){let x=new URL(e.url),K=x.pathname+x.search;throw mr(405,{method:e.method,pathname:K,routeId:t.route.id})}else return{type:Dt.data,data:void 0};else if(M)_=await I(M);else{let x=new URL(e.url),K=x.pathname+x.search;throw mr(404,{pathname:K})}Je(_!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(M){y=Dt.error,_=M}finally{w&&e.signal.removeEventListener("abort",w)}if(mS(_)){let M=_.status;if(iS.has(M)){let K=_.headers.get("Location");if(Je(K,"Redirects returned/thrown from loaders/actions must have a Location header"),!_0.test(K))K=zf(new URL(e.url),i.slice(0,i.indexOf(t)+1),c,!0,K,d);else if(!p.isStaticRequest){let te=new URL(e.url),ee=K.startsWith("//")?new URL(te.protocol+K):new URL(K),re=Da(ee.pathname,c)!=null;ee.origin===te.origin&&re&&(K=ee.pathname+ee.search+ee.hash)}if(p.isStaticRequest)throw _.headers.set("Location",K),_;return{type:Dt.redirect,status:M,location:K,revalidate:_.headers.get("X-Remix-Revalidate")!==null,reloadDocument:_.headers.get("X-Remix-Reload-Document")!==null}}if(p.isRouteRequest)throw{type:y===Dt.error?Dt.error:Dt.data,response:_};let x;try{let K=_.headers.get("Content-Type");K&&/\bapplication\/json\b/.test(K)?x=await _.json():x=await _.text()}catch(K){return{type:Dt.error,error:K}}return y===Dt.error?{type:y,error:new Cp(M,_.statusText,x),headers:_.headers}:{type:Dt.data,data:x,statusCode:_.status,headers:_.headers}}if(y===Dt.error)return{type:y,error:_};if(pS(_)){var N,F;return{type:Dt.deferred,deferredData:_,statusCode:(N=_.init)==null?void 0:N.status,headers:((F=_.init)==null?void 0:F.headers)&&new Headers(_.init.headers)}}return{type:Dt.data,data:_}}function Tl(n,e,t,i){let o=n.createURL(T0(e)).toString(),l={signal:t};if(i&&br(i.formMethod)){let{formMethod:c,formEncType:d}=i;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(i.json)):d==="text/plain"?l.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?l.body=$f(i.formData):l.body=i.formData}return new Request(o,l)}function $f(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function By(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function dS(n,e,t,i,o){let l={},c=null,d,p=!1,y={};return t.forEach((_,w)=>{let I=e[w].route.id;if(Je(!uo(_),"Cannot handle redirect results in processLoaderData"),ga(_)){let N=kl(n,I),F=_.error;i&&(F=Object.values(i)[0],i=void 0),c=c||{},c[N.route.id]==null&&(c[N.route.id]=F),l[I]=void 0,p||(p=!0,d=y0(_.error)?_.error.status:500),_.headers&&(y[I]=_.headers)}else lo(_)?(o.set(I,_.deferredData),l[I]=_.deferredData.data):l[I]=_.data,_.statusCode!=null&&_.statusCode!==200&&!p&&(d=_.statusCode),_.headers&&(y[I]=_.headers)}),i&&(c=i,l[Object.keys(i)[0]]=void 0),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:y}}function Hy(n,e,t,i,o,l,c,d){let{loaderData:p,errors:y}=dS(e,t,i,o,d);for(let _=0;_<l.length;_++){let{key:w,match:I,controller:N}=l[_];Je(c!==void 0&&c[_]!==void 0,"Did not find corresponding fetcher result");let F=c[_];if(!(N&&N.signal.aborted))if(ga(F)){let M=kl(n.matches,I==null?void 0:I.route.id);y&&y[M.route.id]||(y=Ot({},y,{[M.route.id]:F.error})),n.fetchers.delete(w)}else if(uo(F))Je(!1,"Unhandled fetcher revalidation redirect");else if(lo(F))Je(!1,"Unhandled fetcher deferred data");else{let M=gs(F.data);n.fetchers.set(w,M)}}return{loaderData:p,errors:y}}function qy(n,e,t,i){let o=Ot({},e);for(let l of t){let c=l.route.id;if(e.hasOwnProperty(c)?e[c]!==void 0&&(o[c]=e[c]):n[c]!==void 0&&l.route.loader&&(o[c]=n[c]),i&&i.hasOwnProperty(c))break}return o}function kl(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function Wy(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mr(n,e){let{pathname:t,routeId:i,method:o,type:l}=e===void 0?{}:e,c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",o&&t&&i?d="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":l==="defer-action"?d="defer() is not supported in actions":l==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d='Route "'+i+'" does not match URL "'+t+'"'):n===404?(c="Not Found",d='No route matches URL "'+t+'"'):n===405&&(c="Method Not Allowed",o&&t&&i?d="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(d='Invalid request method "'+o.toUpperCase()+'"')),new Cp(n||500,c,new Error(d),!0)}function Ky(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(uo(t))return{result:t,idx:e}}}function T0(n){let e=typeof n=="string"?Ms(n):n;return yo(Ot({},e,{hash:""}))}function fS(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function lo(n){return n.type===Dt.deferred}function ga(n){return n.type===Dt.error}function uo(n){return(n&&n.type)===Dt.redirect}function pS(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function mS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function gS(n){return rS.has(n.toLowerCase())}function br(n){return tS.has(n.toLowerCase())}async function Gy(n,e,t,i,o,l){for(let c=0;c<t.length;c++){let d=t[c],p=e[c];if(!p)continue;let y=n.find(w=>w.route.id===p.route.id),_=y!=null&&!w0(y,p)&&(l&&l[p.route.id])!==void 0;if(lo(d)&&(o||_)){let w=i[c];Je(w,"Expected an AbortSignal for revalidating fetcher deferred result"),await I0(d,w,o).then(I=>{I&&(t[c]=I||t[c])})}}}async function I0(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Dt.data,data:n.deferredData.unwrappedData}}catch(o){return{type:Dt.error,error:o}}return{type:Dt.data,data:n.deferredData.data}}}function Ap(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Bf(n,e){let t=typeof e=="string"?Ms(e).search:e.search;if(n[n.length-1].route.index&&Ap(t||""))return n[n.length-1];let i=g0(n);return i[i.length-1]}function Qy(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:l,json:c}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function gf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function yS(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Il(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vS(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function gs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function _S(n,e){try{let t=n.sessionStorage.getItem(E0);if(t){let i=JSON.parse(t);for(let[o,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function ES(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(E0,JSON.stringify(t))}catch(i){go(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bc.apply(this,arguments)}const fh=U.createContext(null),S0=U.createContext(null),Vs=U.createContext(null),Pp=U.createContext(null),Vi=U.createContext({outlet:null,matches:[],isDataRoute:!1}),R0=U.createContext(null);function wS(n,e){let{relative:t}=e===void 0?{}:e;Oa()||Je(!1);let{basename:i,navigator:o}=U.useContext(Vs),{hash:l,pathname:c,search:d}=A0(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Ni([i,c])),o.createHref({pathname:p,search:d,hash:l})}function Oa(){return U.useContext(Pp)!=null}function Xl(){return Oa()||Je(!1),U.useContext(Pp).location}function C0(n){U.useContext(Vs).static||U.useLayoutEffect(n)}function So(){let{isDataRoute:n}=U.useContext(Vi);return n?LS():TS()}function TS(){Oa()||Je(!1);let n=U.useContext(fh),{basename:e,future:t,navigator:i}=U.useContext(Vs),{matches:o}=U.useContext(Vi),{pathname:l}=Xl(),c=JSON.stringify(hh(o,t.v7_relativeSplatPath)),d=U.useRef(!1);return C0(()=>{d.current=!0}),U.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){i.go(y);return}let w=dh(y,JSON.parse(c),l,_.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ni([e,w.pathname])),(_.replace?i.replace:i.push)(w,_.state,_)},[e,i,c,l,n])}const IS=U.createContext(null);function SS(n){let e=U.useContext(Vi).outlet;return e&&U.createElement(IS.Provider,{value:n},e)}function A0(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=U.useContext(Vs),{matches:o}=U.useContext(Vi),{pathname:l}=Xl(),c=JSON.stringify(hh(o,i.v7_relativeSplatPath));return U.useMemo(()=>dh(n,JSON.parse(c),l,t==="path"),[n,c,l,t])}function RS(n,e,t,i){Oa()||Je(!1);let{navigator:o}=U.useContext(Vs),{matches:l}=U.useContext(Vi),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=Xl(),_;_=y;let w=_.pathname||"/",I=p==="/"?w:w.slice(p.length)||"/",N=ma(n,{pathname:I});return kS(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ni([p,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Ni([p,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,i)}function CS(){let n=OS(),e=y0(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,null)}const AS=U.createElement(CS,null);class PS extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(Vi.Provider,{value:this.props.routeContext},U.createElement(R0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xS(n){let{routeContext:e,match:t,children:i}=n,o=U.useContext(fh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(Vi.Provider,{value:e},i)}function kS(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var l;if((l=t)!=null&&l.errors)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id]));_>=0||Je(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let w=c[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=_),w.route.id){let{loaderData:I,errors:N}=t,F=w.route.loader&&I[w.route.id]===void 0&&(!N||N[w.route.id]===void 0);if(w.route.lazy||F){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((_,w,I)=>{let N,F=!1,M=null,x=null;t&&(N=d&&w.route.id?d[w.route.id]:void 0,M=w.route.errorElement||AS,p&&(y<0&&I===0?(MS("route-fallback"),F=!0,x=null):y===I&&(F=!0,x=w.route.hydrateFallbackElement||null)));let K=e.concat(c.slice(0,I+1)),te=()=>{let ee;return N?ee=M:F?ee=x:w.route.Component?ee=U.createElement(w.route.Component,null):w.route.element?ee=w.route.element:ee=_,U.createElement(xS,{match:w,routeContext:{outlet:_,matches:K,isDataRoute:t!=null},children:ee})};return t&&(w.route.ErrorBoundary||w.route.errorElement||I===0)?U.createElement(PS,{location:t.location,revalidation:t.revalidation,component:M,error:N,children:te(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):te()},null)}var P0=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(P0||{}),x0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(x0||{});function bS(n){let e=U.useContext(fh);return e||Je(!1),e}function NS(n){let e=U.useContext(S0);return e||Je(!1),e}function DS(n){let e=U.useContext(Vi);return e||Je(!1),e}function k0(n){let e=DS(),t=e.matches[e.matches.length-1];return t.route.id||Je(!1),t.route.id}function OS(){var n;let e=U.useContext(R0),t=NS(x0.UseRouteError),i=k0();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function LS(){let{router:n}=bS(P0.UseNavigateStable),e=k0(),t=U.useRef(!1);return C0(()=>{t.current=!0}),U.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Bc({fromRouteId:e},l)))},[n,e])}const Xy={};function MS(n,e,t){Xy[n]||(Xy[n]=!0)}function b0(n){let{to:e,replace:t,state:i,relative:o}=n;Oa()||Je(!1);let{future:l,static:c}=U.useContext(Vs),{matches:d}=U.useContext(Vi),{pathname:p}=Xl(),y=So(),_=dh(e,hh(d,l.v7_relativeSplatPath),p,o==="path"),w=JSON.stringify(_);return U.useEffect(()=>y(JSON.parse(w),{replace:t,state:i,relative:o}),[y,w,o,t,i]),null}function VS(n){return SS(n.context)}function FS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Bt.Pop,navigator:l,static:c=!1,future:d}=n;Oa()&&Je(!1);let p=e.replace(/^\/*/,"/"),y=U.useMemo(()=>({basename:p,navigator:l,static:c,future:Bc({v7_relativeSplatPath:!1},d)}),[p,d,l,c]);typeof i=="string"&&(i=Ms(i));let{pathname:_="/",search:w="",hash:I="",state:N=null,key:F="default"}=i,M=U.useMemo(()=>{let x=Da(_,p);return x==null?null:{location:{pathname:x,search:w,hash:I,state:N,key:F},navigationType:o}},[p,_,w,I,N,F,o]);return M==null?null:U.createElement(Vs.Provider,{value:y},U.createElement(Pp.Provider,{children:t,value:M}))}new Promise(()=>{});function jS(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:U.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ul.apply(this,arguments)}function US(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function zS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $S(n,e){return n.button===0&&(!e||e==="_self")&&!zS(n)}const BS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function HS(n,e){return lS({basename:void 0,future:Ul({},void 0,{v7_prependBasename:!0}),history:kI({window:void 0}),hydrationData:qS(),routes:n,mapRouteProperties:jS,window:void 0}).initialize()}function qS(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=Ul({},e,{errors:WS(e.errors)})),e}function WS(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Cp(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(o.message);l.stack="",t[i]=l}}else t[i]=o;return t}const KS=U.createContext({isTransitioning:!1}),GS=U.createContext(new Map),QS="startTransition",Yy=wI[QS],XS="flushSync",Jy=xI[XS];function YS(n){Yy?Yy(n):n()}function Sl(n){Jy?Jy(n):n()}let JS=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function ZS(n){let{fallbackElement:e,router:t,future:i}=n,[o,l]=U.useState(t.state),[c,d]=U.useState(),[p,y]=U.useState({isTransitioning:!1}),[_,w]=U.useState(),[I,N]=U.useState(),[F,M]=U.useState(),x=U.useRef(new Map),{v7_startTransition:K}=i||{},te=U.useCallback(R=>{K?YS(R):R()},[K]),ee=U.useCallback((R,S)=>{let{deletedFetchers:C,unstable_flushSync:b,unstable_viewTransitionOpts:D}=S;C.forEach(A=>x.current.delete(A)),R.fetchers.forEach((A,Oe)=>{A.data!==void 0&&x.current.set(Oe,A.data)});let V=t.window==null||typeof t.window.document.startViewTransition!="function";if(!D||V){b?Sl(()=>l(R)):te(()=>l(R));return}if(b){Sl(()=>{I&&(_&&_.resolve(),I.skipTransition()),y({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let A=t.window.document.startViewTransition(()=>{Sl(()=>l(R))});A.finished.finally(()=>{Sl(()=>{w(void 0),N(void 0),d(void 0),y({isTransitioning:!1})})}),Sl(()=>N(A));return}I?(_&&_.resolve(),I.skipTransition(),M({state:R,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(d(R),y({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[t.window,I,_,x,te]);U.useLayoutEffect(()=>t.subscribe(ee),[t,ee]),U.useEffect(()=>{p.isTransitioning&&!p.flushSync&&w(new JS)},[p]),U.useEffect(()=>{if(_&&c&&t.window){let R=c,S=_.promise,C=t.window.document.startViewTransition(async()=>{te(()=>l(R)),await S});C.finished.finally(()=>{w(void 0),N(void 0),d(void 0),y({isTransitioning:!1})}),N(C)}},[te,c,_,t.window]),U.useEffect(()=>{_&&c&&o.location.key===c.location.key&&_.resolve()},[_,I,o.location,c]),U.useEffect(()=>{!p.isTransitioning&&F&&(d(F.state),y({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}),M(void 0))},[p.isTransitioning,F]),U.useEffect(()=>{},[]);let re=U.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:R=>t.navigate(R),push:(R,S,C)=>t.navigate(R,{state:S,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(R,S,C)=>t.navigate(R,{replace:!0,state:S,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[t]),X=t.basename||"/",L=U.useMemo(()=>({router:t,navigator:re,static:!1,basename:X}),[t,re,X]);return U.createElement(U.Fragment,null,U.createElement(fh.Provider,{value:L},U.createElement(S0.Provider,{value:o},U.createElement(GS.Provider,{value:x.current},U.createElement(KS.Provider,{value:p},U.createElement(FS,{basename:X,location:o.location,navigationType:o.historyAction,navigator:re,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},o.initialized||t.future.v7_partialHydration?U.createElement(e1,{routes:t.routes,future:t.future,state:o}):e))))),null)}function e1(n){let{routes:e,future:t,state:i}=n;return RS(e,void 0,i,t)}const t1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yl=U.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:_,unstable_viewTransition:w}=e,I=US(e,BS),{basename:N}=U.useContext(Vs),F,M=!1;if(typeof y=="string"&&n1.test(y)&&(F=y,t1))try{let ee=new URL(window.location.href),re=y.startsWith("//")?new URL(ee.protocol+y):new URL(y),X=Da(re.pathname,N);re.origin===ee.origin&&X!=null?y=X+re.search+re.hash:M=!0}catch{}let x=wS(y,{relative:o}),K=r1(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,unstable_viewTransition:w});function te(ee){i&&i(ee),ee.defaultPrevented||K(ee)}return U.createElement("a",Ul({},I,{href:F||x,onClick:M||l?i:te,ref:t,target:p}))});var Zy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Zy||(Zy={}));var ev;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ev||(ev={}));function r1(n,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:d}=e===void 0?{}:e,p=So(),y=Xl(),_=A0(n,{relative:c});return U.useCallback(w=>{if($S(w,t)){w.preventDefault();let I=i!==void 0?i:yo(y)===yo(_);p(n,{replace:I,state:o,preventScrollReset:l,relative:c,unstable_viewTransition:d})}},[y,p,_,i,o,t,n,l,c,d])}var i1=function(e){return s1(e)&&!o1(e)};function s1(n){return!!n&&typeof n=="object"}function o1(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||u1(n)}var a1=typeof Symbol=="function"&&Symbol.for,l1=a1?Symbol.for("react.element"):60103;function u1(n){return n.$$typeof===l1}function c1(n){return Array.isArray(n)?[]:{}}function Hc(n,e){return e.clone!==!1&&e.isMergeableObject(n)?zl(c1(n),n,e):n}function h1(n,e,t){return n.concat(e).map(function(i){return Hc(i,t)})}function d1(n,e,t){var i={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(o){i[o]=Hc(n[o],t)}),Object.keys(e).forEach(function(o){!t.isMergeableObject(e[o])||!n[o]?i[o]=Hc(e[o],t):i[o]=zl(n[o],e[o],t)}),i}function zl(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||h1,t.isMergeableObject=t.isMergeableObject||i1;var i=Array.isArray(e),o=Array.isArray(n),l=i===o;return l?i?t.arrayMerge(n,e,t):d1(n,e,t):Hc(e,t)}zl.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,o){return zl(i,o,t)},{})};var Hf=zl,N0=typeof global=="object"&&global&&global.Object===Object&&global,f1=typeof self=="object"&&self&&self.Object===Object&&self,ii=N0||f1||Function("return this")(),Ps=ii.Symbol,D0=Object.prototype,p1=D0.hasOwnProperty,m1=D0.toString,Rl=Ps?Ps.toStringTag:void 0;function g1(n){var e=p1.call(n,Rl),t=n[Rl];try{n[Rl]=void 0;var i=!0}catch{}var o=m1.call(n);return i&&(e?n[Rl]=t:delete n[Rl]),o}var y1=Object.prototype,v1=y1.toString;function _1(n){return v1.call(n)}var E1="[object Null]",w1="[object Undefined]",tv=Ps?Ps.toStringTag:void 0;function Ro(n){return n==null?n===void 0?w1:E1:tv&&tv in Object(n)?g1(n):_1(n)}function O0(n,e){return function(t){return n(e(t))}}var xp=O0(Object.getPrototypeOf,Object);function Co(n){return n!=null&&typeof n=="object"}var T1="[object Object]",I1=Function.prototype,S1=Object.prototype,L0=I1.toString,R1=S1.hasOwnProperty,C1=L0.call(Object);function nv(n){if(!Co(n)||Ro(n)!=T1)return!1;var e=xp(n);if(e===null)return!0;var t=R1.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&L0.call(t)==C1}var yf,rv;function A1(){if(rv)return yf;rv=1;var n=Array.isArray,e=Object.keys,t=Object.prototype.hasOwnProperty,i=typeof Element<"u";function o(l,c){if(l===c)return!0;if(l&&c&&typeof l=="object"&&typeof c=="object"){var d=n(l),p=n(c),y,_,w;if(d&&p){if(_=l.length,_!=c.length)return!1;for(y=_;y--!==0;)if(!o(l[y],c[y]))return!1;return!0}if(d!=p)return!1;var I=l instanceof Date,N=c instanceof Date;if(I!=N)return!1;if(I&&N)return l.getTime()==c.getTime();var F=l instanceof RegExp,M=c instanceof RegExp;if(F!=M)return!1;if(F&&M)return l.toString()==c.toString();var x=e(l);if(_=x.length,_!==e(c).length)return!1;for(y=_;y--!==0;)if(!t.call(c,x[y]))return!1;if(i&&l instanceof Element&&c instanceof Element)return l===c;for(y=_;y--!==0;)if(w=x[y],!(w==="_owner"&&l.$$typeof)&&!o(l[w],c[w]))return!1;return!0}return l!==l&&c!==c}return yf=function(c,d){try{return o(c,d)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},yf}var P1=A1();const so=ch(P1);function x1(){this.__data__=[],this.size=0}function M0(n,e){return n===e||n!==n&&e!==e}function ph(n,e){for(var t=n.length;t--;)if(M0(n[t][0],e))return t;return-1}var k1=Array.prototype,b1=k1.splice;function N1(n){var e=this.__data__,t=ph(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():b1.call(e,t,1),--this.size,!0}function D1(n){var e=this.__data__,t=ph(e,n);return t<0?void 0:e[t][1]}function O1(n){return ph(this.__data__,n)>-1}function L1(n,e){var t=this.__data__,i=ph(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Fi(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Fi.prototype.clear=x1;Fi.prototype.delete=N1;Fi.prototype.get=D1;Fi.prototype.has=O1;Fi.prototype.set=L1;function M1(){this.__data__=new Fi,this.size=0}function V1(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function F1(n){return this.__data__.get(n)}function j1(n){return this.__data__.has(n)}function Jl(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var U1="[object AsyncFunction]",z1="[object Function]",$1="[object GeneratorFunction]",B1="[object Proxy]";function V0(n){if(!Jl(n))return!1;var e=Ro(n);return e==z1||e==$1||e==U1||e==B1}var vf=ii["__core-js_shared__"],iv=function(){var n=/[^.]+$/.exec(vf&&vf.keys&&vf.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function H1(n){return!!iv&&iv in n}var q1=Function.prototype,W1=q1.toString;function Ao(n){if(n!=null){try{return W1.call(n)}catch{}try{return n+""}catch{}}return""}var K1=/[\\^$.*+?()[\]{}|]/g,G1=/^\[object .+?Constructor\]$/,Q1=Function.prototype,X1=Object.prototype,Y1=Q1.toString,J1=X1.hasOwnProperty,Z1=RegExp("^"+Y1.call(J1).replace(K1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eR(n){if(!Jl(n)||H1(n))return!1;var e=V0(n)?Z1:G1;return e.test(Ao(n))}function tR(n,e){return n==null?void 0:n[e]}function Po(n,e){var t=tR(n,e);return eR(t)?t:void 0}var $l=Po(ii,"Map"),Bl=Po(Object,"create");function nR(){this.__data__=Bl?Bl(null):{},this.size=0}function rR(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var iR="__lodash_hash_undefined__",sR=Object.prototype,oR=sR.hasOwnProperty;function aR(n){var e=this.__data__;if(Bl){var t=e[n];return t===iR?void 0:t}return oR.call(e,n)?e[n]:void 0}var lR=Object.prototype,uR=lR.hasOwnProperty;function cR(n){var e=this.__data__;return Bl?e[n]!==void 0:uR.call(e,n)}var hR="__lodash_hash_undefined__";function dR(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Bl&&e===void 0?hR:e,this}function vo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}vo.prototype.clear=nR;vo.prototype.delete=rR;vo.prototype.get=aR;vo.prototype.has=cR;vo.prototype.set=dR;function fR(){this.size=0,this.__data__={hash:new vo,map:new($l||Fi),string:new vo}}function pR(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function mh(n,e){var t=n.__data__;return pR(e)?t[typeof e=="string"?"string":"hash"]:t.map}function mR(n){var e=mh(this,n).delete(n);return this.size-=e?1:0,e}function gR(n){return mh(this,n).get(n)}function yR(n){return mh(this,n).has(n)}function vR(n,e){var t=mh(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Fs(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Fs.prototype.clear=fR;Fs.prototype.delete=mR;Fs.prototype.get=gR;Fs.prototype.has=yR;Fs.prototype.set=vR;var _R=200;function ER(n,e){var t=this.__data__;if(t instanceof Fi){var i=t.__data__;if(!$l||i.length<_R-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Fs(i)}return t.set(n,e),this.size=t.size,this}function La(n){var e=this.__data__=new Fi(n);this.size=e.size}La.prototype.clear=M1;La.prototype.delete=V1;La.prototype.get=F1;La.prototype.has=j1;La.prototype.set=ER;function wR(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var sv=function(){try{var n=Po(Object,"defineProperty");return n({},"",{}),n}catch{}}();function F0(n,e,t){e=="__proto__"&&sv?sv(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var TR=Object.prototype,IR=TR.hasOwnProperty;function j0(n,e,t){var i=n[e];(!(IR.call(n,e)&&M0(i,t))||t===void 0&&!(e in n))&&F0(n,e,t)}function gh(n,e,t,i){var o=!t;t||(t={});for(var l=-1,c=e.length;++l<c;){var d=e[l],p=void 0;p===void 0&&(p=n[d]),o?F0(t,d,p):j0(t,d,p)}return t}function SR(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var RR="[object Arguments]";function ov(n){return Co(n)&&Ro(n)==RR}var U0=Object.prototype,CR=U0.hasOwnProperty,AR=U0.propertyIsEnumerable,PR=ov(function(){return arguments}())?ov:function(n){return Co(n)&&CR.call(n,"callee")&&!AR.call(n,"callee")},Zl=Array.isArray;function xR(){return!1}var z0=typeof er=="object"&&er&&!er.nodeType&&er,av=z0&&typeof tr=="object"&&tr&&!tr.nodeType&&tr,kR=av&&av.exports===z0,lv=kR?ii.Buffer:void 0,bR=lv?lv.isBuffer:void 0,$0=bR||xR,NR=9007199254740991,DR=/^(?:0|[1-9]\d*)$/;function OR(n,e){var t=typeof n;return e=e??NR,!!e&&(t=="number"||t!="symbol"&&DR.test(n))&&n>-1&&n%1==0&&n<e}var LR=9007199254740991;function B0(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=LR}var MR="[object Arguments]",VR="[object Array]",FR="[object Boolean]",jR="[object Date]",UR="[object Error]",zR="[object Function]",$R="[object Map]",BR="[object Number]",HR="[object Object]",qR="[object RegExp]",WR="[object Set]",KR="[object String]",GR="[object WeakMap]",QR="[object ArrayBuffer]",XR="[object DataView]",YR="[object Float32Array]",JR="[object Float64Array]",ZR="[object Int8Array]",eC="[object Int16Array]",tC="[object Int32Array]",nC="[object Uint8Array]",rC="[object Uint8ClampedArray]",iC="[object Uint16Array]",sC="[object Uint32Array]",St={};St[YR]=St[JR]=St[ZR]=St[eC]=St[tC]=St[nC]=St[rC]=St[iC]=St[sC]=!0;St[MR]=St[VR]=St[QR]=St[FR]=St[XR]=St[jR]=St[UR]=St[zR]=St[$R]=St[BR]=St[HR]=St[qR]=St[WR]=St[KR]=St[GR]=!1;function oC(n){return Co(n)&&B0(n.length)&&!!St[Ro(n)]}function kp(n){return function(e){return n(e)}}var H0=typeof er=="object"&&er&&!er.nodeType&&er,bl=H0&&typeof tr=="object"&&tr&&!tr.nodeType&&tr,aC=bl&&bl.exports===H0,_f=aC&&N0.process,Sa=function(){try{var n=bl&&bl.require&&bl.require("util").types;return n||_f&&_f.binding&&_f.binding("util")}catch{}}(),uv=Sa&&Sa.isTypedArray,lC=uv?kp(uv):oC,uC=Object.prototype,cC=uC.hasOwnProperty;function q0(n,e){var t=Zl(n),i=!t&&PR(n),o=!t&&!i&&$0(n),l=!t&&!i&&!o&&lC(n),c=t||i||o||l,d=c?SR(n.length,String):[],p=d.length;for(var y in n)(e||cC.call(n,y))&&!(c&&(y=="length"||o&&(y=="offset"||y=="parent")||l&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||OR(y,p)))&&d.push(y);return d}var hC=Object.prototype;function bp(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||hC;return n===t}var dC=O0(Object.keys,Object),fC=Object.prototype,pC=fC.hasOwnProperty;function mC(n){if(!bp(n))return dC(n);var e=[];for(var t in Object(n))pC.call(n,t)&&t!="constructor"&&e.push(t);return e}function W0(n){return n!=null&&B0(n.length)&&!V0(n)}function K0(n){return W0(n)?q0(n):mC(n)}function gC(n,e){return n&&gh(e,K0(e),n)}function yC(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var vC=Object.prototype,_C=vC.hasOwnProperty;function EC(n){if(!Jl(n))return yC(n);var e=bp(n),t=[];for(var i in n)i=="constructor"&&(e||!_C.call(n,i))||t.push(i);return t}function wC(n){return W0(n)?q0(n,!0):EC(n)}function TC(n,e){return n&&gh(e,wC(e),n)}var G0=typeof er=="object"&&er&&!er.nodeType&&er,cv=G0&&typeof tr=="object"&&tr&&!tr.nodeType&&tr,IC=cv&&cv.exports===G0,hv=IC?ii.Buffer:void 0,dv=hv?hv.allocUnsafe:void 0;function SC(n,e){var t=n.length,i=dv?dv(t):new n.constructor(t);return n.copy(i),i}function Q0(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}function RC(n,e){for(var t=-1,i=n==null?0:n.length,o=0,l=[];++t<i;){var c=n[t];e(c,t,n)&&(l[o++]=c)}return l}function X0(){return[]}var CC=Object.prototype,AC=CC.propertyIsEnumerable,fv=Object.getOwnPropertySymbols,Np=fv?function(n){return n==null?[]:(n=Object(n),RC(fv(n),function(e){return AC.call(n,e)}))}:X0;function PC(n,e){return gh(n,Np(n),e)}function Y0(n,e){for(var t=-1,i=e.length,o=n.length;++t<i;)n[o+t]=e[t];return n}var xC=Object.getOwnPropertySymbols,kC=xC?function(n){for(var e=[];n;)Y0(e,Np(n)),n=xp(n);return e}:X0;function bC(n,e){return gh(n,kC(n),e)}function NC(n,e,t){var i=e(n);return Zl(n)?i:Y0(i,t(n))}function DC(n){return NC(n,K0,Np)}var qf=Po(ii,"DataView"),Wf=Po(ii,"Promise"),Kf=Po(ii,"Set"),Gf=Po(ii,"WeakMap"),pv="[object Map]",OC="[object Object]",mv="[object Promise]",gv="[object Set]",yv="[object WeakMap]",vv="[object DataView]",LC=Ao(qf),MC=Ao($l),VC=Ao(Wf),FC=Ao(Kf),jC=Ao(Gf),xi=Ro;(qf&&xi(new qf(new ArrayBuffer(1)))!=vv||$l&&xi(new $l)!=pv||Wf&&xi(Wf.resolve())!=mv||Kf&&xi(new Kf)!=gv||Gf&&xi(new Gf)!=yv)&&(xi=function(n){var e=Ro(n),t=e==OC?n.constructor:void 0,i=t?Ao(t):"";if(i)switch(i){case LC:return vv;case MC:return pv;case VC:return mv;case FC:return gv;case jC:return yv}return e});var UC=Object.prototype,zC=UC.hasOwnProperty;function $C(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&zC.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var _v=ii.Uint8Array;function BC(n){var e=new n.constructor(n.byteLength);return new _v(e).set(new _v(n)),e}function HC(n,e){var t=n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var qC=/\w*$/;function WC(n){var e=new n.constructor(n.source,qC.exec(n));return e.lastIndex=n.lastIndex,e}var Ev=Ps?Ps.prototype:void 0,wv=Ev?Ev.valueOf:void 0;function KC(n){return wv?Object(wv.call(n)):{}}function GC(n,e){var t=n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var QC="[object Boolean]",XC="[object Date]",YC="[object Map]",JC="[object Number]",ZC="[object RegExp]",eA="[object Set]",tA="[object String]",nA="[object Symbol]",rA="[object ArrayBuffer]",iA="[object DataView]",sA="[object Float32Array]",oA="[object Float64Array]",aA="[object Int8Array]",lA="[object Int16Array]",uA="[object Int32Array]",cA="[object Uint8Array]",hA="[object Uint8ClampedArray]",dA="[object Uint16Array]",fA="[object Uint32Array]";function pA(n,e,t){var i=n.constructor;switch(e){case rA:return BC(n);case QC:case XC:return new i(+n);case iA:return HC(n);case sA:case oA:case aA:case lA:case uA:case cA:case hA:case dA:case fA:return GC(n);case YC:return new i;case JC:case tA:return new i(n);case ZC:return WC(n);case eA:return new i;case nA:return KC(n)}}var Tv=Object.create,mA=function(){function n(){}return function(e){if(!Jl(e))return{};if(Tv)return Tv(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function gA(n){return typeof n.constructor=="function"&&!bp(n)?mA(xp(n)):{}}var yA="[object Map]";function vA(n){return Co(n)&&xi(n)==yA}var Iv=Sa&&Sa.isMap,_A=Iv?kp(Iv):vA,EA="[object Set]";function wA(n){return Co(n)&&xi(n)==EA}var Sv=Sa&&Sa.isSet,TA=Sv?kp(Sv):wA,IA=2,J0="[object Arguments]",SA="[object Array]",RA="[object Boolean]",CA="[object Date]",AA="[object Error]",Z0="[object Function]",PA="[object GeneratorFunction]",xA="[object Map]",kA="[object Number]",eE="[object Object]",bA="[object RegExp]",NA="[object Set]",DA="[object String]",OA="[object Symbol]",LA="[object WeakMap]",MA="[object ArrayBuffer]",VA="[object DataView]",FA="[object Float32Array]",jA="[object Float64Array]",UA="[object Int8Array]",zA="[object Int16Array]",$A="[object Int32Array]",BA="[object Uint8Array]",HA="[object Uint8ClampedArray]",qA="[object Uint16Array]",WA="[object Uint32Array]",Et={};Et[J0]=Et[SA]=Et[MA]=Et[VA]=Et[RA]=Et[CA]=Et[FA]=Et[jA]=Et[UA]=Et[zA]=Et[$A]=Et[xA]=Et[kA]=Et[eE]=Et[bA]=Et[NA]=Et[DA]=Et[OA]=Et[BA]=Et[HA]=Et[qA]=Et[WA]=!0;Et[AA]=Et[Z0]=Et[LA]=!1;function Nc(n,e,t,i,o,l){var c,d=e&IA;if(c!==void 0)return c;if(!Jl(n))return n;var p=Zl(n);if(p)return c=$C(n),Q0(n,c);var y=xi(n),_=y==Z0||y==PA;if($0(n))return SC(n);if(y==eE||y==J0||_&&!o)return c=_?{}:gA(n),d?bC(n,TC(c,n)):PC(n,gC(c,n));if(!Et[y])return o?n:{};c=pA(n,y),l||(l=new La);var w=l.get(n);if(w)return w;l.set(n,c),TA(n)?n.forEach(function(F){c.add(Nc(F,e,t,F,n,l))}):_A(n)&&n.forEach(function(F,M){c.set(M,Nc(F,e,t,M,n,l))});var I=DC,N=p?void 0:I(n);return wR(N||n,function(F,M){N&&(M=F,F=n[M]),j0(c,M,Nc(F,e,t,M,n,l))}),c}var KA=4;function Rv(n){return Nc(n,KA)}function tE(n,e){for(var t=-1,i=n==null?0:n.length,o=Array(i);++t<i;)o[t]=e(n[t],t,n);return o}var GA="[object Symbol]";function Dp(n){return typeof n=="symbol"||Co(n)&&Ro(n)==GA}var QA="Expected a function";function Op(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(QA);var t=function(){var i=arguments,o=e?e.apply(this,i):i[0],l=t.cache;if(l.has(o))return l.get(o);var c=n.apply(this,i);return t.cache=l.set(o,c)||l,c};return t.cache=new(Op.Cache||Fs),t}Op.Cache=Fs;var XA=500;function YA(n){var e=Op(n,function(i){return t.size===XA&&t.clear(),i}),t=e.cache;return e}var JA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZA=/\\(\\)?/g,eP=YA(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(JA,function(t,i,o,l){e.push(o?l.replace(ZA,"$1"):i||t)}),e});function tP(n){if(typeof n=="string"||Dp(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var Cv=Ps?Ps.prototype:void 0,Av=Cv?Cv.toString:void 0;function nE(n){if(typeof n=="string")return n;if(Zl(n))return tE(n,nE)+"";if(Dp(n))return Av?Av.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function nP(n){return n==null?"":nE(n)}function rE(n){return Zl(n)?tE(n,tP):Dp(n)?[n]:Q0(eP(nP(n)))}var Ef={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function rP(){if(Pv)return ht;Pv=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,y=n?Symbol.for("react.concurrent_mode"):60111,_=n?Symbol.for("react.forward_ref"):60112,w=n?Symbol.for("react.suspense"):60113,I=n?Symbol.for("react.suspense_list"):60120,N=n?Symbol.for("react.memo"):60115,F=n?Symbol.for("react.lazy"):60116,M=n?Symbol.for("react.block"):60121,x=n?Symbol.for("react.fundamental"):60117,K=n?Symbol.for("react.responder"):60118,te=n?Symbol.for("react.scope"):60119;function ee(X){if(typeof X=="object"&&X!==null){var L=X.$$typeof;switch(L){case e:switch(X=X.type,X){case p:case y:case i:case l:case o:case w:return X;default:switch(X=X&&X.$$typeof,X){case d:case _:case F:case N:case c:return X;default:return L}}case t:return L}}}function re(X){return ee(X)===y}return ht.AsyncMode=p,ht.ConcurrentMode=y,ht.ContextConsumer=d,ht.ContextProvider=c,ht.Element=e,ht.ForwardRef=_,ht.Fragment=i,ht.Lazy=F,ht.Memo=N,ht.Portal=t,ht.Profiler=l,ht.StrictMode=o,ht.Suspense=w,ht.isAsyncMode=function(X){return re(X)||ee(X)===p},ht.isConcurrentMode=re,ht.isContextConsumer=function(X){return ee(X)===d},ht.isContextProvider=function(X){return ee(X)===c},ht.isElement=function(X){return typeof X=="object"&&X!==null&&X.$$typeof===e},ht.isForwardRef=function(X){return ee(X)===_},ht.isFragment=function(X){return ee(X)===i},ht.isLazy=function(X){return ee(X)===F},ht.isMemo=function(X){return ee(X)===N},ht.isPortal=function(X){return ee(X)===t},ht.isProfiler=function(X){return ee(X)===l},ht.isStrictMode=function(X){return ee(X)===o},ht.isSuspense=function(X){return ee(X)===w},ht.isValidElementType=function(X){return typeof X=="string"||typeof X=="function"||X===i||X===y||X===l||X===o||X===w||X===I||typeof X=="object"&&X!==null&&(X.$$typeof===F||X.$$typeof===N||X.$$typeof===c||X.$$typeof===d||X.$$typeof===_||X.$$typeof===x||X.$$typeof===K||X.$$typeof===te||X.$$typeof===M)},ht.typeOf=ee,ht}var xv;function iP(){return xv||(xv=1,Ef.exports=rP()),Ef.exports}var wf,kv;function sP(){if(kv)return wf;kv=1;var n=iP(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=i,l[n.Memo]=o;function c(F){return n.isMemo(F)?o:l[F.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,I=Object.prototype;function N(F,M,x){if(typeof M!="string"){if(I){var K=w(M);K&&K!==I&&N(F,K,x)}var te=p(M);y&&(te=te.concat(y(M)));for(var ee=c(F),re=c(M),X=0;X<te.length;++X){var L=te[X];if(!t[L]&&!(x&&x[L])&&!(re&&re[L])&&!(ee&&ee[L])){var R=_(M,L);try{d(F,L,R)}catch{}}}}return F}return wf=N,wf}sP();function nn(){return nn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nn.apply(this,arguments)}function iE(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}var yh=U.createContext(void 0);yh.displayName="FormikContext";yh.Provider;yh.Consumer;function oP(){var n=U.useContext(yh);return n}var kr=function(e){return typeof e=="function"},vh=function(e){return e!==null&&typeof e=="object"},aP=function(e){return String(Math.floor(Number(e)))===e},Tf=function(e){return Object.prototype.toString.call(e)==="[object String]"},If=function(e){return vh(e)&&kr(e.then)};function Zn(n,e,t,i){i===void 0&&(i=0);for(var o=rE(e);n&&i<o.length;)n=n[o[i++]];return i!==o.length&&!n||n===void 0?t:n}function ho(n,e,t){for(var i=Rv(n),o=i,l=0,c=rE(e);l<c.length-1;l++){var d=c[l],p=Zn(n,c.slice(0,l+1));if(p&&(vh(p)||Array.isArray(p)))o=o[d]=Rv(p);else{var y=c[l+1];o=o[d]=aP(y)&&Number(y)>=0?[]:{}}}return(l===0?n:o)[c[l]]===t?n:(t===void 0?delete o[c[l]]:o[c[l]]=t,l===0&&t===void 0&&delete i[c[l]],i)}function sE(n,e,t,i){t===void 0&&(t=new WeakMap),i===void 0&&(i={});for(var o=0,l=Object.keys(n);o<l.length;o++){var c=l[o],d=n[c];vh(d)?t.get(d)||(t.set(d,!0),i[c]=Array.isArray(d)?[]:{},sE(d,e,t,i[c])):i[c]=e}return i}function lP(n,e){switch(e.type){case"SET_VALUES":return nn({},n,{values:e.payload});case"SET_TOUCHED":return nn({},n,{touched:e.payload});case"SET_ERRORS":return so(n.errors,e.payload)?n:nn({},n,{errors:e.payload});case"SET_STATUS":return nn({},n,{status:e.payload});case"SET_ISSUBMITTING":return nn({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return nn({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return nn({},n,{values:ho(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return nn({},n,{touched:ho(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return nn({},n,{errors:ho(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return nn({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return nn({},n,{touched:sE(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return nn({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return nn({},n,{isSubmitting:!1});default:return n}}var io={},Ec={};function Lp(n){var e=n.validateOnChange,t=e===void 0?!0:e,i=n.validateOnBlur,o=i===void 0?!0:i,l=n.validateOnMount,c=l===void 0?!1:l,d=n.isInitialValid,p=n.enableReinitialize,y=p===void 0?!1:p,_=n.onSubmit,w=iE(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),I=nn({validateOnChange:t,validateOnBlur:o,validateOnMount:c,onSubmit:_},w),N=U.useRef(I.initialValues),F=U.useRef(I.initialErrors||io),M=U.useRef(I.initialTouched||Ec),x=U.useRef(I.initialStatus),K=U.useRef(!1),te=U.useRef({});U.useEffect(function(){return K.current=!0,function(){K.current=!1}},[]);var ee=U.useState(0),re=ee[1],X=U.useRef({values:I.initialValues,errors:I.initialErrors||io,touched:I.initialTouched||Ec,status:I.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),L=X.current,R=U.useCallback(function(G){var de=X.current;X.current=lP(de,G),de!==X.current&&re(function(pe){return pe+1})},[]),S=U.useCallback(function(G,de){return new Promise(function(pe,Te){var Re=I.validate(G,de);Re==null?pe(io):If(Re)?Re.then(function(xe){pe(xe||io)},function(xe){Te(xe)}):pe(Re)})},[I.validate]),C=U.useCallback(function(G,de){var pe=I.validationSchema,Te=kr(pe)?pe(de):pe,Re=de&&Te.validateAt?Te.validateAt(de,G):cP(G,Te);return new Promise(function(xe,gt){Re.then(function(){xe(io)},function(Rt){Rt.name==="ValidationError"?xe(uP(Rt)):gt(Rt)})})},[I.validationSchema]),b=U.useCallback(function(G,de){return new Promise(function(pe){return pe(te.current[G].validate(de))})},[]),D=U.useCallback(function(G){var de=Object.keys(te.current).filter(function(Te){return kr(te.current[Te].validate)}),pe=de.length>0?de.map(function(Te){return b(Te,Zn(G,Te))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(pe).then(function(Te){return Te.reduce(function(Re,xe,gt){return xe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||xe&&(Re=ho(Re,de[gt],xe)),Re},{})})},[b]),V=U.useCallback(function(G){return Promise.all([D(G),I.validationSchema?C(G):{},I.validate?S(G):{}]).then(function(de){var pe=de[0],Te=de[1],Re=de[2],xe=Hf.all([pe,Te,Re],{arrayMerge:hP});return xe})},[I.validate,I.validationSchema,D,S,C]),A=pr(function(G){return G===void 0&&(G=L.values),R({type:"SET_ISVALIDATING",payload:!0}),V(G).then(function(de){return K.current&&(R({type:"SET_ISVALIDATING",payload:!1}),R({type:"SET_ERRORS",payload:de})),de})});U.useEffect(function(){c&&K.current===!0&&so(N.current,I.initialValues)&&A(N.current)},[c,A]);var Oe=U.useCallback(function(G){var de=G&&G.values?G.values:N.current,pe=G&&G.errors?G.errors:F.current?F.current:I.initialErrors||{},Te=G&&G.touched?G.touched:M.current?M.current:I.initialTouched||{},Re=G&&G.status?G.status:x.current?x.current:I.initialStatus;N.current=de,F.current=pe,M.current=Te,x.current=Re;var xe=function(){R({type:"RESET_FORM",payload:{isSubmitting:!!G&&!!G.isSubmitting,errors:pe,touched:Te,status:Re,values:de,isValidating:!!G&&!!G.isValidating,submitCount:G&&G.submitCount&&typeof G.submitCount=="number"?G.submitCount:0}})};if(I.onReset){var gt=I.onReset(L.values,kn);If(gt)?gt.then(xe):xe()}else xe()},[I.initialErrors,I.initialStatus,I.initialTouched,I.onReset]);U.useEffect(function(){K.current===!0&&!so(N.current,I.initialValues)&&y&&(N.current=I.initialValues,Oe(),c&&A(N.current))},[y,I.initialValues,Oe,c,A]),U.useEffect(function(){y&&K.current===!0&&!so(F.current,I.initialErrors)&&(F.current=I.initialErrors||io,R({type:"SET_ERRORS",payload:I.initialErrors||io}))},[y,I.initialErrors]),U.useEffect(function(){y&&K.current===!0&&!so(M.current,I.initialTouched)&&(M.current=I.initialTouched||Ec,R({type:"SET_TOUCHED",payload:I.initialTouched||Ec}))},[y,I.initialTouched]),U.useEffect(function(){y&&K.current===!0&&!so(x.current,I.initialStatus)&&(x.current=I.initialStatus,R({type:"SET_STATUS",payload:I.initialStatus}))},[y,I.initialStatus,I.initialTouched]);var lt=pr(function(G){if(te.current[G]&&kr(te.current[G].validate)){var de=Zn(L.values,G),pe=te.current[G].validate(de);return If(pe)?(R({type:"SET_ISVALIDATING",payload:!0}),pe.then(function(Te){return Te}).then(function(Te){R({type:"SET_FIELD_ERROR",payload:{field:G,value:Te}}),R({type:"SET_ISVALIDATING",payload:!1})})):(R({type:"SET_FIELD_ERROR",payload:{field:G,value:pe}}),Promise.resolve(pe))}else if(I.validationSchema)return R({type:"SET_ISVALIDATING",payload:!0}),C(L.values,G).then(function(Te){return Te}).then(function(Te){R({type:"SET_FIELD_ERROR",payload:{field:G,value:Zn(Te,G)}}),R({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ge=U.useCallback(function(G,de){var pe=de.validate;te.current[G]={validate:pe}},[]),Se=U.useCallback(function(G){delete te.current[G]},[]),ae=pr(function(G,de){R({type:"SET_TOUCHED",payload:G});var pe=de===void 0?o:de;return pe?A(L.values):Promise.resolve()}),ye=U.useCallback(function(G){R({type:"SET_ERRORS",payload:G})},[]),k=pr(function(G,de){var pe=kr(G)?G(L.values):G;R({type:"SET_VALUES",payload:pe});var Te=de===void 0?t:de;return Te?A(pe):Promise.resolve()}),Z=U.useCallback(function(G,de){R({type:"SET_FIELD_ERROR",payload:{field:G,value:de}})},[]),he=pr(function(G,de,pe){R({type:"SET_FIELD_VALUE",payload:{field:G,value:de}});var Te=pe===void 0?t:pe;return Te?A(ho(L.values,G,de)):Promise.resolve()}),Ce=U.useCallback(function(G,de){var pe=de,Te=G,Re;if(!Tf(G)){G.persist&&G.persist();var xe=G.target?G.target:G.currentTarget,gt=xe.type,Rt=xe.name,Tn=xe.id,bn=xe.value,rr=xe.checked;xe.outerHTML;var Lr=xe.options,Mr=xe.multiple;pe=de||Rt||Tn,Te=/number|range/.test(gt)?(Re=parseFloat(bn),isNaN(Re)?"":Re):/checkbox/.test(gt)?fP(Zn(L.values,pe),rr,bn):Lr&&Mr?dP(Lr):bn}pe&&he(pe,Te)},[he,L.values]),ke=pr(function(G){if(Tf(G))return function(de){return Ce(de,G)};Ce(G)}),je=pr(function(G,de,pe){de===void 0&&(de=!0),R({type:"SET_FIELD_TOUCHED",payload:{field:G,value:de}});var Te=pe===void 0?o:pe;return Te?A(L.values):Promise.resolve()}),Be=U.useCallback(function(G,de){G.persist&&G.persist();var pe=G.target,Te=pe.name,Re=pe.id;pe.outerHTML;var xe=de||Te||Re;je(xe,!0)},[je]),We=pr(function(G){if(Tf(G))return function(de){return Be(de,G)};Be(G)}),Qe=U.useCallback(function(G){kr(G)?R({type:"SET_FORMIK_STATE",payload:G}):R({type:"SET_FORMIK_STATE",payload:function(){return G}})},[]),Mt=U.useCallback(function(G){R({type:"SET_STATUS",payload:G})},[]),yr=U.useCallback(function(G){R({type:"SET_ISSUBMITTING",payload:G})},[]),mt=pr(function(){return R({type:"SUBMIT_ATTEMPT"}),A().then(function(G){var de=G instanceof Error,pe=!de&&Object.keys(G).length===0;if(pe){var Te;try{if(Te=vr(),Te===void 0)return}catch(Re){throw Re}return Promise.resolve(Te).then(function(Re){return K.current&&R({type:"SUBMIT_SUCCESS"}),Re}).catch(function(Re){if(K.current)throw R({type:"SUBMIT_FAILURE"}),Re})}else if(K.current&&(R({type:"SUBMIT_FAILURE"}),de))throw G})}),xn=pr(function(G){G&&G.preventDefault&&kr(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&kr(G.stopPropagation)&&G.stopPropagation(),mt().catch(function(de){console.warn("Warning: An unhandled error was caught from submitForm()",de)})}),kn={resetForm:Oe,validateForm:A,validateField:lt,setErrors:ye,setFieldError:Z,setFieldTouched:je,setFieldValue:he,setStatus:Mt,setSubmitting:yr,setTouched:ae,setValues:k,setFormikState:Qe,submitForm:mt},vr=pr(function(){return _(L.values,kn)}),dn=pr(function(G){G&&G.preventDefault&&kr(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&kr(G.stopPropagation)&&G.stopPropagation(),Oe()}),li=U.useCallback(function(G){return{value:Zn(L.values,G),error:Zn(L.errors,G),touched:!!Zn(L.touched,G),initialValue:Zn(N.current,G),initialTouched:!!Zn(M.current,G),initialError:Zn(F.current,G)}},[L.errors,L.touched,L.values]),ui=U.useCallback(function(G){return{setValue:function(pe,Te){return he(G,pe,Te)},setTouched:function(pe,Te){return je(G,pe,Te)},setError:function(pe){return Z(G,pe)}}},[he,je,Z]),zi=U.useCallback(function(G){var de=vh(G),pe=de?G.name:G,Te=Zn(L.values,pe),Re={name:pe,value:Te,onChange:ke,onBlur:We};if(de){var xe=G.type,gt=G.value,Rt=G.as,Tn=G.multiple;xe==="checkbox"?gt===void 0?Re.checked=!!Te:(Re.checked=!!(Array.isArray(Te)&&~Te.indexOf(gt)),Re.value=gt):xe==="radio"?(Re.checked=Te===gt,Re.value=gt):Rt==="select"&&Tn&&(Re.value=Re.value||[],Re.multiple=!0)}return Re},[We,ke,L.values]),nr=U.useMemo(function(){return!so(N.current,L.values)},[N.current,L.values]),Bn=U.useMemo(function(){return typeof d<"u"?nr?L.errors&&Object.keys(L.errors).length===0:d!==!1&&kr(d)?d(I):d:L.errors&&Object.keys(L.errors).length===0},[d,nr,L.errors,I]),sn=nn({},L,{initialValues:N.current,initialErrors:F.current,initialTouched:M.current,initialStatus:x.current,handleBlur:We,handleChange:ke,handleReset:dn,handleSubmit:xn,resetForm:Oe,setErrors:ye,setFormikState:Qe,setFieldTouched:je,setFieldValue:he,setFieldError:Z,setStatus:Mt,setSubmitting:yr,setTouched:ae,setValues:k,submitForm:mt,validateForm:A,validateField:lt,isValid:Bn,dirty:nr,unregisterField:Se,registerField:Ge,getFieldProps:zi,getFieldMeta:li,getFieldHelpers:ui,validateOnBlur:o,validateOnChange:t,validateOnMount:c});return sn}function uP(n){var e={};if(n.inner){if(n.inner.length===0)return ho(e,n.path,n.message);for(var o=n.inner,t=Array.isArray(o),i=0,o=t?o:o[Symbol.iterator]();;){var l;if(t){if(i>=o.length)break;l=o[i++]}else{if(i=o.next(),i.done)break;l=i.value}var c=l;Zn(e,c.path)||(e=ho(e,c.path,c.message))}}return e}function cP(n,e,t,i){t===void 0&&(t=!1);var o=Qf(n);return e[t?"validateSync":"validate"](o,{abortEarly:!1,context:o})}function Qf(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=String(t);Array.isArray(n[i])===!0?e[i]=n[i].map(function(o){return Array.isArray(o)===!0||nv(o)?Qf(o):o!==""?o:void 0}):nv(n[i])?e[i]=Qf(n[i]):e[i]=n[i]!==""?n[i]:void 0}return e}function hP(n,e,t){var i=n.slice();return e.forEach(function(l,c){if(typeof i[c]>"u"){var d=t.clone!==!1,p=d&&t.isMergeableObject(l);i[c]=p?Hf(Array.isArray(l)?[]:{},l,t):l}else t.isMergeableObject(l)?i[c]=Hf(n[c],l,t):n.indexOf(l)===-1&&i.push(l)}),i}function dP(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function fP(n,e,t){if(typeof n=="boolean")return!!e;var i=[],o=!1,l=-1;if(Array.isArray(n))i=n,l=n.indexOf(t),o=l>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!o?i.concat(t):o?i.slice(0,l).concat(i.slice(l+1)):i}var pP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?U.useLayoutEffect:U.useEffect;function pr(n){var e=U.useRef(n);return pP(function(){e.current=n}),U.useCallback(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.current.apply(void 0,i)},[])}var mP=U.forwardRef(function(n,e){var t=n.action,i=iE(n,["action"]),o=t??"#",l=oP(),c=l.handleReset,d=l.handleSubmit;return U.createElement("form",nn({onSubmit:d,ref:e,onReset:c,action:o},i))});mP.displayName="Form";const gP=/^[A-Z][a-zA-Z'-]+$/,oE=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,yP=/^\(?[1-9]{2}\)? ?(?:[2-8]|9)[0-9]{3,4}\-?[0-9]{4}$/,vP=["São Paulo","Rio de Janeiro","Belo Horizonte","Brasília"],_P=["Salvador","Fortaleza","Curitiba","Manaus"],EP=["Contact Us"],wP=["Help","Sitemap","Legal & Privacy Information","Vulnerability Disclosure Program"],TP=["Cars","MotorCycles","Mobile","For Sale: House & Apartments","Scooters","Commercial: & other Vehicles","For Rent: House & Apartments"],IP=n=>{const{userName:e,email:t,mobile:i,password:o,rePassword:l}=n,c={};return e.trim().length?e.length>15?c.userName="Must be 15 characters or less.":gP.test(e)||(c.userName="First letter must be capital."):c.userName="Required*",t.trim().length?oE.test(t)||(c.email="Invalid email format."):c.email="Required*",i.trim().length?yP.test(i)||(c.mobile="Invalid mobile format"):c.mobile="Required*",o.trim().length?o.length<8?c.password="Password must be at least 8 characters long.":!/[a-z]/.test(o)||!/[A-Z]/.test(o)?c.password="Password must contain uppercase and lowercase letters.":/\d/.test(o)?/[@$!%*?&]/.test(o)||(c.password="Password must contain at least one special character."):c.password="Password must contain at least one digit.":c.password="Required*",l.trim().length?(l.length!==o.length||l!==o)&&(c.rePassword="Password is not matching"):c.rePassword="Required*",c},SP=()=>{};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},RP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,w=(l&3)<<4|d>>4;let I=(d&15)<<2|y>>6,N=y&63;p||(N=64,c||(I=64)),i.push(t[_],t[w],t[I],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||w==null)throw new CP;const I=l<<2|d>>4;if(i.push(I),y!==64){const N=d<<4&240|y>>2;if(i.push(N),w!==64){const F=y<<6&192|w;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AP=function(n){const e=aE(n);return lE.encodeByteArray(e,!0)},qc=function(n){return AP(n).replace(/\./g,"")},uE=function(n){try{return lE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=()=>PP().__FIREBASE_DEFAULTS__,kP=()=>{if(typeof process>"u"||typeof bv>"u")return;const n=bv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uE(n[1]);return e&&JSON.parse(e)},_h=()=>{try{return SP()||xP()||kP()||bP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cE=n=>{var e,t;return(t=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hE=n=>{const e=cE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},dE=()=>{var n;return(n=_h())===null||n===void 0?void 0:n.config},fE=n=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qc(JSON.stringify(t)),qc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function OP(){var n;const e=(n=_h())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FP(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jP(){return!OP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UP(){try{return typeof indexedDB=="object"}catch{return!1}}function zP(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="FirebaseError";class si extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$P,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?BP(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new si(o,d,i)}}function BP(n,e){return n.replace(HP,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const HP=/\{\$([^}]+)}/g;function qP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _o(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(Nv(l)&&Nv(c)){if(!_o(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Nv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function WP(n,e){const t=new KP(n,e);return t.subscribe.bind(t)}class KP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");GP(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Sf),o.error===void 0&&(o.error=Sf),o.complete===void 0&&(o.complete=Sf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n){return n&&n._delegate?n._delegate:n}class xs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new NP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YP(e))try{this.getOrInitializeService({instanceIdentifier:oo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oo){return this.instances.has(e)}getOptions(e=oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=oo){return this.component?this.component.multipleInstances?e:oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XP(n){return n===oo?void 0:n}function YP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const ZP={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},ex=Ze.INFO,tx={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},nx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=tx[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=ex,this._logHandler=nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const rx=(n,e)=>e.some(t=>n instanceof t);let Dv,Ov;function ix(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sx(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mE=new WeakMap,Xf=new WeakMap,gE=new WeakMap,Rf=new WeakMap,Vp=new WeakMap;function ox(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ss(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&mE.set(t,n)}).catch(()=>{}),Vp.set(e,n),e}function ax(n){if(Xf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Xf.set(n,e)}let Yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Xf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function lx(n){Yf=n(Yf)}function ux(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Cf(this),e,...t);return gE.set(i,e.sort?e.sort():[e]),Ss(i)}:sx().includes(n)?function(...e){return n.apply(Cf(this),e),Ss(mE.get(this))}:function(...e){return Ss(n.apply(Cf(this),e))}}function cx(n){return typeof n=="function"?ux(n):(n instanceof IDBTransaction&&ax(n),rx(n,ix())?new Proxy(n,Yf):n)}function Ss(n){if(n instanceof IDBRequest)return ox(n);if(Rf.has(n))return Rf.get(n);const e=cx(n);return e!==n&&(Rf.set(n,e),Vp.set(e,n)),e}const Cf=n=>Vp.get(n);function hx(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Ss(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ss(c.result),p.oldVersion,p.newVersion,Ss(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const dx=["get","getKey","getAll","getAllKeys","count"],fx=["put","add","delete","clear"],Af=new Map;function Lv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=fx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||dx.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Af.set(e,l),l}lx(n=>({...n,get:(e,t,i)=>Lv(e,t)||n.get(e,t,i),has:(e,t)=>!!Lv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jf="@firebase/app",Mv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Mp("@firebase/app"),gx="@firebase/app-compat",yx="@firebase/analytics-compat",vx="@firebase/analytics",_x="@firebase/app-check-compat",Ex="@firebase/app-check",wx="@firebase/auth",Tx="@firebase/auth-compat",Ix="@firebase/database",Sx="@firebase/data-connect",Rx="@firebase/database-compat",Cx="@firebase/functions",Ax="@firebase/functions-compat",Px="@firebase/installations",xx="@firebase/installations-compat",kx="@firebase/messaging",bx="@firebase/messaging-compat",Nx="@firebase/performance",Dx="@firebase/performance-compat",Ox="@firebase/remote-config",Lx="@firebase/remote-config-compat",Mx="@firebase/storage",Vx="@firebase/storage-compat",Fx="@firebase/firestore",jx="@firebase/vertexai",Ux="@firebase/firestore-compat",zx="firebase",$x="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",Bx={[Jf]:"fire-core",[gx]:"fire-core-compat",[vx]:"fire-analytics",[yx]:"fire-analytics-compat",[Ex]:"fire-app-check",[_x]:"fire-app-check-compat",[wx]:"fire-auth",[Tx]:"fire-auth-compat",[Ix]:"fire-rtdb",[Sx]:"fire-data-connect",[Rx]:"fire-rtdb-compat",[Cx]:"fire-fn",[Ax]:"fire-fn-compat",[Px]:"fire-iid",[xx]:"fire-iid-compat",[kx]:"fire-fcm",[bx]:"fire-fcm-compat",[Nx]:"fire-perf",[Dx]:"fire-perf-compat",[Ox]:"fire-rc",[Lx]:"fire-rc-compat",[Mx]:"fire-gcs",[Vx]:"fire-gcs-compat",[Fx]:"fire-fst",[Ux]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[zx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,Hx=new Map,ep=new Map;function Vv(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Eo(n){const e=n.name;if(ep.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,n);for(const t of Wc.values())Vv(t,n);for(const t of Hx.values())Vv(t,n);return!0}function Eh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rs=new eu("app","Firebase",qx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=$x;function yE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Zf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Rs.create("bad-app-name",{appName:String(o)});if(t||(t=dE()),!t)throw Rs.create("no-options");const l=Wc.get(o);if(l){if(_o(t,l.options)&&_o(i,l.config))return l;throw Rs.create("duplicate-app",{appName:o})}const c=new JP(o);for(const p of ep.values())c.addComponent(p);const d=new Wx(t,i,c);return Wc.set(o,d),d}function Fp(n=Zf){const e=Wc.get(n);if(!e&&n===Zf&&dE())return yE();if(!e)throw Rs.create("no-app",{appName:n});return e}function Yr(n,e,t){var i;let o=(i=Bx[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(d.join(" "));return}Eo(new xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firebase-heartbeat-database",Gx=1,Hl="firebase-heartbeat-store";let Pf=null;function vE(){return Pf||(Pf=hx(Kx,Gx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rs.create("idb-open",{originalErrorMessage:n.message})})),Pf}async function Qx(n){try{const t=(await vE()).transaction(Hl),i=await t.objectStore(Hl).get(_E(n));return await t.done,i}catch(e){if(e instanceof si)Di.warn(e.message);else{const t=Rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function Fv(n,e){try{const i=(await vE()).transaction(Hl,"readwrite");await i.objectStore(Hl).put(e,_E(n)),await i.done}catch(t){if(t instanceof si)Di.warn(t.message);else{const i=Rs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(i.message)}}}function _E(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=1024,Yx=30;class Jx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ek(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>Yx){const c=tk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jv(),{heartbeatsToSend:i,unsentEntries:o}=Zx(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Di.warn(t),""}}}function jv(){return new Date().toISOString().substring(0,10)}function Zx(n,e=Xx){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Uv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Uv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UP()?zP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Qx(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Uv(n){return qc(JSON.stringify({version:2,heartbeats:n})).length}function tk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){Eo(new xs("platform-logger",e=>new px(e),"PRIVATE")),Eo(new xs("heartbeat",e=>new Jx(e),"PRIVATE")),Yr(Jf,Mv,n),Yr(Jf,Mv,"esm2017"),Yr("fire-js","")}nk("");var rk="firebase",ik="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(rk,ik,"app");function jp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sk=EE,wE=new eu("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Mp("@firebase/auth");function ok(n,...e){Kc.logLevel<=Ze.WARN&&Kc.warn(`Auth (${xo}): ${n}`,...e)}function Dc(n,...e){Kc.logLevel<=Ze.ERROR&&Kc.error(`Auth (${xo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,...e){throw Up(n,...e)}function Jr(n,...e){return Up(n,...e)}function TE(n,e,t){const i=Object.assign(Object.assign({},sk()),{[e]:t});return new eu("auth","Firebase",i).create(e,{appName:n.name})}function fo(n){return TE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Up(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return wE.create(n,...e)}function $e(n,e,...t){if(!n)throw Up(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dc(e),new Error(e)}function Li(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ak(){return zv()==="http:"||zv()==="https:"}function zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ak()||MP()||"connection"in navigator)?navigator.onLine:!0}function uk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=DP()||VP()}get(){return lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dk=new nu(3e4,6e4);function $p(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ma(n,e,t,i,o={}){return SE(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=tu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return LP()||(y.referrerPolicy="no-referrer"),IE.fetch()(await RE(n,n.config.apiHost,t,d),y)})}async function SE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},ck),e);try{const o=new pk(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw wc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw wc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw TE(n,_,y);Oi(n,_)}}catch(o){if(o instanceof si)throw o;Oi(n,"network-request-failed",{message:String(o)})}}async function fk(n,e,t,i,o={}){const l=await Ma(n,e,t,i,o);return"mfaPendingCredential"in l&&Oi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function RE(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?zp(n.config,o):`${n.config.apiScheme}://${o}`;return hk.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class pk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Jr(this.auth,"network-request-failed")),dk.get())})}}function wc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Jr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(n,e){return Ma(n,"POST","/v1/accounts:delete",e)}async function Gc(n,e){return Ma(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gk(n,e=!1){const t=ji(n),i=await t.getIdToken(e),o=Bp(i);$e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Nl(xf(o.auth_time)),issuedAtTime:Nl(xf(o.iat)),expirationTime:Nl(xf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xf(n){return Number(n)*1e3}function Bp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=uE(t);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $v(n){const e=Bp(n);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof si&&yk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function yk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await ql(n,Gc(t,{idToken:i}));$e(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?CE(l.providerUserInfo):[],d=Ek(n.providerData,c),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new np(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,w)}async function _k(n){const e=ji(n);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ek(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function CE(n){return n.map(e=>{var{providerId:t}=e,i=jp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(n,e){const t=await SE(n,{},async()=>{const i=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await RE(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Tk(n,e){return Ma(n,"POST","/v2/accounts:revokeToken",$p(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=$v(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await wk(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new va;return i&&($e(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&($e(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&($e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){$e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new np(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await ql(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gk(this,e)}reload(){return _k(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(fo(this.auth));const e=await this.getIdToken();return await ql(this,mk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,p,y,_;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,N=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,F=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=t.createdAt)!==null&&y!==void 0?y:void 0,te=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ee,emailVerified:re,isAnonymous:X,providerData:L,stsTokenManager:R}=t;$e(ee&&R,e,"internal-error");const S=va.fromJSON(this.name,R);$e(typeof ee=="string",e,"internal-error"),ms(w,e.name),ms(I,e.name),$e(typeof re=="boolean",e,"internal-error"),$e(typeof X=="boolean",e,"internal-error"),ms(N,e.name),ms(F,e.name),ms(M,e.name),ms(x,e.name),ms(K,e.name),ms(te,e.name);const C=new Dr({uid:ee,auth:e,email:I,emailVerified:re,displayName:w,isAnonymous:X,photoURL:F,phoneNumber:N,tenantId:M,stsTokenManager:S,createdAt:K,lastLoginAt:te});return L&&Array.isArray(L)&&(C.providerData=L.map(b=>Object.assign({},b))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new va;o.updateFromServerResponse(t);const l=new Dr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Qc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];$e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?CE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new va;d.updateFromIdToken(i);const p=new Dr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;function bi(n){Li(n instanceof Function,"Expected a class definition");let e=Bv.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Bv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AE.type="NONE";const Hv=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(n,e,t){return`firebase:${n}:${e}:${t}`}class _a{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=Oc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Oc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Gc(this.auth,{idToken:e}).catch(()=>{});return t?Dr._fromGetAccountInfoResponse(this.auth,t,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new _a(bi(Hv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||bi(Hv);const c=Oc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){let w;if(typeof _=="string"){const I=await Gc(e,{idToken:_}).catch(()=>{});if(!I)break;w=await Dr._fromGetAccountInfoResponse(e,I,_)}else w=Dr._fromJSON(e,_);y!==l&&(d=w),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new _a(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new _a(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DE(e))return"Blackberry";if(OE(e))return"Webos";if(xE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(NE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function PE(n=wn()){return/firefox\//i.test(n)}function xE(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(n=wn()){return/crios\//i.test(n)}function bE(n=wn()){return/iemobile/i.test(n)}function NE(n=wn()){return/android/i.test(n)}function DE(n=wn()){return/blackberry/i.test(n)}function OE(n=wn()){return/webos/i.test(n)}function Hp(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Ik(n=wn()){var e;return Hp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Sk(){return FP()&&document.documentMode===10}function LE(n=wn()){return Hp(n)||NE(n)||OE(n)||DE(n)||/windows phone/i.test(n)||bE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(n,e=[]){let t;switch(n){case"Browser":t=qv(wn());break;case"Worker":t=`${qv(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(n,e={}){return Ma(n,"GET","/v2/passwordPolicy",$p(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=6;class Pk{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:Ak,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new Rk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gc(this,{idToken:e}),i=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(fo(this));const t=e?ji(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ck(this),t=new Pk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Tk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bi(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ME(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ok(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qp(n){return ji(n)}class Wv{constructor(e){this.auth=e,this.observer=null,this.addObserver=WP(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kk(n){Wp=n}function bk(n){return Wp.loadJS(n)}function Nk(){return Wp.gapiScript}function Dk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(n,e){const t=Eh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(_o(l,e??{}))return o;Oi(o,"already-initialized")}return t.initialize({options:e})}function Lk(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(bi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Mk(n,e,t){const i=qp(n);$e(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=VE(e),{host:c,port:d}=Vk(e),p=d===null?"":`:${d}`,y={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){$e(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$e(_o(y,i.config.emulator)&&_o(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,Fk()}function VE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Vk(n){const e=VE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Kv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Kv(c)}}}function Kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Fk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n,e){return fk(n,"POST","/v1/accounts:signInWithIdp",$p(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="http://localhost";class wo extends FE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Oi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=jp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new wo(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ea(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ea(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ea(e,t)}buildRequest(){const e={requestUri:jk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends jE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ru{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends ru{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends ru{constructor(){super("twitter.com")}static credential(e,t){return wo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Es.credential(t,i)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Dr._fromIdTokenResponse(e,i,o),c=Gv(i);return new Ra({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Gv(i);return new Ra({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Gv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends si{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Xc(e,t,i,o)}}function UE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(n,l,e,i):l})}async function Uk(n,e,t=!1){const i=await ql(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ra._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e,t=!1){const{auth:i}=n;if(Nr(i.app))return Promise.reject(fo(i));const o="reauthenticate";try{const l=await ql(n,UE(i,o,e,n),t);$e(l.idToken,i,"internal-error");const c=Bp(l.idToken);$e(c,i,"internal-error");const{sub:d}=c;return $e(n.uid===d,i,"user-mismatch"),Ra._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Oi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n,e,t=!1){if(Nr(n.app))return Promise.reject(fo(n));const i="signIn",o=await UE(n,i,e),l=await Ra._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}function Bk(n,e,t,i){return ji(n).onIdTokenChanged(e,t,i)}function Hk(n,e,t){return ji(n).beforeAuthStateChanged(e,t)}function qk(n,e,t,i){return ji(n).onAuthStateChanged(e,t,i)}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=1e3,Kk=10;class $E extends zE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);Sk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Kk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$E.type="LOCAL";const Gk=$E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE extends zE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BE.type="SESSION";const HE=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new wh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await Qk(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=Kp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(w){const I=w;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function Yk(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function Jk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function e2(){return qE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebaseLocalStorageDb",t2=1,Jc="firebaseLocalStorage",KE="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Th(n,e){return n.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function n2(){const n=indexedDB.deleteDatabase(WE);return new iu(n).toPromise()}function rp(){const n=indexedDB.open(WE,t2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Jc,{keyPath:KE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Jc)?e(i):(i.close(),await n2(),e(await rp()))})})}async function Qv(n,e,t){const i=Th(n,!0).put({[KE]:e,value:t});return new iu(i).toPromise()}async function r2(n,e){const t=Th(n,!1).get(e),i=await new iu(t).toPromise();return i===void 0?null:i.value}function Xv(n,e){const t=Th(n,!0).delete(e);return new iu(t).toPromise()}const i2=800,s2=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>s2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(e2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Jk(),!this.activeServiceWorker)return;this.sender=new Xk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await Qv(e,Yc,"1"),await Xv(e,Yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Qv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>r2(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Xv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Th(o,!1).getAll();return new iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const o2=GE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n,e){return e?bi(e):($e(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends FE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function l2(n){return $k(n.auth,new Gp(n),n.bypassAuthState)}function u2(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),zk(t,new Gp(n),n.bypassAuthState)}async function c2(n){const{auth:e,user:t}=n;return $e(t,e,"internal-error"),Uk(t,new Gp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l2;case"linkViaPopup":case"linkViaRedirect":return c2;case"reauthViaPopup":case"reauthViaRedirect":return u2;default:Oi(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new nu(2e3,1e4);class ya extends QE{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h2.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="pendingRedirect",Lc=new Map;class f2 extends QE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const i=await p2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p2(n,e){const t=y2(e),i=g2(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function m2(n,e){Lc.set(n._key(),e)}function g2(n){return bi(n._redirectPersistence)}function y2(n){return Oc(d2,n.config.apiKey,n.name)}async function v2(n,e,t=!1){if(Nr(n.app))return Promise.reject(fo(n));const i=qp(n),o=a2(i,e),c=await new f2(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=10*60*1e3;class E2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!XE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Jr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(e))}saveEventToCache(e){this.cachedEventUids.add(Yv(e)),this.lastProcessedEventTime=Date.now()}}function Yv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(n,e={}){return Ma(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S2=/^https?/;async function R2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await T2(n);for(const t of e)try{if(C2(t))return}catch{}Oi(n,"unauthorized-domain")}function C2(n){const e=tp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!S2.test(t))return!1;if(I2.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new nu(3e4,6e4);function Jv(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function P2(n){return new Promise((e,t)=>{var i,o,l;function c(){Jv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jv(),t(Jr(n,"network-request-failed"))},timeout:A2.get()})}if(!((o=(i=Zr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Zr().gapi)===null||l===void 0)&&l.load)c();else{const d=Dk("iframefcb");return Zr()[d]=()=>{gapi.load?c():t(Jr(n,"network-request-failed"))},bk(`${Nk()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function x2(n){return Mc=Mc||P2(n),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new nu(5e3,15e3),b2="__/auth/iframe",N2="emulator/auth/iframe",D2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L2(n){const e=n.config;$e(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zp(e,N2):`https://${n.config.authDomain}/${b2}`,i={apiKey:e.apiKey,appName:n.name,v:xo},o=O2.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${tu(i).slice(1)}`}async function M2(n){const e=await x2(n),t=Zr().gapi;return $e(t,n,"internal-error"),e.open({where:document.body,url:L2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D2,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Jr(n,"network-request-failed"),d=Zr().setTimeout(()=>{l(c)},k2.get());function p(){Zr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},F2=500,j2=600,U2="_blank",z2="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $2(n,e,t,i=F2,o=j2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},V2),{width:i.toString(),height:o.toString(),top:l,left:c}),y=wn().toLowerCase();t&&(d=kE(y)?U2:t),PE(y)&&(e=e||z2,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[N,F])=>`${I}${N}=${F},`,"");if(Ik(y)&&d!=="_self")return B2(e||"",d),new Zv(null);const w=window.open(e||"",d,_);$e(w,n,"popup-blocked");try{w.focus()}catch{}return new Zv(w)}function B2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="__/auth/handler",q2="emulator/auth/handler",W2=encodeURIComponent("fac");async function e_(n,e,t,i,o,l){$e(n.config.authDomain,n,"auth-domain-config-required"),$e(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:xo,eventId:o};if(e instanceof jE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",qP(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof ru){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${W2}=${encodeURIComponent(p)}`:"";return`${K2(n)}?${tu(d).slice(1)}${y}`}function K2({config:n}){return n.emulator?zp(n,q2):`https://${n.authDomain}/${H2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HE,this._completeRedirectFn=v2,this._overrideRedirectResult=m2}async _openPopup(e,t,i,o){var l;Li((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await e_(e,t,i,tp(),o);return $2(e,c,Kp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await e_(e,t,i,tp(),o);return Yk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Li(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await M2(e),i=new E2(e);return t.register("authEvent",o=>($e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kf,{type:kf},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[kf];c!==void 0&&t(!!c),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=R2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LE()||xE()||Hp()}}const Q2=G2;var t_="@firebase/auth",n_="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function J2(n){Eo(new xs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;$e(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ME(n)},y=new xk(i,o,l,p);return Lk(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Eo(new xs("auth-internal",e=>{const t=qp(e.getProvider("auth").getImmediate());return(i=>new X2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(t_,n_,Y2(n)),Yr(t_,n_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=5*60,eb=fE("authIdTokenMaxAge")||Z2;let r_=null;const tb=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>eb)return;const o=t==null?void 0:t.token;r_!==o&&(r_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function nb(n=Fp()){const e=Eh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Ok(n,{popupRedirectResolver:Q2,persistence:[o2,Gk,HE]}),i=fE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=tb(l.toString());Hk(t,c,()=>c(t.currentUser)),Bk(t,d=>c(d))}}const o=cE("auth");return o&&Mk(t,`http://${o}`),t}function rb(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kk({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Jr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",rb().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});J2("Browser");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,YE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function C(){}C.prototype=S.prototype,R.D=S.prototype,R.prototype=new C,R.prototype.constructor=R,R.C=function(b,D,V){for(var A=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)A[Oe-2]=arguments[Oe];return S.prototype[D].apply(b,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,C){C||(C=0);var b=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)b[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;16>D;++D)b[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=R.g[0],C=R.g[1],D=R.g[2];var V=R.g[3],A=S+(V^C&(D^V))+b[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=V+(D^S&(C^D))+b[1]+3905402710&4294967295,V=S+(A<<12&4294967295|A>>>20),A=D+(C^V&(S^C))+b[2]+606105819&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(S^D&(V^S))+b[3]+3250441966&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(V^C&(D^V))+b[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=V+(D^S&(C^D))+b[5]+1200080426&4294967295,V=S+(A<<12&4294967295|A>>>20),A=D+(C^V&(S^C))+b[6]+2821735955&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(S^D&(V^S))+b[7]+4249261313&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(V^C&(D^V))+b[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=V+(D^S&(C^D))+b[9]+2336552879&4294967295,V=S+(A<<12&4294967295|A>>>20),A=D+(C^V&(S^C))+b[10]+4294925233&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(S^D&(V^S))+b[11]+2304563134&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(V^C&(D^V))+b[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=V+(D^S&(C^D))+b[13]+4254626195&4294967295,V=S+(A<<12&4294967295|A>>>20),A=D+(C^V&(S^C))+b[14]+2792965006&4294967295,D=V+(A<<17&4294967295|A>>>15),A=C+(S^D&(V^S))+b[15]+1236535329&4294967295,C=D+(A<<22&4294967295|A>>>10),A=S+(D^V&(C^D))+b[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(S^C))+b[6]+3225465664&4294967295,V=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(V^S))+b[11]+643717713&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(D^V))+b[0]+3921069994&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^V&(C^D))+b[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(S^C))+b[10]+38016083&4294967295,V=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(V^S))+b[15]+3634488961&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(D^V))+b[4]+3889429448&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^V&(C^D))+b[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(S^C))+b[14]+3275163606&4294967295,V=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(V^S))+b[3]+4107603335&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(D^V))+b[8]+1163531501&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(D^V&(C^D))+b[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=V+(C^D&(S^C))+b[2]+4243563512&4294967295,V=S+(A<<9&4294967295|A>>>23),A=D+(S^C&(V^S))+b[7]+1735328473&4294967295,D=V+(A<<14&4294967295|A>>>18),A=C+(V^S&(D^V))+b[12]+2368359562&4294967295,C=D+(A<<20&4294967295|A>>>12),A=S+(C^D^V)+b[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^D)+b[8]+2272392833&4294967295,V=S+(A<<11&4294967295|A>>>21),A=D+(V^S^C)+b[11]+1839030562&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^S)+b[14]+4259657740&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^V)+b[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^D)+b[4]+1272893353&4294967295,V=S+(A<<11&4294967295|A>>>21),A=D+(V^S^C)+b[7]+4139469664&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^S)+b[10]+3200236656&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^V)+b[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^D)+b[0]+3936430074&4294967295,V=S+(A<<11&4294967295|A>>>21),A=D+(V^S^C)+b[3]+3572445317&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^S)+b[6]+76029189&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(C^D^V)+b[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=V+(S^C^D)+b[12]+3873151461&4294967295,V=S+(A<<11&4294967295|A>>>21),A=D+(V^S^C)+b[15]+530742520&4294967295,D=V+(A<<16&4294967295|A>>>16),A=C+(D^V^S)+b[2]+3299628645&4294967295,C=D+(A<<23&4294967295|A>>>9),A=S+(D^(C|~V))+b[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~D))+b[7]+1126891415&4294967295,V=S+(A<<10&4294967295|A>>>22),A=D+(S^(V|~C))+b[14]+2878612391&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~S))+b[5]+4237533241&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~V))+b[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~D))+b[3]+2399980690&4294967295,V=S+(A<<10&4294967295|A>>>22),A=D+(S^(V|~C))+b[10]+4293915773&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~S))+b[1]+2240044497&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~V))+b[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~D))+b[15]+4264355552&4294967295,V=S+(A<<10&4294967295|A>>>22),A=D+(S^(V|~C))+b[6]+2734768916&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~S))+b[13]+1309151649&4294967295,C=D+(A<<21&4294967295|A>>>11),A=S+(D^(C|~V))+b[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=V+(C^(S|~D))+b[11]+3174756917&4294967295,V=S+(A<<10&4294967295|A>>>22),A=D+(S^(V|~C))+b[2]+718787259&4294967295,D=V+(A<<15&4294967295|A>>>17),A=C+(V^(D|~S))+b[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+V&4294967295}i.prototype.u=function(R,S){S===void 0&&(S=R.length);for(var C=S-this.blockSize,b=this.B,D=this.h,V=0;V<S;){if(D==0)for(;V<=C;)o(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<S;)if(b[D++]=R.charCodeAt(V++),D==this.blockSize){o(this,b),D=0;break}}else for(;V<S;)if(b[D++]=R[V++],D==this.blockSize){o(this,b),D=0;break}}this.h=D,this.o+=S},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;var C=8*this.o;for(S=R.length-8;S<R.length;++S)R[S]=C&255,C/=256;for(this.u(R),R=Array(16),S=C=0;4>S;++S)for(var b=0;32>b;b+=8)R[C++]=this.g[S]>>>b&255;return R};function l(R,S){var C=d;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=S(R)}function c(R,S){this.h=S;for(var C=[],b=!0,D=R.length-1;0<=D;D--){var V=R[D]|0;b&&V==S||(C[D]=V,b=!1)}this.g=C}var d={};function p(R){return-128<=R&&128>R?l(R,function(S){return new c([S|0],0>S?-1:0)}):new c([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return w;if(0>R)return x(y(-R));for(var S=[],C=1,b=0;R>=C;b++)S[b]=R/C|0,C*=4294967296;return new c(S,0)}function _(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return x(_(R.substring(1),S));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(S,8)),b=w,D=0;D<R.length;D+=8){var V=Math.min(8,R.length-D),A=parseInt(R.substring(D,D+V),S);8>V?(V=y(Math.pow(S,V)),b=b.j(V).add(y(A))):(b=b.j(C),b=b.add(y(A)))}return b}var w=p(0),I=p(1),N=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-x(this).m();for(var R=0,S=1,C=0;C<this.g.length;C++){var b=this.i(C);R+=(0<=b?b:4294967296+b)*S,S*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(M(this))return"-"+x(this).toString(R);for(var S=y(Math.pow(R,6)),C=this,b="";;){var D=re(C,S).g;C=K(C,D.j(S));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(R);if(C=D,F(C))return V+b;for(;6>V.length;)V="0"+V;b=V+b}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(var S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function M(R){return R.h==-1}n.l=function(R){return R=K(this,R),M(R)?-1:F(R)?0:1};function x(R){for(var S=R.g.length,C=[],b=0;b<S;b++)C[b]=~R.g[b];return new c(C,~R.h).add(I)}n.abs=function(){return M(this)?x(this):this},n.add=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0,D=0;D<=S;D++){var V=b+(this.i(D)&65535)+(R.i(D)&65535),A=(V>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);b=A>>>16,V&=65535,A&=65535,C[D]=A<<16|V}return new c(C,C[C.length-1]&-2147483648?-1:0)};function K(R,S){return R.add(x(S))}n.j=function(R){if(F(this)||F(R))return w;if(M(this))return M(R)?x(this).j(x(R)):x(x(this).j(R));if(M(R))return x(this.j(x(R)));if(0>this.l(N)&&0>R.l(N))return y(this.m()*R.m());for(var S=this.g.length+R.g.length,C=[],b=0;b<2*S;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<R.g.length;D++){var V=this.i(b)>>>16,A=this.i(b)&65535,Oe=R.i(D)>>>16,lt=R.i(D)&65535;C[2*b+2*D]+=A*lt,te(C,2*b+2*D),C[2*b+2*D+1]+=V*lt,te(C,2*b+2*D+1),C[2*b+2*D+1]+=A*Oe,te(C,2*b+2*D+1),C[2*b+2*D+2]+=V*Oe,te(C,2*b+2*D+2)}for(b=0;b<S;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=S;b<2*S;b++)C[b]=0;return new c(C,0)};function te(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function ee(R,S){this.g=R,this.h=S}function re(R,S){if(F(S))throw Error("division by zero");if(F(R))return new ee(w,w);if(M(R))return S=re(x(R),S),new ee(x(S.g),x(S.h));if(M(S))return S=re(R,x(S)),new ee(x(S.g),S.h);if(30<R.g.length){if(M(R)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var C=I,b=S;0>=b.l(R);)C=X(C),b=X(b);var D=L(C,1),V=L(b,1);for(b=L(b,2),C=L(C,2);!F(b);){var A=V.add(b);0>=A.l(R)&&(D=D.add(C),V=A),b=L(b,1),C=L(C,1)}return S=K(R,D.j(S)),new ee(D,S)}for(D=w;0<=R.l(S);){for(C=Math.max(1,Math.floor(R.m()/S.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),V=y(C),A=V.j(S);M(A)||0<A.l(R);)C-=b,V=y(C),A=V.j(S);F(V)&&(V=I),D=D.add(V),R=K(R,A)}return new ee(D,R)}n.A=function(R){return re(this,R).h},n.and=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)&R.i(b);return new c(C,this.h&R.h)},n.or=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)|R.i(b);return new c(C,this.h|R.h)},n.xor=function(R){for(var S=Math.max(this.g.length,R.g.length),C=[],b=0;b<S;b++)C[b]=this.i(b)^R.i(b);return new c(C,this.h^R.h)};function X(R){for(var S=R.g.length+1,C=[],b=0;b<S;b++)C[b]=R.i(b)<<1|R.i(b-1)>>>31;return new c(C,R.h)}function L(R,S){var C=S>>5;S%=32;for(var b=R.g.length-C,D=[],V=0;V<b;V++)D[V]=0<S?R.i(V+C)>>>S|R.i(V+C+1)<<32-S:R.i(V+C);return new c(D,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,YE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Cs=c}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JE,Cl,ZE,Vc,ip,ew,tw,nw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var B=u[T];if(!(B in v))break e;v=v[B]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,T=!1,B={next:function(){if(!T&&v<u.length){var Y=v++;return{value:m(Y,u[Y]),done:!1}}return T=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,T),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,I.apply(null,arguments)}function N(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function F(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(T,B,Y){for(var ce=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)ce[ft-2]=arguments[ft];return m.prototype[B].apply(T,ce)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function x(u,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(p(T)){const B=u.length||0,Y=T.length||0;u.length=B+Y;for(let ce=0;ce<Y;ce++)u[B+ce]=T[ce]}else u.push(T)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function re(u){return re[" "](u),u}re[" "]=function(){};var X=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function L(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function R(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let v,T;for(let B=1;B<arguments.length;B++){T=arguments[B];for(v in T)u[v]=T[v];for(let Y=0;Y<C.length;Y++)v=C[Y],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function D(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function V(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,v){const T=lt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var lt=new K(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ae=!1,ye=new Oe,k=()=>{const u=d.Promise.resolve(void 0);Se=()=>{u.then(Z)}};var Z=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){V(v)}var m=lt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ae=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function je(u,m){if(Ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(X){e:{try{re(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&je.aa.h.call(this)}}F(je,Ce);var Be={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Mt(u,m,v,T,B){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=B,this.key=++Qe,this.da=this.fa=!1}function yr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function mt(u){this.src=u,this.g={},this.h=0}mt.prototype.add=function(u,m,v,T,B){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var ce=kn(u,m,T,B);return-1<ce?(m=u[ce],v||(m.fa=!1)):(m=new Mt(m,this.src,Y,!!T,B),m.fa=v,u.push(m)),m};function xn(u,m){var v=m.type;if(v in u.g){var T=u.g[v],B=Array.prototype.indexOf.call(T,m,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(T,B,1),Y&&(yr(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function kn(u,m,v,T){for(var B=0;B<u.length;++B){var Y=u[B];if(!Y.da&&Y.listener==m&&Y.capture==!!v&&Y.ha==T)return B}return-1}var vr="closure_lm_"+(1e6*Math.random()|0),dn={};function li(u,m,v,T,B){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)li(u,m[Y],v,T,B);return null}return v=Te(v),u&&u[We]?u.K(m,v,y(T)?!!T.capture:!1,B):ui(u,m,v,!1,T,B)}function ui(u,m,v,T,B,Y){if(!m)throw Error("Invalid event type");var ce=y(B)?!!B.capture:!!B,ft=de(u);if(ft||(u[vr]=ft=new mt(u)),v=ft.add(m,v,T,ce,Y),v.proxy)return v;if(T=zi(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)ke||(B=ce),B===void 0&&(B=!1),u.addEventListener(m.toString(),T,B);else if(u.attachEvent)u.attachEvent(sn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zi(){function u(v){return m.call(u.src,u.listener,v)}const m=G;return u}function nr(u,m,v,T,B){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)nr(u,m[Y],v,T,B);else T=y(T)?!!T.capture:!!T,v=Te(v),u&&u[We]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],v=kn(Y,v,T,B),-1<v&&(yr(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=de(u))&&(m=u.g[m.toString()],u=-1,m&&(u=kn(m,v,T,B)),(v=-1<u?m[u]:null)&&Bn(v))}function Bn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[We])xn(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(sn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=de(m))?(xn(v,u),v.h==0&&(v.src=null,m[vr]=null)):yr(u)}}}function sn(u){return u in dn?dn[u]:dn[u]="on"+u}function G(u,m){if(u.da)u=!0;else{m=new je(m,this);var v=u.listener,T=u.ha||u.src;u.fa&&Bn(u),u=v.call(T,m)}return u}function de(u){return u=u[vr],u instanceof mt?u:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(u){return typeof u=="function"?u:(u[pe]||(u[pe]=function(m){return u.handleEvent(m)}),u[pe])}function Re(){he.call(this),this.i=new mt(this),this.M=this,this.F=null}F(Re,he),Re.prototype[We]=!0,Re.prototype.removeEventListener=function(u,m,v,T){nr(this,u,m,v,T)};function xe(u,m){var v,T=u.F;if(T)for(v=[];T;T=T.F)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Ce(m,u);else if(m instanceof Ce)m.target=m.target||u;else{var B=m;m=new Ce(T,u),b(m,B)}if(B=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ce=m.g=v[Y];B=gt(ce,T,!0,m)&&B}if(ce=m.g=u,B=gt(ce,T,!0,m)&&B,B=gt(ce,T,!1,m)&&B,v)for(Y=0;Y<v.length;Y++)ce=m.g=v[Y],B=gt(ce,T,!1,m)&&B}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],T=0;T<v.length;T++)yr(v[T]);delete u.g[m],u.h--}}this.F=null},Re.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Re.prototype.L=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function gt(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,Y=0;Y<m.length;++Y){var ce=m[Y];if(ce&&!ce.da&&ce.capture==v){var ft=ce.listener,qt=ce.ha||ce.src;ce.fa&&xn(u.i,ce),B=ft.call(qt,T)!==!1&&B}}return B&&!T.defaultPrevented}function Rt(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Tn(u){u.g=Rt(()=>{u.g=null,u.i&&(u.i=!1,Tn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class bn extends he{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Tn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){he.call(this),this.h=u,this.g={}}F(rr,he);var Lr=[];function Mr(u){L(u.g,function(m,v){this.g.hasOwnProperty(v)&&Bn(m)},u),u.g={}}rr.prototype.N=function(){rr.aa.N.call(this),Mr(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=d.JSON.stringify,$i=d.JSON.parse,ci=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function hi(){}hi.prototype.h=null;function di(u){return u.h||(u.h=u.i())}function Bi(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){Ce.call(this,"d")}F(ir,Ce);function $(){Ce.call(this,"c")}F($,Ce);var W={},J=null;function ue(){return J=J||new Re}W.La="serverreachability";function Ee(u){Ce.call(this,W.La,u)}F(Ee,Ce);function Me(u){const m=ue();xe(m,new Ee(m))}W.STAT_EVENT="statevent";function be(u,m){Ce.call(this,W.STAT_EVENT,u),this.stat=m}F(be,Ce);function me(u){const m=ue();xe(m,new be(m,u))}W.Ma="timingevent";function Ae(u,m){Ce.call(this,W.Ma,u),this.size=m}F(Ae,Ce);function Ue(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function vt(){this.g=!0}vt.prototype.xa=function(){this.g=!1};function Ve(u,m,v,T,B,Y){u.info(function(){if(u.g)if(Y)for(var ce="",ft=Y.split("&"),qt=0;qt<ft.length;qt++){var tt=ft[qt].split("=");if(1<tt.length){var Jt=tt[0];tt=tt[1];var Ut=Jt.split("_");ce=2<=Ut.length&&Ut[1]=="type"?ce+(Jt+"="+tt+"&"):ce+(Jt+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+T+") [attempt "+B+"]: "+m+`
`+v+`
`+ce})}function it(u,m,v,T,B,Y,ce){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+B+"]: "+m+`
`+v+`
`+Y+" "+ce})}function dt(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bt(u,v)+(T?" "+T:"")})}function Xt(u,m){u.info(function(){return"TIMEOUT: "+m})}vt.prototype.info=function(){};function bt(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var T=v[u];if(!(2>T.length)){var B=T[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<B.length;ce++)B[ce]=""}}}}return Vr(v)}catch{return m}}var Hn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yt;function fn(){}F(fn,hi),fn.prototype.g=function(){return new XMLHttpRequest},fn.prototype.i=function(){return{}},Yt=new fn;function Ht(u,m,v,T){this.j=u,this.i=m,this.l=v,this.R=T||1,this.U=new rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}var fi={},Fr={};function qn(u,m,v){u.L=1,u.v=Xi(Kn(m)),u.m=v,u.P=!0,jr(u,null)}function jr(u,m){u.F=Date.now(),Xe(u),u.A=Kn(u.v);var v=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ji(v.i,"t",T),u.C=0,v=u.j.J,u.h=new qi,u.g=Su(u.j,v?m:null,!u.m),0<u.O&&(u.M=new bn(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,T=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Lr[0]=B.toString()),B=Lr);for(var Y=0;Y<B.length;Y++){var ce=li(v,B[Y],T||m.handleEvent,!1,m.h||m);if(!ce)break;m.g[ce.key]=ce}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Me(),Ve(u.i,u.u,u.A,u.l,u.R,u.m)}Ht.prototype.ca=function(u){u=u.target;const m=this.M;m&&Dn(u)==3?m.j():this.Y(u)},Ht.prototype.Y=function(u){try{if(u==this.g)e:{const Ut=Dn(this.g);var m=this.g.Ba();const ar=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Wa(this.g)))){this.J||Ut!=4||m==7||(m==8||0>=ar?Me(3):Me(2)),mi(this);var v=this.g.Z();this.X=v;t:if(ut(this)){var T=Wa(this.g);u="";var B=T.length,Y=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),Wi(this);var ce="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(Y&&m==B-1)});T.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,it(this.i,this.u,this.A,this.l,this.R,Ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,qt=this.g;if((ft=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ft)){var tt=ft;break t}}tt=null}if(v=tt)dt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,za(this,v);else{this.o=!1,this.s=3,me(12),sr(this),Wi(this);break e}}if(this.P){v=!0;let Qn;for(;!this.J&&this.C<ce.length;)if(Qn=pt(this,ce),Qn==Fr){Ut==4&&(this.s=4,me(14),v=!1),dt(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==fi){this.s=4,me(15),dt(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else dt(this.i,this.l,Qn,null),za(this,Qn);if(ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ce.length!=0||this.h.h||(this.s=1,me(16),v=!1),this.o=this.o&&v,!v)dt(this.i,this.l,ce,"[Invalid Chunked Response]"),sr(this),Wi(this);else if(0<ce.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ga(Jt),Jt.M=!0,me(11))}}else dt(this.i,this.l,ce,null),za(this,ce);Ut==4&&sr(this),this.o&&!this.J&&(Ut==4?$o(this.j,this):(this.o=!1,Xe(this)))}else Vo(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,me(12)):(this.s=0,me(13)),sr(this),Wi(this)}}}catch{}finally{}};function ut(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function pt(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Fr:(v=Number(m.substring(v,T)),isNaN(v)?fi:(T+=1,T+v>m.length?Fr:(m=m.slice(T,T+v),u.C=T+v,m)))}Ht.prototype.cancel=function(){this.J=!0,sr(this)};function Xe(u){u.S=Date.now()+u.I,pi(u,u.I)}function pi(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ue(I(u.ba,u),m)}function mi(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Ht.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xt(this.i,this.A),this.L!=2&&(Me(),me(17)),sr(this),this.s=2,Wi(this)):pi(this,this.S-u)};function Wi(u){u.j.G==0||u.J||$o(u.j,u)}function sr(u){mi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Mr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function za(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Sn(v.h,u))){if(!u.K&&Sn(v.h,u)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var B=T;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)zo(v),Ir(v);else break e;Uo(v),me(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ue(I(v.Za,v),6e3));if(1>=cu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ei(v,11)}else if((u.K||v.g==u)&&zo(v),!te(m))for(B=v.Da.g.parse(m),m=0;m<B.length;m++){let tt=B[m];if(v.T=tt[0],tt=tt[1],v.G==2)if(tt[0]=="c"){v.K=tt[1],v.ia=tt[2];const Jt=tt[3];Jt!=null&&(v.la=Jt,v.j.info("VER="+v.la));const Ut=tt[4];Ut!=null&&(v.Aa=Ut,v.j.info("SVER="+v.Aa));const ar=tt[5];ar!=null&&typeof ar=="number"&&0<ar&&(T=1.5*ar,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const qs=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var Y=T.h;Y.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&($a(Y,Y.h),Y.h=null))}if(T.D){const Ho=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(T.ya=Ho,yt(T.I,T.D,Ho))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var ce=u;if(T.qa=Iu(T,T.J?T.ia:null,T.W),ce.K){hu(T.h,ce);var ft=ce,qt=T.L;qt&&(ft.I=qt),ft.B&&(mi(ft),Xe(ft)),T.g=ce}else Hs(T);0<v.i.length&&Br(v)}else tt[0]!="stop"&&tt[0]!="close"||Ei(v,7);else v.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ei(v,7):an(v):tt[0]!="noop"&&v.l&&v.l.ta(tt),v.v=0)}}Me(4)}catch{}}var uu=class{constructor(u,m){this.g=u,this.map=m}};function js(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function cu(u){return u.h?1:u.g?u.g.size:0}function Sn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function $a(u,m){u.g?u.g.add(m):u.h=m}function hu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}js.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function du(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function No(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,T=0;T<v;T++)m.push(u[T]);return m}m=[],v=0;for(T in u)m[v++]=u[T];return m}function Do(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const T in u)m[v++]=T;return m}}}function Ki(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Do(u),T=No(u),B=T.length,Y=0;Y<B;Y++)m.call(void 0,T[Y],v&&v[Y],u)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var T=u[v].indexOf("="),B=null;if(0<=T){var Y=u[v].substring(0,T);B=u[v].substring(T+1)}else Y=u[v];m(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gi){this.h=u.h,zs(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,v=new Ur;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Qi(this,v),this.m=u.m}else u&&(m=String(u).match(Us))?(this.h=!1,zs(this,m[1]||"",!0),this.o=et(m[2]||""),this.g=et(m[3]||"",!0),Gi(this,m[4]),this.l=et(m[5]||"",!0),Qi(this,m[6]||"",!0),this.m=et(m[7]||"")):(this.h=!1,this.i=new Ur(null,this.h))}gi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Yi(m,Oo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Yi(m,Oo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Yi(v,v.charAt(0)=="/"?mu:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Yi(v,Ba)),u.join("")};function Kn(u){return new gi(u)}function zs(u,m,v){u.j=v?et(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Qi(u,m,v){m instanceof Ur?(u.i=m,zr(u.i,u.h)):(v||(m=Yi(m,gu)),u.i=new Ur(m,u.h))}function yt(u,m,v){u.i.set(m,v)}function Xi(u){return yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function et(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oo=/[#\/\?@]/g,pu=/[#\?:]/g,mu=/[#\?]/g,gu=/[#\?@]/g,Ba=/#/g;function Ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&Fh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Ur.prototype,n.add=function(u,m){on(this),this.i=null,u=or(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _r(u,m){on(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Er(u,m){return on(u),m=or(u,m),u.g.has(m)}n.forEach=function(u,m){on(this),this.g.forEach(function(v,T){v.forEach(function(B){u.call(m,B,T,this)},this)},this)},n.na=function(){on(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const B=u[T];for(let Y=0;Y<B.length;Y++)v.push(m[T])}return v},n.V=function(u){on(this);let m=[];if(typeof u=="string")Er(this,u)&&(m=m.concat(this.g.get(or(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return on(this),this.i=null,u=or(this,u),Er(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ji(u,m,v){_r(u,m),0<v.length&&(u.i=null,u.g.set(or(u,m),M(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const Y=encodeURIComponent(String(T)),ce=this.V(T);for(T=0;T<ce.length;T++){var B=Y;ce[T]!==""&&(B+="="+encodeURIComponent(String(ce[T]))),u.push(B)}}return this.i=u.join("&")};function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zr(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,T){var B=T.toLowerCase();T!=B&&(_r(this,T),Ji(this,B,v))},u)),u.j=m}function jh(u,m){const v=new vt;if(d.Image){const T=new Image;T.onload=N(Nn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=N(Nn,v,"TestLoadImage: error",!1,m,T),T.onabort=N(Nn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=N(Nn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function yu(u,m){const v=new vt,T=new AbortController,B=setTimeout(()=>{T.abort(),Nn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(Y=>{clearTimeout(B),Y.ok?Nn(v,"TestPingServer: ok",!0,m):Nn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Nn(v,"TestPingServer: error",!1,m)})}function Nn(u,m,v,T,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),T(v)}catch{}}function Uh(){this.g=new ci}function vu(u,m,v){const T=v||"";try{Ki(u,function(B,Y){let ce=B;y(B)&&(ce=Vr(B)),m.push(T+Y+"="+encodeURIComponent(ce))})}catch(B){throw m.push(T+"type="+encodeURIComponent("_badmap")),B}}function yi(u){this.l=u.Ub||null,this.j=u.eb||!1}F(yi,hi),yi.prototype.g=function(){return new $s(this.l,this.j)},yi.prototype.i=function(u){return function(){return u}}({});function $s(u,m){Re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F($s,Re),n=$s.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Tr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_u(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function _u(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?wr(this):Tr(this),this.readyState==3&&_u(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,wr(this))},n.Qa=function(u){this.g&&(this.response=u,wr(this))},n.ga=function(){this.g&&wr(this)};function wr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Tr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vi(u){let m="";return L(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Zi(u,m,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=vi(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):yt(u,m,v))}function Ct(u){Re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Ct,Re);var zh=/^https?$/i,Ha=["POST","PUT"];n=Ct.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yt.g(),this.v=this.o?di(this.o):di(Yt),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){Bs(this,Y);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var B in T)v.set(B,T[B]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Y of T.keys())v.set(Y,T.get(Y));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ha,m,void 0))||T||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of v)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Bs(this,Y)}};function Bs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Lo(u),Gn(u)}function Lo(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,xe(this,"complete"),xe(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),Ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},n.bb=function(){qa(this)};function qa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Dn(u)!=4||u.Z()!=2)){if(u.u&&Dn(u)==4)Rt(u.Ea,0,u);else if(xe(u,"readystatechange"),Dn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var T;if(T=ce===0){var B=String(u.D).match(Us)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),T=!zh.test(B?B.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.m=6;try{var Y=2<Dn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Lo(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){Mo(u);const v=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||xe(u,"ready");try{v.onreadystatechange=T}catch{}}}function Mo(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Dn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$i(m)}};function Wa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vo(u){const m={};u=(u.g&&2<=Dn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(te(u[T]))continue;var v=D(u[T]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=m[B]||[];m[B]=Y,Y.push(v)}R(m,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ka(u){this.Aa=0,this.i=[],this.j=new vt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new js(u&&u.concurrentRequestLimit),this.Da=new Uh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,T){me(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=Iu(this,null,this.W),Br(this)};function an(u){if(Fo(u),u.G==3){var m=u.U++,v=Kn(u.I);if(yt(v,"SID",u.K),yt(v,"RID",m),yt(v,"TYPE","terminate"),_i(u,v),m=new Ht(u,u.j,m),m.L=2,m.v=Xi(Kn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}Tu(u)}function Ir(u){u.g&&(Ga(u),u.g.cancel(),u.g=null)}function Fo(u){Ir(u),u.u&&(d.clearTimeout(u.u),u.u=null),zo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Br(u){if(!Wn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Se||k(),ae||(Se(),ae=!0),ye.add(m,u),u.B=0}}function $h(u,m){return cu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ue(I(u.Ga,u,m),wu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Ht(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=S(Y),b(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=es(this,B,m),v=Kn(this.I),yt(v,"RID",u),yt(v,"CVER",22),this.D&&yt(v,"X-HTTP-Session-Id",this.D),_i(this,v),Y&&(this.O?m="headers="+encodeURIComponent(String(vi(Y)))+"&"+m:this.m&&Zi(v,this.m,Y)),$a(this.h,B),this.Ua&&yt(v,"TYPE","init"),this.P?(yt(v,"$req",m),yt(v,"SID","null"),B.T=!0,qn(B,v,null)):qn(B,v,m),this.G=2}}else this.G==3&&(u?jo(this,u):this.i.length==0||Wn(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.U++;const T=Kn(u.I);yt(T,"SID",u.K),yt(T,"RID",v),yt(T,"AID",u.T),_i(u,T),u.m&&u.o&&Zi(T,u.m,u.o),v=new Ht(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=es(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$a(u.h,v),qn(v,T,m)}function _i(u,m){u.H&&L(u.H,function(v,T){yt(m,T,v)}),u.l&&Ki({},function(v,T){yt(m,T,v)})}function es(u,m,v){v=Math.min(u.i.length,v);var T=u.l?I(u.l.Na,u.l,u):null;e:{var B=u.i;let Y=-1;for(;;){const ce=["count="+v];Y==-1?0<v?(Y=B[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let ft=!0;for(let qt=0;qt<v;qt++){let tt=B[qt].g;const Jt=B[qt].map;if(tt-=Y,0>tt)Y=Math.max(0,B[qt].g-100),ft=!1;else try{vu(Jt,ce,"req"+tt+"_")}catch{T&&T(Jt)}}if(ft){T=ce.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,T}function Hs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Se||k(),ae||(Se(),ae=!0),ye.add(m,u),u.v=0}}function Uo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ue(I(u.Fa,u),wu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ue(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,me(10),Ir(this),Eu(this))};function Ga(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Eu(u){u.g=new Ht(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Kn(u.qa);yt(m,"RID","rpc"),yt(m,"SID",u.K),yt(m,"AID",u.T),yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&yt(m,"TO",u.ja),yt(m,"TYPE","xmlhttp"),_i(u,m),u.m&&u.o&&Zi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Xi(Kn(m)),v.m=null,v.P=!0,jr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Ir(this),Uo(this),me(19))};function zo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function $o(u,m){var v=null;if(u.g==m){zo(u),Ga(u),u.g=null;var T=2}else if(Sn(u.h,m))v=m.D,hu(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;T=ue(),xe(T,new Ae(T,v)),Br(u)}else Hs(u);else if(B=m.s,B==3||B==0&&0<m.X||!(T==1&&$h(u,m)||T==2&&Uo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),B){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function wu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),T=u.Xa;const B=!T;T=new gi(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zs(T,"https"),Xi(T),B?jh(T.toString(),v):yu(T.toString(),v)}else me(2);u.G=0,u.l&&u.l.sa(m),Tu(u),Fo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),me(2)):(this.j.info("Failed to ping google.com"),me(1))};function Tu(u){if(u.G=0,u.ka=[],u.l){const m=du(u.h);(m.length!=0||u.i.length!=0)&&(x(u.ka,m),x(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Iu(u,m,v){var T=v instanceof gi?Kn(v):new gi(v);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var B=d.location;T=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var Y=new gi(null);T&&zs(Y,T),m&&(Y.g=m),B&&Gi(Y,B),v&&(Y.l=v),T=Y}return v=u.D,m=u.ya,v&&m&&yt(T,v,m),yt(T,"VER",u.la),_i(u,T),T}function Su(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ct(new yi({eb:v})):new Ct(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qa(){}n=Qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bo(){}Bo.prototype.g=function(u,m){return new Rn(u,m)};function Rn(u,m){Re.call(this),this.g=new Ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hr(this)}F(Rn,Re),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){an(this.g)},Rn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Vr(u),u=v);m.i.push(new uu(m.Ya++,u)),m.G==3&&Br(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,an(this.g),delete this.g,Rn.aa.N.call(this)};function Ru(u){ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(Ru,ir);function Cu(){$.call(this),this.status=1}F(Cu,$);function Hr(u){this.g=u}F(Hr,Qa),Hr.prototype.ua=function(){xe(this.g,"a")},Hr.prototype.ta=function(u){xe(this.g,new Ru(u))},Hr.prototype.sa=function(u){xe(this.g,new Cu)},Hr.prototype.ra=function(){xe(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,nw=function(){return new Bo},tw=function(){return ue()},ew=W,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hn.NO_ERROR=0,Hn.TIMEOUT=8,Hn.HTTP_ERROR=6,Vc=Hn,Hi.COMPLETE="complete",ZE=Hi,Bi.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Cl=Bi,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,JE=Ct}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const s_="@firebase/firestore",o_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new Mp("@firebase/firestore");function ha(){return To.logLevel}function ve(n,...e){if(To.logLevel<=Ze.DEBUG){const t=e.map(Qp);To.debug(`Firestore (${Va}): ${n}`,...t)}}function Mi(n,...e){if(To.logLevel<=Ze.ERROR){const t=e.map(Qp);To.error(`Firestore (${Va}): ${n}`,...t)}}function Ca(n,...e){if(To.logLevel<=Ze.WARN){const t=e.map(Qp);To.warn(`Firestore (${Va}): ${n}`,...t)}}function Qp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+n;throw Mi(e),new Error(e)}function kt(n,e){n||qe()}function rt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ib{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_n.UNAUTHENTICATED))}shutdown(){}}class sb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ob{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kt(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new po;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new po,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new po)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(kt(typeof i.accessToken=="string"),new rw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new _n(e)}}class ab{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lb{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ab(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ub{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Nr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){kt(this.o===void 0);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new a_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kt(typeof t.token=="string"),this.R=t.token,new a_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=cb(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ke(n,e){return n<e?-1:n>e?1:0}function sp(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Ke(i,o);{const l=iw(),c=db(l.encode(l_(n,t)),l.encode(l_(e,t)));return c!==0?c:Ke(i,o)}}t+=i>65535?2:1}return Ke(n.length,e.length)}function l_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function db(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ke(n[t],e[t]);return Ke(n.length,e.length)}function Aa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=-62135596800,c_=1e6;class $n{static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*c_);return new $n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<u_)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-u_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new $n(0,0))}static max(){return new He(new $n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class Qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&qe(),i===void 0?i=e.length-t:i>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Qr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ke(e.length,t.length)}static compareSegments(e,t){const i=Qr.isNumericId(e),o=Qr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):sp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class Lt extends Qr{construct(e,t,i){return new Lt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Le(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Lt(t)}static emptyPath(){return new Lt([])}}const fb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Qr{construct(e,t,i){return new Pn(e,t,i)}static isValidIdentifier(e){return fb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new Pn([h_])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Le(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Le(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Le(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new Le(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(t)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Lt.fromString(e))}static fromName(e){return new Fe(Lt.fromString(e).popFirst(5))}static empty(){return new Fe(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function pb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=He.fromTimestamp(i===1e9?new $n(t+1,0):new $n(t,i));return new ks(o,Fe.empty(),e)}function mb(n){return new ks(n.readTime,n.key,Wl)}class ks{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ks(He.min(),Fe.empty(),Wl)}static max(){return new ks(He.max(),Fe.empty(),Wl)}}function gb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==yb)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(o=>o?ne.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===l&&i(c)},_=>o(_))}})}static doWhile(e,t){return new ne((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function _b(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=-1;function Rh(n){return n==null}function op(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="";function wb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=d_(e)),e=Tb(n.get(t),e);return d_(e)}function Tb(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case sw:t+="";break;default:t+=l}}return t}function d_(n){return n+sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function su(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ib(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??cn.RED,this.left=o??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new cn(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,t,i,o,l){return this}insert(e,t,i){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new ws([])}unionWith(e){let t=new Qt(Pn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ow("Invalid base64 string: "+l):l}}(e);return new hn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new hn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const Sb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(n){if(kt(!!n),typeof n=="string"){let e=0;const t=Sb.exec(n);if(kt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ft(n.seconds),nanos:Ft(n.nanos)}}function Ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?hn.fromBase64String(n):hn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="server_timestamp",lw="__type__",uw="__previous_value__",cw="__local_write_time__";function Xp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||t===void 0?void 0:t.stringValue)===aw}function Ch(n){const e=n.mapValue.fields[uw];return Xp(e)?Ch(e):e}function Kl(n){const e=bs(n.mapValue.fields[cw].timestampValue);return new $n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t,i,o,l,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}const Zc="(default)";class Gl{constructor(e,t){this.projectId=e,this.database=t||Zc}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__type__",Ab="__max__",Sc={mapValue:{}},Pb="__vector__",ap="value";function Ds(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xp(n)?4:kb(n)?9007199254740991:xb(n)?10:11:qe()}function ti(n,e){if(n===e)return!0;const t=Ds(n);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kl(n).isEqual(Kl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=bs(o.timestampValue),d=bs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ns(o.bytesValue).isEqual(Ns(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return Ft(o.geoPointValue.latitude)===Ft(l.geoPointValue.latitude)&&Ft(o.geoPointValue.longitude)===Ft(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ft(o.integerValue)===Ft(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Ft(o.doubleValue),d=Ft(l.doubleValue);return c===d?op(c)===op(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(f_(c)!==f_(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ti(c[p],d[p])))return!1;return!0}(n,e);default:return qe()}}function Ql(n,e){return(n.values||[]).find(t=>ti(t,e))!==void 0}function Pa(n,e){if(n===e)return 0;const t=Ds(n),i=Ds(e);if(t!==i)return Ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Ft(l.integerValue||l.doubleValue),p=Ft(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return m_(n.timestampValue,e.timestampValue);case 4:return m_(Kl(n),Kl(e));case 5:return sp(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ns(l),p=Ns(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=Ke(d[y],p[y]);if(_!==0)return _}return Ke(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ke(Ft(l.latitude),Ft(c.latitude));return d!==0?d:Ke(Ft(l.longitude),Ft(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return g_(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,y,_;const w=l.fields||{},I=c.fields||{},N=(d=w[ap])===null||d===void 0?void 0:d.arrayValue,F=(p=I[ap])===null||p===void 0?void 0:p.arrayValue,M=Ke(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0);return M!==0?M:g_(N,F)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Sc.mapValue&&c===Sc.mapValue)return 0;if(l===Sc.mapValue)return 1;if(c===Sc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const I=sp(p[w],_[w]);if(I!==0)return I;const N=Pa(d[p[w]],y[_[w]]);if(N!==0)return N}return Ke(p.length,_.length)}(n.mapValue,e.mapValue);default:throw qe()}}function m_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=bs(n),i=bs(e),o=Ke(t.seconds,i.seconds);return o!==0?o:Ke(t.nanos,i.nanos)}function g_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Pa(t[o],i[o]);if(l)return l}return Ke(t.length,i.length)}function xa(n){return lp(n)}function lp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=bs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Fe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=lp(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${lp(t.fields[c])}`;return o+"}"}(n.mapValue):qe()}function Fc(n){switch(Ds(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(n);return e?16+Fc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+Fc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return su(i.fields,(l,c)=>{o+=l.length+Fc(c)}),o}(n.mapValue);default:throw qe()}}function up(n){return!!n&&"integerValue"in n}function Yp(n){return!!n&&"arrayValue"in n}function y_(n){return!!n&&"nullValue"in n}function v_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bf(n){return!!n&&"mapValue"in n}function xb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cb])===null||t===void 0?void 0:t.stringValue)===Pb}function Dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return su(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Dl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ab}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(t)}setAll(e){let t=Pn.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Dl(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];bf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){su(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new Xr(Dl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new En(e,0,He.min(),He.min(),He.min(),Xr.empty(),0)}static newFoundDocument(e,t,i,o){return new En(e,1,t,He.min(),i,o,0)}static newNoDocument(e,t){return new En(e,2,t,He.min(),He.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,He.min(),He.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.position=e,this.inclusive=t}}function __(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Fe.comparator(Fe.fromName(c.referenceValue),t.key):i=Pa(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function E_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t="asc"){this.field=e,this.dir=t}}function bb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{}class Gt extends hw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Db(e,t,i):t==="array-contains"?new Mb(e,i):t==="in"?new Vb(e,i):t==="not-in"?new Fb(e,i):t==="array-contains-any"?new jb(e,i):new Gt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ob(e,i):new Lb(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Pa(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends hw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ni(e,t)}matches(e){return dw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dw(n){return n.op==="and"}function fw(n){return Nb(n)&&dw(n)}function Nb(n){for(const e of n.filters)if(e instanceof ni)return!1;return!0}function cp(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+xa(n.value);if(fw(n))return n.filters.map(e=>cp(e)).join(",");{const e=n.filters.map(t=>cp(t)).join(",");return`${n.op}(${e})`}}function pw(n,e){return n instanceof Gt?function(i,o){return o instanceof Gt&&i.op===o.op&&i.field.isEqual(o.field)&&ti(i.value,o.value)}(n,e):n instanceof ni?function(i,o){return o instanceof ni&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&pw(c,o.filters[d]),!0):!1}(n,e):void qe()}function mw(n){return n instanceof Gt?function(t){return`${t.field.canonicalString()} ${t.op} ${xa(t.value)}`}(n):n instanceof ni?function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"}(n):"Filter"}class Db extends Gt{constructor(e,t,i){super(e,t,i),this.key=Fe.fromName(i.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ob extends Gt{constructor(e,t){super(e,"in",t),this.keys=gw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Lb extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=gw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Fe.fromName(i.referenceValue))}class Mb extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&Ql(t.arrayValue,this.value)}}class Vb extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ql(this.value.arrayValue,t)}}class Fb extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ql(this.value.arrayValue,t)}}class jb extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ql(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function w_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new Ub(n,e,t,i,o,l,c)}function Jp(n){const e=rt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>cp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xa(i)).join(",")),e.le=t}return e.le}function Zp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!E_(n.startAt,e.startAt)&&E_(n.endAt,e.endAt)}function hp(n){return Fe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zb(n,e,t,i,o,l,c,d){return new Ah(n,e,t,i,o,l,c,d)}function yw(n){return new Ah(n)}function T_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $b(n){return n.collectionGroup!==null}function Ol(n){const e=rt(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Qt(Pn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new th(l,i))}),t.has(Pn.keyField().canonicalString())||e.he.push(new th(Pn.keyField(),i))}return e.he}function ei(n){const e=rt(n);return e.Pe||(e.Pe=Bb(e,Ol(n))),e.Pe}function Bb(n,e){if(n.limitType==="F")return w_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new th(o.field,l)});const t=n.endAt?new eh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new eh(n.startAt.position,n.startAt.inclusive):null;return w_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function dp(n,e,t){return new Ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ph(n,e){return Zp(ei(n),ei(e))&&n.limitType===e.limitType}function vw(n){return`${Jp(ei(n))}|lt:${n.limitType}`}function da(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>mw(o)).join(", ")}]`),Rh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>xa(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>xa(o)).join(",")),`Target(${i})`}(ei(n))}; limitType=${n.limitType})`}function xh(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Fe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Ol(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=__(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,Ol(i),o)||i.endAt&&!function(c,d,p){const y=__(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,Ol(i),o))}(n,e)}function Hb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _w(n){return(e,t)=>{let i=!1;for(const o of Ol(n)){const l=qb(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function qb(n,e,t){const i=n.field.isKeyField()?Fe.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Pa(p,y):qe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new jt(Fe.comparator);function Os(){return Wb}const Ew=new jt(Fe.comparator);function Al(...n){let e=Ew;for(const t of n)e=e.insert(t.key,t);return e}function Kb(n){let e=Ew;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function co(){return Ll()}function ww(){return Ll()}function Ll(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const Gb=new Qt(Fe.comparator);function at(...n){let e=Gb;for(const t of n)e=e.add(t);return e}const Qb=new Qt(Ke);function Xb(){return Qb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function Jb(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function Zb(n,e,t){return n instanceof fp?function(o,l){const c={fields:{[lw]:{stringValue:aw},[cw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Xp(l)&&(l=Ch(l)),l&&(c.fields[uw]=l),{mapValue:c}}(t,e):n instanceof nh?Tw(n,e):n instanceof rh?Iw(n,e):function(o,l){const c=tN(o,l),d=I_(c)+I_(o.Ie);return up(c)&&up(o.Ie)?Jb(d):Yb(o.serializer,d)}(n,e)}function eN(n,e,t){return n instanceof nh?Tw(n,e):n instanceof rh?Iw(n,e):t}function tN(n,e){return n instanceof pp?function(i){return up(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class fp extends kh{}class nh extends kh{constructor(e){super(),this.elements=e}}function Tw(n,e){const t=Sw(e);for(const i of n.elements)t.some(o=>ti(o,i))||t.push(i);return{arrayValue:{values:t}}}class rh extends kh{constructor(e){super(),this.elements=e}}function Iw(n,e){let t=Sw(e);for(const i of n.elements)t=t.filter(o=>!ti(o,i));return{arrayValue:{values:t}}}class pp extends kh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function I_(n){return Ft(n.integerValue||n.doubleValue)}function Sw(n){return Yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nN(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof nh&&o instanceof nh||i instanceof rh&&o instanceof rh?Aa(i.elements,o.elements,ti):i instanceof pp&&o instanceof pp?ti(i.Ie,o.Ie):i instanceof fp&&o instanceof fp}(n.transform,e.transform)}class mo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mo}static exists(e){return new mo(void 0,e)}static updateTime(e){return new mo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class em{}function Rw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new iN(n.key,mo.none()):new tm(n.key,n.data,mo.none());{const t=n.data,i=Xr.empty();let o=new Qt(Pn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new bh(n.key,i,new ws(o.toArray()),mo.none())}}function rN(n,e,t){n instanceof tm?function(o,l,c){const d=o.value.clone(),p=R_(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof bh?function(o,l,c){if(!jc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=R_(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Cw(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ml(n,e,t,i){return n instanceof tm?function(l,c,d,p){if(!jc(l.precondition,c))return d;const y=l.value.clone(),_=C_(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof bh?function(l,c,d,p){if(!jc(l.precondition,c))return d;const y=C_(l.fieldTransforms,p,c),_=c.data;return _.setAll(Cw(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,c,d){return jc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function S_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Aa(i,o,(l,c)=>nN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tm extends em{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bh extends em{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Cw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function R_(n,e,t){const i=new Map;kt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,eN(c,d,t[o]))}return i}function C_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,Zb(l,c,e))}return i}class iN extends em{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&rN(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ml(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ml(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ww();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Rw(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),at())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,i)=>S_(t,i))&&Aa(this.baseMutations,e.baseMutations,(t,i)=>S_(t,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,nt;function Aw(n){if(n===void 0)return Mi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case $t.OK:return fe.OK;case $t.CANCELLED:return fe.CANCELLED;case $t.UNKNOWN:return fe.UNKNOWN;case $t.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case $t.INTERNAL:return fe.INTERNAL;case $t.UNAVAILABLE:return fe.UNAVAILABLE;case $t.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case $t.NOT_FOUND:return fe.NOT_FOUND;case $t.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case $t.ABORTED:return fe.ABORTED;case $t.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case $t.DATA_LOSS:return fe.DATA_LOSS;default:return qe()}}(nt=$t||($t={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Cs([4294967295,4294967295],0);function A_(n){const e=iw().encode(n),t=new YE;return t.update(e),new Uint8Array(t.digest())}function P_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Cs([t,i],0),new Cs([o,l],0)]}class nm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Pl(`Invalid padding: ${t}`);if(i<0)throw new Pl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Cs.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(Cs.fromNumber(i)));return o.compare(lN)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=A_(e),[i,o]=P_(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new nm(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=A_(e),[i,o]=P_(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Nh(He.min(),o,new jt(Ke),Os(),at())}}class ou{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ou(i,t,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class Pw{constructor(e,t){this.targetId=e,this.ge=t}}class xw{constructor(e,t,i=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class x_{constructor(){this.pe=0,this.ye=k_(),this.we=hn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=at(),t=at(),i=at();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:qe()}}),new ou(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=k_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class uN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Os(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new jt(Ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(hp(l))if(i===0){const c=new Fe(l.path);this.ze(t,c,En.newNoDocument(c,He.min()))}else kt(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Ns(i).toUint8Array()}catch(p){if(p instanceof ow)return Ca("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new nm(c,o,l)}catch(p){return Ca(p instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&hp(d.target)){const p=new Fe(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,En.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=at();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new Nh(e,t,this.Ke,this.Qe,i);return this.Qe=Os(),this.$e=Rc(),this.Ue=Rc(),this.Ke=new jt(Ke),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new x_,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Qt(Ke),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Qt(Ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new x_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Rc(){return new jt(Fe.comparator)}function k_(){return new jt(Fe.comparator)}const cN={asc:"ASCENDING",desc:"DESCENDING"},hN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dN={and:"AND",or:"OR"};class fN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mp(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function pN(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wa(n){return kt(!!n),He.fromTimestamp(function(t){const i=bs(t);return new $n(i.seconds,i.nanos)}(n))}function gN(n,e){return gp(n,e).canonicalString()}function gp(n,e){const t=function(o){return new Lt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kw(n){const e=Lt.fromString(n);return kt(Lw(e)),e}function Nf(n,e){const t=kw(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(Nw(t))}function bw(n,e){return gN(n.databaseId,e)}function yN(n){const e=kw(n);return e.length===4?Lt.emptyPath():Nw(e)}function b_(n){return new Lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nw(n){return kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function vN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(kt(_===void 0||typeof _=="string"),hn.fromBase64String(_||"")):(kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),hn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?fe.UNKNOWN:Aw(y.code);return new Le(_,y.message||"")}(c);t=new xw(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Nf(n,i.document.name),l=wa(i.document.updateTime),c=i.document.createTime?wa(i.document.createTime):He.min(),d=new Xr({mapValue:{fields:i.document.fields}}),p=En.newFoundDocument(o,l,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new Uc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Nf(n,i.document),l=i.readTime?wa(i.readTime):He.min(),c=En.newNoDocument(o,l),d=i.removedTargetIds||[];t=new Uc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Nf(n,i.document),l=i.removedTargetIds||[];t=new Uc([],l,o,null)}else{if(!("filter"in e))return qe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new aN(o,l),d=i.targetId;t=new Pw(d,c)}}return t}function _N(n,e){return{documents:[bw(n,e.path)]}}function EN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=bw(n,o);const l=function(y){if(y.length!==0)return Ow(ni.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(_=>function(I){return{field:fa(I.field),direction:IN(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=mp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function wN(n){let e=yN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){kt(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const I=Dw(w);return I instanceof ni&&fw(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(I=>function(F){return new th(pa(F.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(w){let I;return I=typeof w=="object"?w.value:w,Rh(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(w){const I=!!w.before,N=w.values||[];return new eh(N,I)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const I=!w.before,N=w.values||[];return new eh(N,I)}(t.endAt)),zb(e,o,c,l,d,"F",p,y)}function TN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Dw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=pa(t.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=pa(t.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=pa(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=pa(t.unaryFilter.field);return Gt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(n):n.fieldFilter!==void 0?function(t){return Gt.create(pa(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ni.create(t.compositeFilter.filters.map(i=>Dw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qe()}}(t.compositeFilter.op))}(n):qe()}function IN(n){return cN[n]}function SN(n){return hN[n]}function RN(n){return dN[n]}function fa(n){return{fieldPath:n.canonicalString()}}function pa(n){return Pn.fromServerFormat(n.fieldPath)}function Ow(n){return n instanceof Gt?function(t){if(t.op==="=="){if(v_(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NAN"}};if(y_(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(v_(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NAN"}};if(y_(t.value))return{unaryFilter:{field:fa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(t.field),op:SN(t.op),value:t.value}}}(n):n instanceof ni?function(t){const i=t.getFilters().map(o=>Ow(o));return i.length===1?i[0]:{compositeFilter:{op:RN(t.op),filters:i}}}(n):qe()}function Lw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,i,o,l=He.min(),c=He.min(),d=hn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.Tt=e}}function AN(n){const e=wN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.Tn=new xN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ks.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class xN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Qt(Lt.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Qt(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mw=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(Mw,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ka(0)}static Kn(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",kN=1048576;function O_([n,e],[t,i]){const o=Ke(n,t);return o===0?Ke(e,i):o}class bN{constructor(e){this.Hn=e,this.buffer=new Qt(O_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();O_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(D_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fa(t)?ve(D_,"Ignoring IndexedDB error during garbage collection: ",t):await Ih(t)}await this.er(3e5)})}}class DN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Sh.ae);const i=new bN(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(N_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,d=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),ha()<=Ze.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function ON(n,e){return new DN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ml(i.mutation,o,ws.empty(),$n.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,at()).next(()=>i))}getLocalViewOfDocuments(e,t,i=at()){const o=co();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=Al();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,at()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=Os();const c=Ll(),d=function(){return Ll()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof bh)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),Ml(_.mutation,y,_.mutation.getFieldMask(),$n.now())):c.set(y.key,ws.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var w;return d.set(y,new MN(_,(w=c.get(y))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Ll();let o=new jt((c,d)=>c-d),l=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||ws.empty();_=d.applyToLocalView(y,_),i.set(p,_);const w=(o.get(d.batchId)||at()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,w=ww();_.forEach(I=>{if(!l.has(I)){const N=Rw(t.get(I),i.get(I));N!==null&&w.set(I,N),l=l.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ne.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Fe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$b(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):ne.resolve(co());let d=Wl,p=l;return c.next(y=>ne.forEach(y,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,at())).next(_=>({batchId:d,changes:Kb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(i=>{let o=Al();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=Al();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,p=>{const y=function(w,I){return new Ah(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((w,I)=>{c=c.insert(w,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,En.newInvalidDocument(_)))});let d=Al();return c.forEach((p,y)=>{const _=l.get(p);_!==void 0&&Ml(_.mutation,y,ws.empty(),$n.now()),xh(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wa(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:AN(o.bundledQuery),readTime:wa(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.overlays=new jt(Fe.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=co();return ne.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=co(),l=t.length+1,c=new Fe(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new jt((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=co(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=co(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return ne.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new oN(t,i));let l=this.Rr.get(t);l===void 0&&(l=at(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Vr=new Qt(rn.mr),this.gr=new Qt(rn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new rn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Fe(new Lt([])),i=new rn(t,e),o=new rn(t,e+1),l=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Fe(new Lt([])),i=new rn(t,e),o=new rn(t,e+1);let l=at();return this.gr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new rn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Fe.comparator(e.key,t.key)||Ke(e.Cr,t.Cr)}static pr(e,t){return Ke(e.Cr,t.Cr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Qt(rn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sN(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Eb:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),o=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],c=>{const d=this.Or(c.Cr);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Qt(Ke);return t.forEach(o=>{const l=new rn(o,0),c=new rn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ne.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Fe.isDocumentKey(l)||(l=l.child(""));const c=new rn(new Fe(l),0);let d=new Qt(Ke);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Cr)),!0)},c),ne.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){kt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ne.forEach(t.mutations,o=>{const l=new rn(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new rn(t,0),o=this.Mr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.kr=e,this.docs=function(){return new jt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let i=Os();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():En.newInvalidDocument(o))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Os();const c=t.path,d=new Fe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||gb(mb(_),i)<=0||(o.has(_.key)||xh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,i,o){qe()}qr(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new BN(this)}getSize(e){return ne.resolve(this.size)}}class BN extends LN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.persistence=e,this.Qr=new ko(t=>Jp(t),Zp),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.$r=0,this.Ur=new rm,this.targetCount=0,this.Kr=ka.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ka(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ne.waitFor(l).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Sh(0),this.zr=!1,this.zr=!0,this.jr=new UN,this.referenceDelegate=e(this),this.Hr=new HN(this),this.indexManager=new PN,this.remoteDocumentCache=function(o){return new $N(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new CN(t),this.Yr=new FN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new zN(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const o=new qN(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return ne.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class qN extends vb{constructor(e){super(),this.currentSequenceNumber=e}}class im{constructor(e){this.persistence=e,this.ti=new rm,this.ni=null}static ri(e){return new im(e)}get ii(){if(this.ni)return this.ni;throw qe()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,i=>{const o=Fe.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,He.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.oi=new ko(i=>wb(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ON(this,t)}static ri(e,t){return new ih(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?ne.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,He.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fc(e.data.value)),t}ar(e,t,i){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=at(),o=at();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new sm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return jP()?8:_b(wn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new WN;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(ha()<=Ze.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",da(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(ha()<=Ze.DEBUG&&ve("QueryEngine","Query:",da(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(ha()<=Ze.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",da(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):ne.resolve())}rs(e,t){if(T_(t))return ne.resolve(null);let i=ei(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=dp(t,null,"F"),i=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=at(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,d);return this.ls(t,y,c,p.readTime)?this.rs(e,dp(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return T_(t)||o.isEqual(He.min())?ne.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,o)?ne.resolve(null):(ha()<=Ze.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),da(t)),this.hs(e,c,t,pb(o,Wl)).next(d=>d))})}cs(e,t){let i=new Qt(_w(e));return t.forEach((o,l)=>{xh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return ha()<=Ze.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",da(t)),this.ns.getDocumentsMatchingQuery(e,t,ks.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="LocalStore",GN=3e8;class QN{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new jt(Ke),this.Is=new ko(l=>Jp(l),Zp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function XN(n,e,t,i){return new QN(n,e,t,i)}async function Fw(n,e){const t=rt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=at();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:d}))})})}function jw(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function YN(n,e){const t=rt(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,w)=>{const I=o.get(w);if(!I)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,w)));let N=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?N=N.withResumeToken(hn.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,i)),o=o.insert(w,N),function(M,x,K){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=GN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(I,N,_)&&d.push(t.Hr.updateTargetData(l,N))});let p=Os(),y=at();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(JN(l,c,e.documentUpdates).next(_=>{p=_.Vs,y=_.fs})),!i.isEqual(He.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(w=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ne.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.Ts=o,l))}function JN(n,e,t){let i=at(),o=at();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Os();return t.forEach((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(He.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ve(om,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function ZN(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,ne.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new Ts(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function yp(n,e,t){const i=rt(n),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Fa(c))throw c;ve(om,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function L_(n,e,t){const i=rt(n);let o=He.min(),l=at();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const w=rt(p),I=w.Is.get(_);return I!==void 0?ne.resolve(w.Ts.get(I)):w.Hr.getTargetData(y,_)}(i,c,ei(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:He.min(),t?l:at())).next(d=>(eD(i,Hb(e),d),{documents:d,gs:l})))}function eD(n,e,t){let i=n.Es.get(e)||He.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class M_{constructor(){this.activeTargetIds=Xb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tD{constructor(){this.ho=new M_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new M_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class F_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve(V_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function vp(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",rD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Zc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const c=vp(),d=this.bo(e,t.toUriEncodedString());ve(Df,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,i).then(y=>(ve(Df,`Received RPC '${e}' ${c}: `,y),y),y=>{throw Ca(Df,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,l,c){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=rD[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class oD extends iD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=vp();return new Promise((c,d)=>{const p=new JE;p.setWithCredentials(!0),p.listenOnce(ZE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Vc.NO_ERROR:const _=p.getResponseJson();ve(vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Vc.TIMEOUT:ve(vn,`RPC '${e}' ${l} timed out`),d(new Le(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const w=p.getStatus();if(ve(vn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const N=I==null?void 0:I.error;if(N&&N.status&&N.message){const F=function(x){const K=x.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(K)>=0?K:fe.UNKNOWN}(N.status);d(new Le(F,N.message))}else d(new Le(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Le(fe.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{ve(vn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);ve(vn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=vp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=nw(),d=tw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ve(vn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=c.createWebChannel(_,p);let I=!1,N=!1;const F=new sD({Fo:x=>{N?ve(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(I||(ve(vn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),I=!0),ve(vn,`RPC '${e}' stream ${o} sending:`,x),w.send(x))},Mo:()=>w.close()}),M=(x,K,te)=>{x.listen(K,ee=>{try{te(ee)}catch(re){setTimeout(()=>{throw re},0)}})};return M(w,Cl.EventType.OPEN,()=>{N||(ve(vn,`RPC '${e}' stream ${o} transport opened.`),F.Qo())}),M(w,Cl.EventType.CLOSE,()=>{N||(N=!0,ve(vn,`RPC '${e}' stream ${o} transport closed`),F.Uo())}),M(w,Cl.EventType.ERROR,x=>{N||(N=!0,Ca(vn,`RPC '${e}' stream ${o} transport errored:`,x),F.Uo(new Le(fe.UNAVAILABLE,"The operation could not be completed")))}),M(w,Cl.EventType.MESSAGE,x=>{var K;if(!N){const te=x.data[0];kt(!!te);const ee=te,re=(ee==null?void 0:ee.error)||((K=ee[0])===null||K===void 0?void 0:K.error);if(re){ve(vn,`RPC '${e}' stream ${o} received error:`,re);const X=re.status;let L=function(C){const b=$t[C];if(b!==void 0)return Aw(b)}(X),R=re.message;L===void 0&&(L=fe.INTERNAL,R="Unknown error status: "+X+" with message "+re.message),N=!0,F.Uo(new Le(L,R)),w.close()}else ve(vn,`RPC '${e}' stream ${o} received:`,te),F.Ko(te)}}),M(d,ew.STAT_EVENT,x=>{x.stat===ip.PROXY?ve(vn,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===ip.NOPROXY&&ve(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function Of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(n){return new fN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="PersistentStream";class aD{constructor(e,t,i,o,l,c,d,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new Le(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(j_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ve(j_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lD extends aD{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=vN(this.serializer,e),i=function(l){if(!("targetChange"in l))return He.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?wa(c.readTime):He.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=b_(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=hp(p)?{documents:_N(l,p)}:{query:EN(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=mN(l,c.resumeToken);const y=mp(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(He.min())>0){d.readTime=pN(l,c.snapshotVersion.toTimestamp());const y=mp(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=TN(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=b_(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{}class cD extends uD{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,gp(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(fe.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,gp(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Le(fe.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class hD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(t),this.N_=!1):ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class dD{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{lu(this)&&(ve(ba,"Restarting streams for network reachability change."),await async function(p){const y=rt(p);y.W_.add(4),await au(y),y.j_.set("Unknown"),y.W_.delete(4),await Dh(y)}(this))})}),this.j_=new hD(i,o)}}async function Dh(n){if(lu(n))for(const e of n.G_)await e(!0)}async function au(n){for(const e of n.G_)await e(!1)}function $w(n,e){const t=rt(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),cm(t)?um(t):ja(t).c_()&&lm(t,e))}function am(n,e){const t=rt(n),i=ja(t);t.K_.delete(e),i.c_()&&Bw(t,e),t.K_.size===0&&(i.c_()?i.P_():lu(t)&&t.j_.set("Unknown"))}function lm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ja(n).y_(e)}function Bw(n,e){n.H_.Ne(e),ja(n).w_(e)}function um(n){n.H_=new uN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ja(n).start(),n.j_.B_()}function cm(n){return lu(n)&&!ja(n).u_()&&n.K_.size>0}function lu(n){return rt(n).W_.size===0}function Hw(n){n.H_=void 0}async function fD(n){n.j_.set("Online")}async function pD(n){n.K_.forEach((e,t)=>{lm(n,e)})}async function mD(n,e){Hw(n),cm(n)?(n.j_.q_(e),um(n)):n.j_.set("Unknown")}async function gD(n,e,t){if(n.j_.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.K_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){ve(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await U_(n,i)}else if(e instanceof Uc?n.H_.We(e):e instanceof Pw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(He.min()))try{const i=await jw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.K_.get(y);_&&l.K_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=l.K_.get(p);if(!_)return;l.K_.set(p,_.withResumeToken(hn.EMPTY_BYTE_STRING,_.snapshotVersion)),Bw(l,p);const w=new Ts(_.target,p,y,_.sequenceNumber);lm(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ve(ba,"Failed to raise snapshot:",i),await U_(n,i)}}async function U_(n,e,t){if(!Fa(e))throw e;n.W_.add(1),await au(n),n.j_.set("Offline"),t||(t=()=>jw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(ba,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Dh(n)})}async function z_(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),ve(ba,"RemoteStore received new credentials");const i=lu(t);t.W_.add(3),await au(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Dh(t)}async function yD(n,e){const t=rt(n);e?(t.W_.delete(2),await Dh(t)):e||(t.W_.add(2),await au(t),t.j_.set("Unknown"))}function ja(n){return n.J_||(n.J_=function(t,i,o){const l=rt(t);return l.M_(),new lD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:fD.bind(null,n),No:pD.bind(null,n),Lo:mD.bind(null,n),p_:gD.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),cm(n)?um(n):n.j_.set("Unknown")):(await n.J_.stop(),Hw(n))})),n.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new hm(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qw(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),Fa(n))return new Le(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Fe.comparator(t.key,i.key):(t,i)=>Fe.comparator(t.key,i.key),this.keyedMap=Al(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.Z_=new jt(Fe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):qe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Na{constructor(e,t,i,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Na(e,t,Ta.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _D{constructor(){this.queries=B_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=rt(t),l=o.queries;o.queries=B_(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new Le(fe.ABORTED,"Firestore shutting down"))}}function B_(){return new ko(n=>vw(n),Ph)}async function ED(n,e){const t=rt(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new vD,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=qw(c,`Initialization of query '${da(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&dm(t)}async function wD(n,e){const t=rt(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function TD(n,e){const t=rt(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(o)&&(i=!0);c.ea=o}}i&&dm(t)}function ID(n,e,t){const i=rt(n),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function dm(n){n.ia.forEach(e=>{e.next()})}var _p,H_;(H_=_p||(_p={}))._a="default",H_.Cache="cache";class SD{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Na(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.key=e}}class Kw{constructor(e){this.key=e}}class RD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=at(),this.mutatedKeys=at(),this.ya=_w(e),this.wa=new Ta(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new $_,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const I=o.get(_),N=xh(this.query,w)?w:null,F=!!I&&this.mutatedKeys.has(I.key),M=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let x=!1;I&&N?I.data.isEqual(N.data)?F!==M&&(i.track({type:3,doc:N}),x=!0):this.va(I,N)||(i.track({type:2,doc:N}),x=!0,(p&&this.ya(N,p)>0||y&&this.ya(N,y)<0)&&(d=!0)):!I&&N?(i.track({type:0,doc:N}),x=!0):I&&!N&&(i.track({type:1,doc:I}),x=!0,(p||y)&&(d=!0)),x&&(N?(c=c.add(N),l=M?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,w)=>function(N,F){const M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return M(N)-M(F)}(_.type,w.type)||this.ya(_.doc,w.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,c.length!==0||y?{snapshot:new Na(this.query,e.wa,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=at(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new Kw(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new Ww(i))}),t}Oa(e){this.fa=e.gs,this.pa=at();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Na.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const fm="SyncEngine";class CD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class AD{constructor(e){this.key=e,this.Ba=!1}}class PD{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ko(d=>vw(d),Ph),this.qa=new Map,this.Qa=new Set,this.$a=new jt(Fe.comparator),this.Ua=new Map,this.Ka=new rm,this.Wa={},this.Ga=new Map,this.za=ka.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function xD(n,e,t=!0){const i=Jw(n);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Gw(i,e,t,!0),o}async function kD(n,e){const t=Jw(n);await Gw(t,e,!0,!1)}async function Gw(n,e,t,i){const o=await ZN(n.localStore,ei(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await bD(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&$w(n.remoteStore,o),d}async function bD(n,e,t,i,o){n.Ha=(w,I,N)=>async function(M,x,K,te){let ee=x.view.ba(K);ee.ls&&(ee=await L_(M.localStore,x.query,!1).then(({documents:R})=>x.view.ba(R,ee)));const re=te&&te.targetChanges.get(x.targetId),X=te&&te.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(ee,M.isPrimaryClient,re,X);return W_(M,x.targetId,L.Ma),L.snapshot}(n,w,I,N);const l=await L_(n.localStore,e,!0),c=new RD(e,l.gs),d=c.ba(l.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);W_(n,t,y.Ma);const _=new CD(e,t,c);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function ND(n,e,t){const i=rt(n),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(c=>!Ph(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&am(i.remoteStore,o.targetId),Ep(i,o.targetId)}).catch(Ih)):(Ep(i,o.targetId),await yp(i.localStore,o.targetId,!0))}async function DD(n,e){const t=rt(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),am(t.remoteStore,i.targetId))}async function Qw(n,e){const t=rt(n);try{const i=await YN(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ua.get(l);c&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?kt(c.Ba):o.removedDocuments.size>0&&(kt(c.Ba),c.Ba=!1))}),await Yw(t,i,e)}catch(i){await Ih(i)}}function q_(n,e,t){const i=rt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=rt(c);p.onlineState=d;let y=!1;p.queries.forEach((_,w)=>{for(const I of w.ta)I.sa(d)&&(y=!0)}),y&&dm(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function OD(n,e,t){const i=rt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),l=o&&o.key;if(l){let c=new jt(Fe.comparator);c=c.insert(l,En.newNoDocument(l,He.min()));const d=at().add(l),p=new Nh(He.min(),new Map,new jt(Ke),c,d);await Qw(i,p),i.$a=i.$a.remove(l),i.Ua.delete(e),pm(i)}else await yp(i.localStore,e,!1).then(()=>Ep(i,e,t)).catch(Ih)}function Ep(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||Xw(n,i)})}function Xw(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(am(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),pm(n))}function W_(n,e,t){for(const i of t)i instanceof Ww?(n.Ka.addReference(i.key,e),LD(n,i)):i instanceof Kw?(ve(fm,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||Xw(n,i.key)):qe()}function LD(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ve(fm,"New document in limbo: "+t),n.Qa.add(i),pm(n))}function pm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Fe(Lt.fromString(e)),i=n.za.next();n.Ua.set(i,new AD(t)),n.$a=n.$a.insert(t,i),$w(n.remoteStore,new Ts(ei(yw(t.path)),i,"TargetPurposeLimboResolution",Sh.ae))}}async function Yw(n,e,t){const i=rt(n),o=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=sm.Yi(p.targetId,y);l.push(w)}}))}),await Promise.all(c),i.La.p_(o),await async function(p,y){const _=rt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(y,I=>ne.forEach(I.Hi,N=>_.persistence.referenceDelegate.addReference(w,I.targetId,N)).next(()=>ne.forEach(I.Ji,N=>_.persistence.referenceDelegate.removeReference(w,I.targetId,N)))))}catch(w){if(!Fa(w))throw w;ve(om,"Failed to update sequence numbers: "+w)}for(const w of y){const I=w.targetId;if(!w.fromCache){const N=_.Ts.get(I),F=N.snapshotVersion,M=N.withLastLimboFreeSnapshotVersion(F);_.Ts=_.Ts.insert(I,M)}}}(i.localStore,l))}async function MD(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){ve(fm,"User change. New user:",e.toKey());const i=await Fw(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new Le(fe.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yw(t,i.Rs)}}function VD(n,e){const t=rt(n),i=t.Ua.get(e);if(i&&i.Ba)return at().add(i.key);{let o=at();const l=t.qa.get(e);if(!l)return o;for(const c of l){const d=t.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function Jw(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OD.bind(null,e),e.La.p_=TD.bind(null,e.eventManager),e.La.Ja=ID.bind(null,e.eventManager),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uw(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return XN(this.persistence,new KN,e.initialUser,this.serializer)}Xa(e){return new Vw(im.ri,this.serializer)}Za(e){return new tD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class FD extends sh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){kt(this.persistence.referenceDelegate instanceof ih);const i=this.persistence.referenceDelegate.garbageCollector;return new NN(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Vw(i=>ih.ri(i,t),this.serializer)}}class wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _D}()}createDatastore(e){const t=Uw(e.databaseInfo.databaseId),i=function(l){return new oD(l)}(e.databaseInfo);return function(l,c,d,p){return new cD(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new dD(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>q_(this.syncEngine,t,0),function(){return F_.D()?new F_:new nD}())}createSyncEngine(e,t){return function(o,l,c,d,p,y,_){const w=new PD(o,l,c,d,p,y);return _&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=rt(o);ve(ba,"RemoteStore shutting down."),l.W_.add(5),await au(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class UD{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=_n.UNAUTHENTICATED,this.clientId=hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ve(Ls,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ve(Ls,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=qw(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Lf(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Ls,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Fw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function K_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await zD(n);ve(Ls,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>z_(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>z_(e.remoteStore,o)),n._onlineComponents=e}async function zD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Ls,"Using user provided OfflineComponentProvider");try{await Lf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ca("Error using user provided cache. Falling back to memory cache: "+t),await Lf(n,new sh)}}else ve(Ls,"Using default OfflineComponentProvider"),await Lf(n,new FD(void 0));return n._offlineComponents}async function $D(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Ls,"Using user provided OnlineComponentProvider"),await K_(n,n._uninitializedComponentsProvider._online)):(ve(Ls,"Using default OnlineComponentProvider"),await K_(n,new wp))),n._onlineComponents}async function BD(n){const e=await $D(n),t=e.eventManager;return t.onListen=xD.bind(null,e.syncEngine),t.onUnlisten=ND.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DD.bind(null,e.syncEngine),t}function HD(n,e,t={}){const i=new po;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,y){const _=new jD({next:I=>{_.su(),c.enqueueAndForget(()=>wD(l,w)),I.fromCache&&p.source==="server"?y.reject(new Le(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),w=new SD(d,_,{includeMetadataChanges:!0,Ta:!0});return ED(l,w)}(await BD(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function qD(n,e,t,i){if(e===!0&&i===!0)throw new Le(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Q_(n){if(Fe.isDocumentKey(n))throw new Le(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qe()}function Tp(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=WD(n);throw new Le(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firestore.googleapis.com",X_=!0;class Y_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eT,this.ssl=X_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:X_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kN)throw new Le(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Le(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Le(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Le(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ib;switch(i.type){case"firstParty":return new lb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Le(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=G_.get(t);i&&(ve("ComponentProvider","Removing Datastore"),G_.delete(t),i.terminate())}(this),Promise.resolve()}}function KD(n,e,t,i={}){var o;const l=(n=Tp(n,mm))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==eT&&l.host!==d&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!_o(p,c)&&(n._setSettings(p),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=_n.MOCK_USER;else{y=pE(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Le(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _n(w)}n._authCredentials=new sb(new rw(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Oh(this.firestore,e,this._query)}}class Ua{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ua(this.firestore,e,this._key)}}class Ia extends Oh{constructor(e,t,i){super(e,t,yw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ua(this.firestore,null,new Fe(e))}withConverter(e){return new Ia(this.firestore,e,this._path)}}function GD(n,e,...t){if(n=ji(n),n instanceof mm){const i=Lt.fromString(e,...t);return Q_(i),new Ia(n,null,i)}{if(!(n instanceof Ua||n instanceof Ia))throw new Le(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Lt.fromString(e,...t));return Q_(i),new Ia(n.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class Z_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zw(this,"async_queue_retry"),this.Su=()=>{const i=Of();i&&ve(J_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Of();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Of();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new po;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fa(e))throw e;ve(J_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Mi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=hm.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&qe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class tT extends mm{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Z_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,await e}}}function QD(n,e){const t=typeof n=="object"?n:Fp(),i=typeof n=="string"?n:Zc,o=Eh(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=hE("firestore");l&&KD(o,...l)}return o}function XD(n){if(n._terminated)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YD(n),n._firestoreClient}function YD(n){var e,t,i;const o=n._freezeSettings(),l=function(d,p,y,_){return new Rb(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Zw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new UD(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oh(hn.fromBase64String(e))}catch(t){throw new Le(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oh(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Le(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}const eO=new RegExp("[~\\*/\\[\\]]");function tO(n,e,t){if(e.search(eO)>=0)throw e0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new nT(...e.split("."))._internalPath}catch{throw e0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function e0(n,e,t,i,o){let l=`Function ${e}() called with invalid data`;l+=". ";let c="";return new Le(fe.INVALID_ARGUMENT,l+n+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ua(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nO extends rT{data(){return super.data()}}function iT(n,e){return typeof e=="string"?tO(n,e):e instanceof nT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Le(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iO{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return su(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[ap].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>Ft(c.doubleValue));return new ZD(l)}convertGeoPoint(e){return new JD(Ft(e.latitude),Ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ch(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const t=bs(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Lt.fromString(e);kt(Lw(i));const o=new Gl(i.get(1),i.get(3)),l=new Fe(i.popFirst(5));return o.isEqual(t)||Mi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sO extends rT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(iT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zc extends sO{data(e={}){return super.data(e)}}class oO{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zc(this._firestore,this._userDataWriter,i.key,i,new Ac(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new zc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ac(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new zc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ac(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:aO(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class lO extends iO{constructor(e){super(),this.firestore=e}convertBytes(e){return new oh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ua(this.firestore,null,t)}}function uO(n){n=Tp(n,Oh);const e=Tp(n.firestore,tT),t=XD(e),i=new lO(e);return rO(n._query),HD(t,n._query).then(o=>new oO(e,i,n,o))}(function(e,t=!0){(function(o){Va=o})(xo),Eo(new xs("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new tT(new ob(i.getProvider("auth-internal")),new ub(c,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Le(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(y.options.projectId,_)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Yr(s_,o_,e),Yr(s_,o_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebasestorage.googleapis.com",cO="storageBucket",hO=2*60*1e3,dO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends si{constructor(e,t,i=0){super(Mf(e),`Firebase Storage: ${t} (${Mf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ri;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ri||(ri={}));function Mf(n){return"storage/"+n}function fO(){const n="An unknown error occurred, please check the error payload for server response.";return new oi(ri.UNKNOWN,n)}function pO(){return new oi(ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mO(){return new oi(ri.CANCELED,"User canceled the upload/download.")}function gO(n){return new oi(ri.INVALID_URL,"Invalid URL '"+n+"'.")}function yO(n){return new oi(ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function t0(n){return new oi(ri.INVALID_ARGUMENT,n)}function oT(){return new oi(ri.APP_DELETED,"The Firebase app was deleted.")}function vO(n){return new oi(ri.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Or.makeFromUrl(e,t)}catch{return new Or(e,"")}if(i.path==="")return i;throw yO(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(re){re.path_=decodeURIComponent(re.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",N=new RegExp(`^https?://${w}/${_}/b/${o}/o${I}`,"i"),F={bucket:1,path:3},M=t===sT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",K=new RegExp(`^https?://${M}/${o}/${x}`,"i"),ee=[{regex:d,indices:p,postModify:l},{regex:N,indices:F,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let re=0;re<ee.length;re++){const X=ee[re],L=X.regex.exec(e);if(L){const R=L[X.indices.bucket];let S=L[X.indices.path];S||(S=""),i=new Or(R,S),X.postModify(i);break}}if(i==null)throw gO(e);return i}}class _O{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n,e,t){let i=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let y=!1;function _(...x){y||(y=!0,e.apply(null,x))}function w(x){o=setTimeout(()=>{o=null,n(N,p())},x)}function I(){l&&clearTimeout(l)}function N(x,...K){if(y){I();return}if(x){I(),_.call(null,x,...K);return}if(p()||c){I(),_.call(null,x,...K);return}i<64&&(i*=2);let ee;d===1?(d=2,ee=0):ee=(i+Math.random())*1e3,w(ee)}let F=!1;function M(x){F||(F=!0,I(),!y&&(o!==null?(x||(d=2),clearTimeout(o),w(0)):x||(d=1)))}return w(0),l=setTimeout(()=>{c=!0,M(!0)},t),M}function wO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(n){return n!==void 0}function n0(n,e,t,i){if(i<e)throw t0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw t0(`Invalid value for '${n}'. Expected ${t} or less.`)}function IO(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var ah;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ah||(ah={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t,i,o,l,c,d,p,y,_,w,I=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=w,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,F)=>{this.resolve_=N,this.reject_=F,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Pc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===ah.NO_ERROR,p=l.getStatus();if(!d||SO(p,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===ah.ABORT;i(!1,new Pc(!1,null,_));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new Pc(y,l))})},t=(i,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());TO(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=fO();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?oT():mO();c(p)}else{const p=pO();c(p)}};this.canceled_?t(!1,new Pc(!1,null,!0)):this.backoffId_=EO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function CO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function AO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function xO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function kO(n,e,t,i,o,l,c=!0){const d=IO(n.urlParams),p=n.url+d,y=Object.assign({},n.headers);return PO(y,e),CO(y,t),AO(y,l),xO(y,i),new RO(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function NO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t){this._service=e,t instanceof Or?this._location=t:this._location=Or.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lh(e,t)}get root(){const e=new Or(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NO(this._location.path)}get storage(){return this._service}get parent(){const e=bO(this._location.path);if(e===null)return null;const t=new Or(this._location.bucket,e);return new lh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vO(e)}}function r0(n,e){const t=e==null?void 0:e[cO];return t==null?null:Or.makeFromBucketSpec(t,n)}function DO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:pE(o,n.app.options.projectId))}class OO{constructor(e,t,i,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=sT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hO,this._maxUploadRetryTime=dO,this._requests=new Set,o!=null?this._bucket=Or.makeFromBucketSpec(o,this._host):this._bucket=r0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Or.makeFromBucketSpec(this._url,e):this._bucket=r0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lh(this,e)}_makeRequest(e,t,i,o,l=!0){if(this._deleted)return new _O(oT());{const c=kO(e,this._appId,i,o,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const i0="@firebase/storage",s0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="storage";function LO(n=Fp(),e){n=ji(n);const i=Eh(n,aT).getImmediate({identifier:e}),o=hE("storage");return o&&MO(i,...o),i}function MO(n,e,t,i={}){DO(n,e,t,i)}function VO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new OO(t,i,o,e,xo)}function FO(){Eo(new xs(aT,VO,"PUBLIC").setMultipleInstances(!0)),Yr(i0,s0,""),Yr(i0,s0,"esm2017")}FO();const jO={apiKey:"AIzaSyDg0Vkrb9aLiEyEQRntrv5EvC9bSnffFVk",authDomain:"retail-5d0f2.firebaseapp.com",projectId:"retail-5d0f2",storageBucket:"retail-5d0f2.appspot.com",messagingSenderId:"281562587128",appId:"1:281562587128:web:519b9531907755c871800d"},gm=yE(jO),ym=nb(gm),vm=QD(gm),lT=LO(gm),ai=U.createContext(null);ai.displayName="FireBaseContext";const bo=U.createContext(null);bo.displayName="AuthContext";const Lh=U.createContext(null);Lh.displayName="ProductContext";const UO=({children:n})=>{const[e,t]=U.useState(null);return z.jsxs(ai.Provider,{value:{auth:ym,db:vm,storage:lT},children:[" ",z.jsx(bo.Provider,{value:{user:e,setUser:t},children:n})]})},zO=({children:n})=>{const[e,t]=U.useState(null);return z.jsx(Lh.Provider,{value:{productDetails:e,setProductDetails:t},children:n})};function uT(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=uT(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Is(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=uT(n))&&(i&&(i+=" "),i+=e);return i}const Vl=n=>typeof n=="number"&&!isNaN(n),Io=n=>typeof n=="string",zn=n=>typeof n=="function",$c=n=>Io(n)||zn(n)?n:null,Vf=n=>U.isValidElement(n)||Io(n)||zn(n)||Vl(n);function $O(n,e,t){t===void 0&&(t=300);const{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function Mh(n){let{enter:e,exit:t,appendPosition:i=!1,collapse:o=!0,collapseDuration:l=300}=n;return function(c){let{children:d,position:p,preventExitTransition:y,done:_,nodeRef:w,isIn:I}=c;const N=i?`${e}--${p}`:e,F=i?`${t}--${p}`:t,M=U.useRef(0);return U.useLayoutEffect(()=>{const x=w.current,K=N.split(" "),te=ee=>{ee.target===w.current&&(x.dispatchEvent(new Event("d")),x.removeEventListener("animationend",te),x.removeEventListener("animationcancel",te),M.current===0&&ee.type!=="animationcancel"&&x.classList.remove(...K))};x.classList.add(...K),x.addEventListener("animationend",te),x.addEventListener("animationcancel",te)},[]),U.useEffect(()=>{const x=w.current,K=()=>{x.removeEventListener("animationend",K),o?$O(x,_,l):_()};I||(y?K():(M.current=1,x.className+=` ${F}`,x.addEventListener("animationend",K)))},[I]),ot.createElement(ot.Fragment,null,d)}}function o0(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const gr={list:new Map,emitQueue:new Map,on(n,e){return this.list.has(n)||this.list.set(n,[]),this.list.get(n).push(e),this},off(n,e){if(e){const t=this.list.get(n).filter(i=>i!==e);return this.list.set(n,t),this}return this.list.delete(n),this},cancelEmit(n){const e=this.emitQueue.get(n);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(n)),this},emit(n){this.list.has(n)&&this.list.get(n).forEach(e=>{const t=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(n)||this.emitQueue.set(n,[]),this.emitQueue.get(n).push(t)})}},xc=n=>{let{theme:e,type:t,...i}=n;return ot.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},Ff={info:function(n){return ot.createElement(xc,{...n},ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return ot.createElement(xc,{...n},ot.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return ot.createElement(xc,{...n},ot.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return ot.createElement(xc,{...n},ot.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ot.createElement("div",{className:"Toastify__spinner"})}};function BO(n){const[,e]=U.useReducer(N=>N+1,0),[t,i]=U.useState([]),o=U.useRef(null),l=U.useRef(new Map).current,c=N=>t.indexOf(N)!==-1,d=U.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:n,containerId:null,isToastActive:c,getToast:N=>l.get(N)}).current;function p(N){let{containerId:F}=N;const{limit:M}=d.props;!M||F&&d.containerId!==F||(d.count-=d.queue.length,d.queue=[])}function y(N){i(F=>N==null?[]:F.filter(M=>M!==N))}function _(){const{toastContent:N,toastProps:F,staleId:M}=d.queue.shift();I(N,F,M)}function w(N,F){let{delay:M,staleId:x,...K}=F;if(!Vf(N)||function(V){return!o.current||d.props.enableMultiContainer&&V.containerId!==d.props.containerId||l.has(V.toastId)&&V.updateId==null}(K))return;const{toastId:te,updateId:ee,data:re}=K,{props:X}=d,L=()=>y(te),R=ee==null;R&&d.count++;const S={...X,style:X.toastStyle,key:d.toastKey++,...Object.fromEntries(Object.entries(K).filter(V=>{let[A,Oe]=V;return Oe!=null})),toastId:te,updateId:ee,data:re,closeToast:L,isIn:!1,className:$c(K.className||X.toastClassName),bodyClassName:$c(K.bodyClassName||X.bodyClassName),progressClassName:$c(K.progressClassName||X.progressClassName),autoClose:!K.isLoading&&(C=K.autoClose,b=X.autoClose,C===!1||Vl(C)&&C>0?C:b),deleteToast(){const V=o0(l.get(te),"removed");l.delete(te),gr.emit(4,V);const A=d.queue.length;if(d.count=te==null?d.count-d.displayedToast:d.count-1,d.count<0&&(d.count=0),A>0){const Oe=te==null?d.props.limit:1;if(A===1||Oe===1)d.displayedToast++,_();else{const lt=Oe>A?A:Oe;d.displayedToast=lt;for(let Ge=0;Ge<lt;Ge++)_()}}else e()}};var C,b;S.iconOut=function(V){let{theme:A,type:Oe,isLoading:lt,icon:Ge}=V,Se=null;const ae={theme:A,type:Oe};return Ge===!1||(zn(Ge)?Se=Ge(ae):U.isValidElement(Ge)?Se=U.cloneElement(Ge,ae):Io(Ge)||Vl(Ge)?Se=Ge:lt?Se=Ff.spinner():(ye=>ye in Ff)(Oe)&&(Se=Ff[Oe](ae))),Se}(S),zn(K.onOpen)&&(S.onOpen=K.onOpen),zn(K.onClose)&&(S.onClose=K.onClose),S.closeButton=X.closeButton,K.closeButton===!1||Vf(K.closeButton)?S.closeButton=K.closeButton:K.closeButton===!0&&(S.closeButton=!Vf(X.closeButton)||X.closeButton);let D=N;U.isValidElement(N)&&!Io(N.type)?D=U.cloneElement(N,{closeToast:L,toastProps:S,data:re}):zn(N)&&(D=N({closeToast:L,toastProps:S,data:re})),X.limit&&X.limit>0&&d.count>X.limit&&R?d.queue.push({toastContent:D,toastProps:S,staleId:x}):Vl(M)?setTimeout(()=>{I(D,S,x)},M):I(D,S,x)}function I(N,F,M){const{toastId:x}=F;M&&l.delete(M);const K={content:N,props:F};l.set(x,K),i(te=>[...te,x].filter(ee=>ee!==M)),gr.emit(4,o0(K,K.props.updateId==null?"added":"updated"))}return U.useEffect(()=>(d.containerId=n.containerId,gr.cancelEmit(3).on(0,w).on(1,N=>o.current&&y(N)).on(5,p).emit(2,d),()=>{l.clear(),gr.emit(3,d)}),[]),U.useEffect(()=>{d.props=n,d.isToastActive=c,d.displayedToast=t.length}),{getToastToRender:function(N){const F=new Map,M=Array.from(l.values());return n.newestOnTop&&M.reverse(),M.forEach(x=>{const{position:K}=x.props;F.has(K)||F.set(K,[]),F.get(K).push(x)}),Array.from(F,x=>N(x[0],x[1]))},containerRef:o,isToastActive:c}}function a0(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientX:n.clientX}function l0(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientY:n.clientY}function HO(n){const[e,t]=U.useState(!1),[i,o]=U.useState(!1),l=U.useRef(null),c=U.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,d=U.useRef(n),{autoClose:p,pauseOnHover:y,closeToast:_,onClick:w,closeOnClick:I}=n;function N(re){if(n.draggable){re.nativeEvent.type==="touchstart"&&re.nativeEvent.preventDefault(),c.didMove=!1,document.addEventListener("mousemove",K),document.addEventListener("mouseup",te),document.addEventListener("touchmove",K),document.addEventListener("touchend",te);const X=l.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=X.getBoundingClientRect(),X.style.transition="",c.x=a0(re.nativeEvent),c.y=l0(re.nativeEvent),n.draggableDirection==="x"?(c.start=c.x,c.removalDistance=X.offsetWidth*(n.draggablePercent/100)):(c.start=c.y,c.removalDistance=X.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent/100))}}function F(re){if(c.boundingRect){const{top:X,bottom:L,left:R,right:S}=c.boundingRect;re.nativeEvent.type!=="touchend"&&n.pauseOnHover&&c.x>=R&&c.x<=S&&c.y>=X&&c.y<=L?x():M()}}function M(){t(!0)}function x(){t(!1)}function K(re){const X=l.current;c.canDrag&&X&&(c.didMove=!0,e&&x(),c.x=a0(re),c.y=l0(re),c.delta=n.draggableDirection==="x"?c.x-c.start:c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),X.style.transform=`translate${n.draggableDirection}(${c.delta}px)`,X.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function te(){document.removeEventListener("mousemove",K),document.removeEventListener("mouseup",te),document.removeEventListener("touchmove",K),document.removeEventListener("touchend",te);const re=l.current;if(c.canDrag&&c.didMove&&re){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),void n.closeToast();re.style.transition="transform 0.2s, opacity 0.2s",re.style.transform=`translate${n.draggableDirection}(0)`,re.style.opacity="1"}}U.useEffect(()=>{d.current=n}),U.useEffect(()=>(l.current&&l.current.addEventListener("d",M,{once:!0}),zn(n.onOpen)&&n.onOpen(U.isValidElement(n.children)&&n.children.props),()=>{const re=d.current;zn(re.onClose)&&re.onClose(U.isValidElement(re.children)&&re.children.props)}),[]),U.useEffect(()=>(n.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",M),window.addEventListener("blur",x)),()=>{n.pauseOnFocusLoss&&(window.removeEventListener("focus",M),window.removeEventListener("blur",x))}),[n.pauseOnFocusLoss]);const ee={onMouseDown:N,onTouchStart:N,onMouseUp:F,onTouchEnd:F};return p&&y&&(ee.onMouseEnter=x,ee.onMouseLeave=M),I&&(ee.onClick=re=>{w&&w(re),c.canCloseOnClick&&_()}),{playToast:M,pauseToast:x,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:ee}}function cT(n){let{closeToast:e,theme:t,ariaLabel:i="close"}=n;return ot.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:o=>{o.stopPropagation(),e(o)},"aria-label":i},ot.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ot.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function qO(n){let{delay:e,isRunning:t,closeToast:i,type:o="default",hide:l,className:c,style:d,controlledProgress:p,progress:y,rtl:_,isIn:w,theme:I}=n;const N=l||p&&y===0,F={...d,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused",opacity:N?0:1};p&&(F.transform=`scaleX(${y})`);const M=Is("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${I}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":_}),x=zn(c)?c({rtl:_,type:o,defaultClassName:M}):Is(M,c);return ot.createElement("div",{role:"progressbar","aria-hidden":N?"true":"false","aria-label":"notification timer",className:x,style:F,[p&&y>=1?"onTransitionEnd":"onAnimationEnd"]:p&&y<1?null:()=>{w&&i()}})}const WO=n=>{const{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o}=HO(n),{closeButton:l,children:c,autoClose:d,onClick:p,type:y,hideProgressBar:_,closeToast:w,transition:I,position:N,className:F,style:M,bodyClassName:x,bodyStyle:K,progressClassName:te,progressStyle:ee,updateId:re,role:X,progress:L,rtl:R,toastId:S,deleteToast:C,isIn:b,isLoading:D,iconOut:V,closeOnClick:A,theme:Oe}=n,lt=Is("Toastify__toast",`Toastify__toast-theme--${Oe}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":A}),Ge=zn(F)?F({rtl:R,position:N,type:y,defaultClassName:lt}):Is(lt,F),Se=!!L||!d,ae={closeToast:w,type:y,theme:Oe};let ye=null;return l===!1||(ye=zn(l)?l(ae):U.isValidElement(l)?U.cloneElement(l,ae):cT(ae)),ot.createElement(I,{isIn:b,done:C,position:N,preventExitTransition:t,nodeRef:i},ot.createElement("div",{id:S,onClick:p,className:Ge,...o,style:M,ref:i},ot.createElement("div",{...b&&{role:X},className:zn(x)?x({type:y}):Is("Toastify__toast-body",x),style:K},V!=null&&ot.createElement("div",{className:Is("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},V),ot.createElement("div",null,c)),ye,ot.createElement(qO,{...re&&!Se?{key:`pb-${re}`}:{},rtl:R,theme:Oe,delay:d,isRunning:e,isIn:b,closeToast:w,hide:_,type:y,style:ee,className:te,controlledProgress:Se,progress:L||0})))},Vh=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},KO=Mh(Vh("bounce",!0));Mh(Vh("slide",!0));Mh(Vh("zoom"));Mh(Vh("flip"));const Ip=U.forwardRef((n,e)=>{const{getToastToRender:t,containerRef:i,isToastActive:o}=BO(n),{className:l,style:c,rtl:d,containerId:p}=n;function y(_){const w=Is("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":d});return zn(l)?l({position:_,rtl:d,defaultClassName:w}):Is(w,$c(l))}return U.useEffect(()=>{e&&(e.current=i.current)},[]),ot.createElement("div",{ref:i,className:"Toastify",id:p},t((_,w)=>{const I=w.length?{...c}:{...c,pointerEvents:"none"};return ot.createElement("div",{className:y(_),style:I,key:`container-${_}`},w.map((N,F)=>{let{content:M,props:x}=N;return ot.createElement(WO,{...x,isIn:o(x.toastId),style:{...x.style,"--nth":F+1,"--len":w.length},key:`toast-${x.key}`},M)}))}))});Ip.displayName="ToastContainer",Ip.defaultProps={position:"top-right",transition:KO,autoClose:5e3,closeButton:cT,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let jf,ao=new Map,xl=[],GO=1;function hT(){return""+GO++}function QO(n){return n&&(Io(n.toastId)||Vl(n.toastId))?n.toastId:hT()}function Fl(n,e){return ao.size>0?gr.emit(0,n,e):xl.push({content:n,options:e}),e.toastId}function uh(n,e){return{...e,type:e&&e.type||n,toastId:QO(e)}}function kc(n){return(e,t)=>Fl(e,uh(n,t))}function It(n,e){return Fl(n,uh("default",e))}It.loading=(n,e)=>Fl(n,uh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),It.promise=function(n,e,t){let i,{pending:o,error:l,success:c}=e;o&&(i=Io(o)?It.loading(o,t):It.loading(o.render,{...t,...o}));const d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(_,w,I)=>{if(w==null)return void It.dismiss(i);const N={type:_,...d,...t,data:I},F=Io(w)?{render:w}:w;return i?It.update(i,{...N,...F}):It(F.render,{...N,...F}),I},y=zn(n)?n():n;return y.then(_=>p("success",c,_)).catch(_=>p("error",l,_)),y},It.success=kc("success"),It.info=kc("info"),It.error=kc("error"),It.warning=kc("warning"),It.warn=It.warning,It.dark=(n,e)=>Fl(n,uh("default",{theme:"dark",...e})),It.dismiss=n=>{ao.size>0?gr.emit(1,n):xl=xl.filter(e=>n!=null&&e.options.toastId!==n)},It.clearWaitingQueue=function(n){return n===void 0&&(n={}),gr.emit(5,n)},It.isActive=n=>{let e=!1;return ao.forEach(t=>{t.isToastActive&&t.isToastActive(n)&&(e=!0)}),e},It.update=function(n,e){e===void 0&&(e={}),setTimeout(()=>{const t=function(i,o){let{containerId:l}=o;const c=ao.get(l||jf);return c&&c.getToast(i)}(n,e);if(t){const{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:hT()};l.toastId!==n&&(l.staleId=n);const c=l.render||o;delete l.render,Fl(c,l)}},0)},It.done=n=>{It.update(n,{progress:1})},It.onChange=n=>(gr.on(4,n),()=>{gr.off(4,n)}),It.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},It.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},gr.on(2,n=>{jf=n.containerId||n,ao.set(jf,n),xl.forEach(e=>{gr.emit(0,e.content,e.options)}),xl=[]}).on(3,n=>{ao.delete(n.containerId||n),ao.size===0&&gr.off(0).off(1).off(5)});const _m=()=>z.jsx(z.Fragment,{children:z.jsx(Ip,{limit:1})}),XO=()=>{const n=So(),{auth:e,db:t}=U.useContext(ai),[i,o]=U.useState(!1),l=Lp({initialValues:{userName:"",email:"",mobile:"",password:"",rePassword:""},validate:IP,onSubmit:({userName:d,email:p,password:y,mobile:_})=>{o(!0),e.createUserWithEmailAndPassword(p,y).then(w=>{w.user.updateProfile({displayName:d}).then(()=>{t.collection("users").add({id:w.user.uid,userName:d,mobile:_}).then(()=>{n("/login")}).catch(I=>console.log("error in firestore",I))})}).catch(w=>{o(!1),It.error(w.message,{toastStyle:{background:"red",color:"white",minWidth:"300px"},position:"top-center"}),console.log(w)})}}),c="shadow-sm  border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 bg-white";return z.jsxs("div",{className:"flex flex-col  justify-center items-center  bg-slate-50 ",children:[z.jsx(_m,{}),z.jsx("div",{className:"p-10 pb-2 bg-white shadow-lg rounded-lg  m-5",children:z.jsxs("form",{className:"max-w-sm mx-auto",onSubmit:l.handleSubmit,children:[z.jsx("div",{className:"mb-5 ml-16",children:z.jsx("img",{className:"w-28",src:"https://seeklogo.com/images/O/olx-logo-20F1656D13-seeklogo.com.png",alt:""})}),z.jsxs("div",{className:"mb-5 ",children:[z.jsx("input",{type:"text",name:"userName",className:c,placeholder:"User Name",onBlur:l.handleBlur,onChange:l.handleChange}),l.touched.userName&&l.errors.userName?z.jsx("p",{className:"text-sm font-medium text-red-700 mb-0",children:l.errors.userName}):null]}),z.jsxs("div",{className:"mb-5",children:[z.jsx("input",{type:"text",name:"email",className:c,placeholder:"jhondoe@gmail.com",onBlur:l.handleBlur,onChange:l.handleChange}),l.touched.email&&l.errors.email?z.jsx("p",{className:"text-sm font-medium text-red-700 mb-0",children:l.errors.email}):null]}),z.jsxs("div",{className:"mb-5",children:[z.jsx("input",{type:"mobile",name:"mobile",className:c,placeholder:"Enter mobile number",onBlur:l.handleBlur,onChange:l.handleChange}),l.touched.mobile&&l.errors.mobile?z.jsx("p",{className:"text-sm font-medium text-red-700 mb-0",children:l.errors.mobile}):null]}),z.jsxs("div",{className:"mb-5 ",children:[z.jsx("input",{type:"password",name:"password",className:c,placeholder:"Password",onBlur:l.handleBlur,onChange:l.handleChange}),l.touched.password&&l.errors.password?z.jsx("p",{className:"text-sm font-medium text-red-700 mb-0 ",children:l.errors.password}):null]}),z.jsxs("div",{className:"mb-5",children:[z.jsx("input",{type:"password",name:"rePassword",className:c,placeholder:"Re-enter passoword",onBlur:l.handleBlur,onChange:l.handleChange}),l.touched.rePassword&&l.errors.rePassword?z.jsx("p",{className:"text-sm font-medium text-red-700 mb-0",children:l.errors.rePassword}):null]}),z.jsx("button",{type:"submit",className:"text-white  border-2 border-black mb-2 bg-black hover:bg-white hover:text-black focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-16 py-2.5 text-center",disabled:i,children:"Register new account"}),z.jsx("div",{className:"flex items-start mb-5",children:z.jsxs("label",{htmlFor:"terms",className:"ms-2 text-sm font-medium text-gray-500",children:["Already have an Account ?",z.jsx(Yl,{to:"/login",className:"text-black hover:underline ml-1",children:"Login"})]})})]})})]})};function YO({email:n,password:e}){const t={};return n.trim().length?oE.test(n)||(t.email="Invalid email format."):t.email="Required*",e.trim().length||(t.password="Password is Required*"),t}const JO=()=>{const n=So(),{firebase:e}=U.useContext(ai),[t,i]=U.useState(!1),o=Lp({initialValues:{email:"",password:""},validate:YO,onSubmit:({email:c,password:d})=>{i(!0),e.auth().signInWithEmailAndPassword(c,d).then(()=>n("/")).catch(p=>{i(!1);const{message:y}=p,{error:{message:_}}=JSON.parse(y);It.error(_,{toastStyle:{background:"red",color:"white",minWidth:"300px"},position:"top-center"})})}}),l="shadow-sm  border border-black text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 bg-white";return z.jsxs("div",{className:"flex flex-col  justify-center items-center h-screen bg-slate-50",children:[z.jsx(_m,{}),z.jsx("div",{className:"p-7 pb-2 bg-white shadow-lg rounded-lg",children:z.jsxs("form",{className:"max-w-sm mx-auto",onSubmit:o.handleSubmit,children:[z.jsx("div",{className:"mb-5 ml-16",children:z.jsx("img",{className:"w-28",src:"https://seeklogo.com/images/O/olx-logo-20F1656D13-seeklogo.com.png",alt:"OLX image"})}),z.jsxs("div",{className:"mb-5",children:[z.jsx("input",{type:"text",name:"email",className:l,placeholder:"jhonedoe@gmail.com",onChange:o.handleChange,onBlur:o.handleBlur}),o.touched.email&&o.errors.email?z.jsx("p",{className:"text-sm font-medium text-red-700",children:o.errors.email}):null]}),z.jsxs("div",{className:"mb-5",children:[z.jsx("input",{type:"password",name:"password",placeholder:"Password",className:l,onChange:o.handleChange,onBlur:o.handleBlur}),o.touched.password&&o.errors.password?z.jsx("p",{className:"text-sm font-medium text-red-700",children:o.errors.password}):null]}),z.jsx("button",{type:"submit",className:"text-white border-2 bg-center border-black mb-2 bg-black hover:bg-white hover:text-black focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-24 py-2.5 text-center",disabled:t,children:"Login"}),z.jsx("div",{className:"flex items-start mb-5",children:z.jsxs("label",{htmlFor:"terms",className:"ms-2 text-sm font-medium text-gray-500",children:["Don't have an Account ?",z.jsx(Yl,{to:"/signUp",className:"text-black hover:underline ml-1",children:"Register"})]})})]})})]})},ZO=()=>{const{firebase:n}=U.useContext(ai),{user:e}=U.useContext(bo),[t,i]=U.useState(null),o=new Date,l=So(),c=Lp({initialValues:{title:"",price:"",description:"",images:[]},onSubmit:async({title:d,price:p,description:y,images:_})=>{const w=_.map(I=>new Promise((N,F)=>{n.storage().ref(`/image/${I.name}`).put(I).then(({ref:M})=>{M.getDownloadURL().then(x=>{N(x)})}).catch(M=>{F(M)})}));try{const I=await Promise.all(w);n.firestore().collection("products").add({title:d,price:p,description:y,imageUrl:I,userId:e.uid,createdAt:o.toDateString()}).then(()=>{l("/")})}catch(I){console.log("errror in upload",I)}}});return z.jsx("div",{className:"w-full h-screen flex justify-center items-center bg-[#eff1f3] ",children:z.jsxs("form",{className:"w-[50%] h-[70vh]  flex flex-col justify-center items-center rounded-lg bg-white gap-5",encType:"multipart/form-data",onSubmit:c.handleSubmit,children:[z.jsx("input",{className:"w-[90%] p-3  outline-none rounded-lg border-2 border-[#002f34] ring-2 ring-transparent focus:ring-2 focus:ring-[#001f24] transition duration-300",type:"text",name:"title",placeholder:"Name",onChange:c.handleChange}),z.jsx("input",{className:"w-[90%] p-3 outline-none rounded-lg border-2 border-[#002f34] ring-2 ring-transparent focus:ring-2 focus:ring-[#001f24] transition duration-300",type:"number",name:"price",placeholder:"Price",onChange:c.handleChange}),z.jsx("textarea",{className:"w-[90%] p-3 outline-none rounded-lg border-2 border-[#002f34] ring-2 ring-transparent focus:ring-2 focus:ring-[#001f24] transition duration-300",type:"text",name:"description",placeholder:"Description",onChange:c.handleChange}),z.jsx("input",{type:"file",className:"w-[90%] p-3 outline-none rounded-lg border-2 border-[#002f34] ring-2 ring-transparent focus:ring-2 focus:ring-[#001f24] transition duration-300",name:"images",onChange:d=>{const p=d.target.files;let y=Array.from(p);c.setFieldValue("images",y),i(p[0])},multiple:!0}),z.jsx("button",{className:`bg-[#002f34] w-[90%] p-3 rounded-lg capitalize border-4
            border-transparent hover:border-[#002f34] hover:bg-white
            hover:text-[#002f34] text-white relative `,type:"submit",children:"Add"})]})})},eL=()=>z.jsx(Yl,{to:"/",className:"ml-4",children:z.jsx("svg",{width:"48px",height:"48px",viewBox:"0 0 1024 1024","data-aut-id":"icon",className:"",fillRule:"evenodd",children:z.jsx("path",{className:"rui-w4DG7",d:"M661.333 256v512h-128v-512h128zM277.333 298.667c117.824 0 213.333 95.531 213.333 213.333s-95.509 213.333-213.333 213.333c-117.824 0-213.333-95.531-213.333-213.333s95.509-213.333 213.333-213.333zM794.496 384l37.504 37.504 37.504-37.504h90.496v90.496l-37.504 37.504 37.504 37.504v90.496h-90.496l-37.504-37.504-37.504 37.504h-90.496v-90.496l37.504-37.504-37.504-37.504v-90.496h90.496zM277.333 426.667c-47.061 0-85.333 38.293-85.333 85.333s38.272 85.333 85.333 85.333c47.061 0 85.333-38.293 85.333-85.333s-38.272-85.333-85.333-85.333z"})})});var dT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u0=ot.createContext&&ot.createContext(dT),As=function(){return As=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},As.apply(this,arguments)},tL=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t};function fT(n){return n&&n.map(function(e,t){return ot.createElement(e.tag,As({key:t},e.attr),fT(e.child))})}function Ui(n){return function(e){return ot.createElement(nL,As({attr:As({},n.attr)},e),fT(n.child))}}function nL(n){var e=function(t){var i=n.attr,o=n.size,l=n.title,c=tL(n,["attr","size","title"]),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),ot.createElement("svg",As({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:As(As({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ot.createElement("title",null,l),n.children)};return u0!==void 0?ot.createElement(u0.Consumer,null,function(t){return e(t)}):e(dT)}function Sp(n){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M201.4 342.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 274.7 86.6 137.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"}}]})(n)}function rL(n){return Ui({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(n)}function iL(n){return Ui({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(n)}function sL(n){return Ui({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(n)}function oL(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(n)}function aL(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"}}]})(n)}const lL=()=>{const{user:n}=U.useContext(bo),{firebase:e}=U.useContext(ai);let t=So();const[i,o]=U.useState(!1),l=()=>{o(!i)},c=()=>{e.auth().signOut(),t("/login")};return z.jsx("nav",{className:"bg-slate-50 h-16 shadow-md border-2 border-white fixed w-full top-0 z-[999] ",children:z.jsxs("div",{className:"flex justify-between items-center ",children:[z.jsxs("div",{className:"flex flex-1 ml-12 mt-2",children:[z.jsx(eL,{}),z.jsxs("div",{className:"flex bg-white items-center p-2 mx-3  max-sm:hidden rounded-md border-2  border-black",children:[z.jsx("input",{className:"w-52 focus:outline-none",type:"text",placeholder:"India"}),z.jsx(Sp,{})]}),z.jsx("input",{className:"max-sm:hidden  w-2/4 min-w-0 py-2 px-4 border-2 border-r-0 border-black rounded-md rounded-r-none focus:outline-none",type:"text",placeholder:"Search something"}),z.jsx("button",{className:"max-sm:hidden bg-[#002f34] px-3 rounded-md rounded-l-none",children:z.jsx(oL,{style:{fontSize:"1.5rem",color:"white"}})})]}),z.jsxs("div",{className:"flex gap-2 mr-10 mt-2 max-lg:ml-5 xl:-ml-40 ",children:[z.jsxs("div",{className:"flex items-center ",children:[z.jsx("p",{className:"pr-2 lg:pl-4 font-semibold text-black hover:text-opacity-[.8] cursor-pointer",children:"ENGLISH"}),z.jsx(Sp,{})]}),z.jsxs("div",{className:"flex gap-2 items-center",children:[z.jsx("div",{className:"relative inline-block text-left",children:n?z.jsxs("div",{className:"flex flex-col group",onMouseEnter:l,onMouseLeave:l,children:[z.jsx("span",{className:"cursor-pointer text-md font-semibold",children:n.displayName}),i&&z.jsx("div",{className:"rounded-md absolute mt-6 mr-4 bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100",children:z.jsx("button",{onClick:c,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 w-full text-left",children:"Logout"})})]}):z.jsx(Yl,{to:"/login",className:"text-lg font-semibold underline hover:no-underline",children:"Login"})}),z.jsxs("button",{className:`px-4 py-1 border-[6px] font-semibold border-t-[#23E5DB] border-r-[#3A77FF]
             border-l-[#FFCE32] border-b-[#3A77FF] divide-y-2 rounded-3xl shadow-xl inline-flex gap-1 items-center`,onClick:()=>t("/sell_product"),children:[z.jsx(sL,{})," Sell"]})]})]})]})})},uL=()=>z.jsxs("div",{className:"mt-16  p-3 flex max-sm:flex-col  justify-center shadow-md",children:[z.jsxs("div",{className:"flex items-center ml-2",children:[z.jsx("h1",{className:"pr-1",children:"All Categories"}),z.jsx(Sp,{style:{marginTop:"2px"}})]}),z.jsx("ul",{className:"ml-2 flex gap-3 max-sm:flex-col max-sm:gap-1 *:text-md cursor-pointer ",children:TP.map((n,e)=>z.jsx("li",{className:"hover:text-cyan-500",children:n},e))})]}),cL=()=>z.jsx(z.Fragment,{children:z.jsx(lL,{})});function hL(n){function e(o,l){return o.getFullYear()===l.getFullYear()&&o.getMonth()===l.getMonth()&&o.getDate()===l.getDate()}const t=new Date,i=new Date(n);if(e(i,t))return"Today";{const o={month:"short",day:"numeric"};return i.toLocaleDateString("en-US",o)}}const dL=({product:n})=>{const e=So(),{setProductDetails:t}=U.useContext(Lh);return z.jsxs("div",{className:"relative border border-slate-200 rounded-md shadow-md cursor-pointer",onClick:()=>{t(n),e("/product_details")},children:[z.jsx("img",{className:"py-1 mt-1 overflow-hidden h-40 object-contain w-full",src:n.imageUrl,alt:n.title,width:"100%"}),z.jsx("div",{className:"absolute top-5 right-6 bg-white rounded-3xl px-2 py-2",children:z.jsx(aL,{style:{fontSize:"1.5rem"}})}),z.jsxs("div",{className:"px-6 ",children:[z.jsxs("div",{className:"font-bold text-xl my-1",children:["₹ ",n.price.toLocaleString()]}),z.jsx("p",{className:"text-gray-700 text-base"}),z.jsx("h2",{className:"mb-2",children:hL(n.createdAt)})]})]})},fL=()=>z.jsxs("div",{className:" relative border border-slate-200 animate-pulse h-64 rounded",children:[z.jsx("div",{className:"py-1 mt-3 bg-gray-400 h-40 m-5 "}),z.jsxs("div",{className:"px-6",children:[z.jsx("div",{className:" my-1"}),z.jsx("p",{className:"bg-gray-500 h-4 mb-2 w-32"}),z.jsx("h2",{className:"mb-2 h-4 bg-gray-500 w-20"})]})]}),pL=()=>{const{firebase:n}=U.useContext(ai),[e,t]=U.useState([]),[i,o]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const d=(await uO(GD(vm,"products"))).docs.map(p=>({...p.data(),id:p.id}));t(d),o(!1)}catch(c){console.error("Erro ao buscar produtos:",c),o(!1)}})()},[]),z.jsxs(z.Fragment,{children:[z.jsx(_m,{}),z.jsx("h1",{className:"text-2xl font-medium pl-5 my-5",children:"Fresh Recommedation "}),z.jsx("div",{className:"max-w-[1324px] mx-auto grid lg:grid-cols-4 md:grid-cols-2 gap-2 px-[25px] mb-10",children:i?Array.from({length:8}).fill("").map((l,c)=>z.jsx(fL,{},c)):e.map(l=>z.jsx(dL,{product:l},l.id))})]})};function mL(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M376.2 224H268l52.4-186.9c.9-4.5-4.6-7.1-7.2-3.4L129.5 274.6c-3.8 5.6-.2 13.4 6.3 13.4H244l-52.4 186.9c-.9 4.5 4.6 7.1 7.2 3.4l183.7-240.8c3.7-5.7.2-13.5-6.3-13.5z"}}]})(n)}const gL=({title:n,price:e,description:t,user:i})=>z.jsxs("div",{className:"mt-5 px-10",children:[z.jsxs("div",{className:"flex gap-10 max-md:flex-col ",children:[z.jsxs("div",{className:"w-full md:max-w-[65%] py-4 bg-white rounded-lg pl-4 flex flex-col justify-center px-24",children:[z.jsxs("span",{className:"px-2 w-24 h-8 text-xs uppercase py-0.5 rounded-sm bg-[#ffce32] font-semibold  flex items-center justify-around",children:[z.jsx(mL,{}),"featured"]}),z.jsx("span",{className:"text-4xl font-bold mt-2",children:n})]}),z.jsxs("div",{className:"bg-white w-full md:max-w-[40%] rounded-lg p-4 mr-10 flex flex-col max-md:gap-3 justify-between box-border gap-2 items-center",children:[z.jsxs("span",{className:"text-5xl font-bold text-[#002f34]",children:["₹",e.toLocaleString()]}),z.jsx("button",{className:"w-full max-w-48  bg-[#002f34] text-white py-2 rounded-md border-4 hover:bg-white border-[#002f34] text-base font-semibold hover:text-[#002f34] hover:font-bold",children:"Make offer"})]})]}),z.jsxs("div",{className:"mt-5 flex justify-between flex-col mb-10",children:[z.jsx("div",{className:"w-full md:max-w-[55%] h-16 flex items-center text-2xl font-bold text-[#406367] bg-white rounded-t-lg pl-4 border-b-2 border[#d8dfe0]",children:z.jsx("span",{children:"Seller"})}),z.jsxs("ul",{className:"w-full md:max-w-[55%] bg-white rounded-b-lg pl-5 py-4 text-[#406367] text-base",children:[z.jsxs("li",{children:["Name : ",i==null?void 0:i.userName]}),z.jsxs("li",{children:["Phone : ",i==null?void 0:i.mobile]})]})]}),z.jsxs("div",{className:"mt-5 flex justify-between flex-col mb-10",children:[z.jsx("div",{className:"w-full md:max-w-[55%] h-16 flex items-center text-2xl font-bold text-[#406367] bg-white rounded-t-lg pl-4 border-b-2 border[#d8dfe0]",children:z.jsx("span",{children:"Description"})}),z.jsx("div",{className:"w-full md:max-w-[55%] bg-white rounded-b-lg pl-5 py-4 text-[#406367] text-base",children:z.jsx("ul",{children:t.split(" ").map(o=>z.jsx("li",{children:o},o))})})]})]}),bc=({heading:n,item:e})=>z.jsxs("div",{className:"my-2",children:[z.jsx("h1",{className:"uppercase mb-2 font-medium text-md",children:n}),z.jsx("ul",{className:"*:text-[#5597C1",children:e.map((t,i)=>z.jsx("li",{children:t},i))})]}),yL=()=>z.jsxs("footer",{className:"bg-[#EBEEEF]  absolute bottom-0 left-0 right-0 mt-5",children:[z.jsxs("div",{className:"flex justify-between gap-1 px-10",children:[z.jsx(bc,{heading:"Popular Locations",item:vP}),z.jsx(bc,{heading:"Trending Location",item:_P}),z.jsx(bc,{heading:"About Us",item:EP}),z.jsx(bc,{heading:"Olx",item:wP})]}),z.jsxs("div",{className:"bg-[#002F34] h-10 text-[#DEEFF9] flex justify-between px-5 items-center",children:[z.jsx("p",{children:"Help - Sitemap"}),z.jsxs("p",{children:["All rights reserved © ",new Date().getFullYear()," OLX"]})]})]});function vL(n){return Ui({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"128",cy:"256",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"circle",attr:{cx:"384",cy:"112",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"circle",attr:{cx:"384",cy:"400",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M169.83 279.53l172.34 96.94m0-240.94l-172.34 96.94"}}]})(n)}function _L(n){return Ui({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Heart"},child:[{tag:"path",attr:{d:"M12,20.043a.977.977,0,0,1-.7-.288L4.63,13.08A5.343,5.343,0,0,1,6.053,4.513,5.266,5.266,0,0,1,12,5.371a5.272,5.272,0,0,1,5.947-.858A5.343,5.343,0,0,1,19.37,13.08l-6.676,6.675A.977.977,0,0,1,12,20.043ZM8.355,4.963A4.015,4.015,0,0,0,6.511,5.4,4.4,4.4,0,0,0,4.122,8.643a4.345,4.345,0,0,0,1.215,3.73l6.675,6.675,6.651-6.675a4.345,4.345,0,0,0,1.215-3.73A4.4,4.4,0,0,0,17.489,5.4a4.338,4.338,0,0,0-4.968.852h0a.744.744,0,0,1-1.042,0A4.474,4.474,0,0,0,8.355,4.963Z"}}]}]})(n)}const EL=({imageUrl:n})=>{const[e,t]=U.useState(0),i=o=>{o==="next"?t((e+1)%n.length):o==="back"&&t((e-1+n.length)%n.length)};return z.jsxs("div",{className:"w-[75%] h-[30rem] bg-black relative mt-5",children:[z.jsx("button",{className:"absolute top-1/2 bottom-1/2 left-10 text-4xl",onClick:()=>i("back"),children:z.jsx(rL,{className:" text-white"})}),z.jsxs("div",{class:"absolute top-0 left-0 w-full h-14 custom-gradient flex justify-end items-end pr-10 gap-5",children:[z.jsx(vL,{className:"text-white w-8 h-8"}),z.jsx(_L,{className:"text-white w-8 h-8"})]}),z.jsx("img",{className:"w-full h-full object-contain",src:n[e],alt:""}),z.jsx("button",{className:"absolute top-1/2 bottom-1/2 right-10 text-4xl",onClick:()=>i("next"),children:z.jsx(iL,{className:"text-white text-4xl"})})]})},wL=()=>z.jsxs(z.Fragment,{children:[z.jsx(uL,{}),z.jsx(pL,{})]}),TL=()=>{const{firebase:n}=U.useContext(ai),{productDetails:e}=U.useContext(Lh),[t,i]=U.useState(null);return U.useEffect(()=>{n.firestore().collection("users").where("id","==",e.userId).get().then(o=>{i(o.docs[0].data())})},[]),z.jsxs("div",{className:"w-full flex items-center flex-col pt-20 bg-[#f2f4f5] pb-10",children:[z.jsx(EL,{imageUrl:e.imageUrl}),z.jsx(gL,{...e,user:t})]})},IL=()=>{const{setUser:n}=U.useContext(bo),{firebase:e}=U.useContext(ai);return U.useEffect(()=>{const t=qk(ym,i=>{n(i)});return()=>t()},[]),z.jsxs(z.Fragment,{children:[z.jsx(cL,{}),z.jsx(VS,{}),z.jsx(yL,{})]})},SL=()=>z.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 mx-3",children:z.jsxs("div",{className:"bg-white p-8  rounded-lg shadow-md max-w-md w-full text-center ",children:[z.jsx("h1",{className:"text-4xl font-bold text-red-500 mb-4",children:"404"}),z.jsx("p",{className:"text-gray-700 mb-4",children:"Page not found"}),z.jsx("p",{className:"text-gray-500",children:"The page you are looking for might be in another castle."}),z.jsx(Yl,{to:"/",className:"text-blue-500 hover:underline mt-4",children:"Go back home"})]})}),RL=({children:n})=>{const{user:e}=U.useContext(bo);return e?n:z.jsx(b0,{to:"/login"})},c0=({children:n})=>{const{user:e}=U.useContext(bo);return e?z.jsx(b0,{to:"/"}):n},CL=HS([{path:"",element:z.jsx(IL,{}),errorElement:z.jsx(SL,{}),children:[{path:"/",element:z.jsx(wL,{})},{path:"sell_product",element:z.jsx(RL,{children:z.jsx(ZO,{})})},{path:"product_details",element:z.jsx(TL,{})}]},{path:"/signUp",element:z.jsx(c0,{children:z.jsx(XO,{})})},{path:"/login",element:z.jsx(c0,{children:z.jsx(JO,{})})}]);AI.createRoot(document.getElementById("root")).render(z.jsx(ai.Provider,{value:{firebase:{auth:ym,db:vm,storage:lT}},children:z.jsx(UO,{children:z.jsx(zO,{children:z.jsx(ZS,{router:CL})})})}))});export default AL();
